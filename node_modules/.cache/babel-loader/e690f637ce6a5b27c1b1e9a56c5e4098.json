{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n * \n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n * \n */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.OktaAuth = t() : e.OktaAuth = t();\n}(\"undefined\" != typeof self ? self : this, function () {\n  return function (e) {\n    function t(n) {\n      if (r[n]) return r[n].exports;\n      var o = r[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n    }\n\n    var r = {};\n    return t.m = e, t.c = r, t.d = function (e, r, n) {\n      t.o(e, r) || Object.defineProperty(e, r, {\n        configurable: !1,\n        enumerable: !0,\n        get: n\n      });\n    }, t.n = function (e) {\n      var r = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return t.d(r, \"a\", r), r;\n    }, t.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, t.p = \"\", t(t.s = 11);\n  }([function (e, t) {\n    var r = e.exports;\n    r.stringToBase64Url = function (e) {\n      var t = btoa(e);\n      return r.base64ToBase64Url(t);\n    }, r.base64ToBase64Url = function (e) {\n      return e.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n    }, r.base64UrlToBase64 = function (e) {\n      return e.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    }, r.base64UrlToString = function (e) {\n      var t = r.base64UrlToBase64(e);\n\n      switch (t.length % 4) {\n        case 0:\n          break;\n\n        case 2:\n          t += \"==\";\n          break;\n\n        case 3:\n          t += \"=\";\n          break;\n\n        default:\n          throw \"Not a valid Base64Url\";\n      }\n\n      var n = atob(t);\n\n      try {\n        return decodeURIComponent(escape(n));\n      } catch (e) {\n        return n;\n      }\n    }, r.stringToBuffer = function (e) {\n      for (var t = new Uint8Array(e.length), r = 0; r < e.length; r++) t[r] = e.charCodeAt(r);\n\n      return t;\n    }, r.base64UrlDecode = function (e) {\n      return atob(r.base64UrlToBase64(e));\n    }, r.bind = function (e, t) {\n      var r = Array.prototype.slice.call(arguments, 2);\n      return function () {\n        var n = Array.prototype.slice.call(arguments);\n        return n = r.concat(n), e.apply(t, n);\n      };\n    }, r.isAbsoluteUrl = function (e) {\n      return /^(?:[a-z]+:)?\\/\\//i.test(e);\n    }, r.isString = function (e) {\n      return \"[object String]\" === Object.prototype.toString.call(e);\n    }, r.isObject = function (e) {\n      return \"[object Object]\" === Object.prototype.toString.call(e);\n    }, r.isNumber = function (e) {\n      return \"[object Number]\" === Object.prototype.toString.call(e);\n    }, r.isoToUTCString = function (e) {\n      var t = e.match(/\\d+/g),\n          r = Date.UTC(t[0], t[1] - 1, t[2], t[3], t[4], t[5]);\n      return new Date(r).toUTCString();\n    }, r.toQueryParams = function (e) {\n      var t = [];\n      if (null !== e) for (var r in e) e.hasOwnProperty(r) && void 0 !== e[r] && null !== e[r] && t.push(r + \"=\" + encodeURIComponent(e[r]));\n      return t.length ? \"?\" + t.join(\"&\") : \"\";\n    }, r.genRandomString = function (e) {\n      for (var t = \"abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", r = \"\", n = 0, o = t.length; n < e; ++n) r += t[Math.floor(Math.random() * o)];\n\n      return r;\n    }, r.extend = function () {\n      var e = arguments[0];\n      return [].slice.call(arguments, 1).forEach(function (t) {\n        for (var r in t) t.hasOwnProperty(r) && void 0 !== t[r] && (e[r] = t[r]);\n      }), e;\n    }, r.removeNils = function (e) {\n      var t = {};\n\n      for (var r in e) if (e.hasOwnProperty(r)) {\n        var n = e[r];\n        null !== n && void 0 !== n && (t[r] = n);\n      }\n\n      return t;\n    }, r.clone = function (e) {\n      if (e) {\n        var t = JSON.stringify(e);\n        if (t) return JSON.parse(t);\n      }\n\n      return e;\n    }, r.omit = function (e) {\n      var t = Array.prototype.slice.call(arguments, 1),\n          n = {};\n\n      for (var o in e) e.hasOwnProperty(o) && -1 == t.indexOf(o) && (n[o] = e[o]);\n\n      return r.clone(n);\n    }, r.find = function (e, t) {\n      for (var r = e.length; r--;) {\n        var n = e[r],\n            o = !0;\n\n        for (var i in t) if (t.hasOwnProperty(i) && n[i] !== t[i]) {\n          o = !1;\n          break;\n        }\n\n        if (o) return n;\n      }\n    }, r.getLink = function (e, t, n) {\n      if (e && e._links) {\n        var o = r.clone(e._links[t]);\n        return o && o.name && n ? o.name === n ? o : void 0 : o;\n      }\n    }, r.getNativeConsole = function () {\n      return \"undefined\" != typeof window ? window.console : \"undefined\" != typeof console ? console : void 0;\n    }, r.getConsole = function () {\n      var e = r.getNativeConsole();\n      return e && e.log ? e : {\n        log: function () {}\n      };\n    }, r.warn = function (e) {\n      r.getConsole().log(\"[okta-auth-sdk] WARN: \" + e);\n    }, r.deprecate = function (e) {\n      r.getConsole().log(\"[okta-auth-sdk] DEPRECATION: \" + e);\n    }, r.deprecateWrap = function (e, t) {\n      return function () {\n        return r.deprecate(e), t.apply(null, arguments);\n      };\n    }, r.removeTrailingSlash = function (e) {\n      if (e) {\n        var t = e.replace(/^\\s+|\\s+$/gm, \"\");\n        return t = t.replace(/\\/+$/, \"\");\n      }\n    }, r.isIE11OrLess = function () {\n      return !!document.documentMode && document.documentMode <= 11;\n    }, r.isFunction = function (e) {\n      return !!e && \"[object Function]\" === {}.toString.call(e);\n    }, r.delay = function (e) {\n      return new Promise(function (t) {\n        setTimeout(t, e);\n      });\n    }, r.isPromise = function (e) {\n      return e && e.finally && \"function\" == typeof e.finally;\n    };\n  }, function (e, t) {\n    function r(e, t) {\n      this.name = \"AuthSdkError\", this.message = e, this.errorCode = \"INTERNAL\", this.errorSummary = e, this.errorLink = \"INTERNAL\", this.errorId = \"INTERNAL\", this.errorCauses = [], t && (this.xhr = t);\n    }\n\n    r.prototype = new Error(), e.exports = r;\n  }, function (e, t, r) {\n    var n = r(14),\n        o = r(7),\n        i = r(3),\n        s = r(1),\n        a = {};\n    a.browserHasLocalStorage = function () {\n      try {\n        var e = a.getLocalStorage();\n        return a.testStorage(e);\n      } catch (e) {\n        return !1;\n      }\n    }, a.browserHasSessionStorage = function () {\n      try {\n        var e = a.getSessionStorage();\n        return a.testStorage(e);\n      } catch (e) {\n        return !1;\n      }\n    }, a.getPKCEStorage = function (e) {\n      return e = e || {}, !e.preferLocalStorage && a.browserHasSessionStorage() ? o(a.getSessionStorage(), i.PKCE_STORAGE_NAME) : a.browserHasLocalStorage() ? o(a.getLocalStorage(), i.PKCE_STORAGE_NAME) : o(a.getCookieStorage(e), i.PKCE_STORAGE_NAME);\n    }, a.getHttpCache = function (e) {\n      return a.browserHasLocalStorage() ? o(a.getLocalStorage(), i.CACHE_STORAGE_NAME) : a.browserHasSessionStorage() ? o(a.getSessionStorage(), i.CACHE_STORAGE_NAME) : o(a.getCookieStorage(e), i.CACHE_STORAGE_NAME);\n    }, a.getLocalStorage = function () {\n      return localStorage;\n    }, a.getSessionStorage = function () {\n      return sessionStorage;\n    }, a.getCookieStorage = function (e) {\n      var t = e.secure,\n          r = e.sameSite;\n      if (void 0 === t || void 0 === r) throw new s('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n      return {\n        getItem: a.storage.get,\n        setItem: function (e, n) {\n          a.storage.set(e, n, \"2200-01-01T00:00:00.000Z\", {\n            secure: t,\n            sameSite: r\n          });\n        }\n      };\n    }, a.getInMemoryStorage = function () {\n      var e = {};\n      return {\n        getItem: function (t) {\n          return e[t];\n        },\n        setItem: function (t, r) {\n          e[t] = r;\n        }\n      };\n    }, a.testStorage = function (e) {\n      var t = \"okta-test-storage\";\n\n      try {\n        return e.setItem(t, t), e.removeItem(t), !0;\n      } catch (e) {\n        return !1;\n      }\n    }, a.storage = {\n      set: function (e, t, r, o) {\n        var i = o.secure,\n            u = o.sameSite;\n        if (void 0 === i || void 0 === u) throw new s('storage.set: \"secure\" and \"sameSite\" options must be provided');\n        var c = {\n          path: o.path || \"/\",\n          secure: i,\n          sameSite: u\n        };\n        return Date.parse(r) && (c.expires = new Date(r)), n.set(e, t, c), a.storage.get(e);\n      },\n      get: function (e) {\n        return n.get(e);\n      },\n      delete: function (e) {\n        return n.remove(e, {\n          path: \"/\"\n        });\n      }\n    }, e.exports = a;\n  }, function (e, t) {\n    e.exports = {\n      STATE_TOKEN_KEY_NAME: \"oktaStateToken\",\n      DEFAULT_POLLING_DELAY: 500,\n      DEFAULT_MAX_CLOCK_SKEW: 300,\n      DEFAULT_CACHE_DURATION: 86400,\n      REDIRECT_OAUTH_PARAMS_NAME: \"okta-oauth-redirect-params\",\n      REDIRECT_STATE_COOKIE_NAME: \"okta-oauth-state\",\n      REDIRECT_NONCE_COOKIE_NAME: \"okta-oauth-nonce\",\n      TOKEN_STORAGE_NAME: \"okta-token-storage\",\n      CACHE_STORAGE_NAME: \"okta-cache-storage\",\n      PKCE_STORAGE_NAME: \"okta-pkce-storage\",\n      ACCESS_TOKEN_STORAGE_KEY: \"accessToken\",\n      ID_TOKEN_STORAGE_KEY: \"idToken\"\n    };\n  }, function (e, t, r) {\n    function n(e, t) {\n      t = t || {};\n      var r = t.url,\n          n = t.method,\n          o = t.args,\n          i = t.saveAuthnState,\n          c = t.accessToken,\n          l = !1 !== t.withCredentials,\n          f = e.options.storageUtil,\n          p = f.storage,\n          h = f.getHttpCache(e.options.cookies);\n\n      if (t.cacheResponse) {\n        var d = h.getStorage(),\n            g = d[r];\n        if (g && Date.now() / 1e3 < g.expiresAt) return Promise.resolve(g.response);\n      }\n\n      var m = {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"X-Okta-User-Agent-Extended\": e.userAgent\n      };\n      s.extend(m, e.options.headers, t.headers), c && s.isString(c) && (m.Authorization = \"Bearer \" + c);\n      var y,\n          v,\n          w = {\n        headers: m,\n        data: o || void 0,\n        withCredentials: l\n      };\n      return e.options.httpRequestClient(n, r, w).then(function (n) {\n        return v = n.responseText, v && s.isString(v) && (v = JSON.parse(v)), i && (v.stateToken || p.delete(u.STATE_TOKEN_KEY_NAME)), v && v.stateToken && v.expiresAt && p.set(u.STATE_TOKEN_KEY_NAME, v.stateToken, v.expiresAt, e.options.cookies), v && t.cacheResponse && h.updateStorage(r, {\n          expiresAt: Math.floor(Date.now() / 1e3) + u.DEFAULT_CACHE_DURATION,\n          response: v\n        }), v;\n      }).catch(function (t) {\n        var r = t.responseText || {};\n        if (s.isString(r)) try {\n          r = JSON.parse(r);\n        } catch (e) {\n          r = {\n            errorSummary: \"Unknown error\"\n          };\n        }\n        throw t.status >= 500 && (r.errorSummary = \"Unknown error\"), e.options.transformErrorXHR && (t = e.options.transformErrorXHR(s.clone(t))), y = new a(r, t), \"E0000011\" === y.errorCode && p.delete(u.STATE_TOKEN_KEY_NAME), y;\n      });\n    }\n\n    function o(e, t, r) {\n      t = s.isAbsoluteUrl(t) ? t : e.getIssuerOrigin() + t;\n      var o = {\n        url: t,\n        method: \"GET\"\n      };\n      return s.extend(o, r), n(e, o);\n    }\n\n    function i(e, t, r, o) {\n      t = s.isAbsoluteUrl(t) ? t : e.getIssuerOrigin() + t;\n      var i = {\n        url: t,\n        method: \"POST\",\n        args: r,\n        saveAuthnState: !0\n      };\n      return s.extend(i, o), n(e, i);\n    }\n\n    var s = r(0),\n        a = r(19),\n        u = r(3);\n    e.exports = {\n      get: o,\n      post: i,\n      httpRequest: n\n    };\n  }, function (e, t, r) {\n    function n() {\n      return T.genRandomString(64);\n    }\n\n    function o() {\n      return T.genRandomString(64);\n    }\n\n    function i(e) {\n      return !(!e || !e.accessToken && !e.idToken || !Array.isArray(e.scopes));\n    }\n\n    function s(e, t, r) {\n      e.addEventListener ? e.addEventListener(t, r) : e.attachEvent(\"on\" + t, r);\n    }\n\n    function a(e, t, r) {\n      e.removeEventListener ? e.removeEventListener(t, r) : e.detachEvent(\"on\" + t, r);\n    }\n\n    function u(e) {\n      var t = document.createElement(\"iframe\");\n      return t.style.display = \"none\", t.src = e, document.body.appendChild(t);\n    }\n\n    function c(e, t) {\n      var r = t.popupTitle || \"External Identity Provider User Authentication\",\n          n = \"toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600\";\n\n      if (T.isIE11OrLess()) {\n        var o = window.open(\"/\", r, n);\n        return o.location.href = e, o;\n      }\n\n      return window.open(e, r, n);\n    }\n\n    function l(e, t) {\n      var r = t || e.options.issuer;\n      return w.get(e, r + \"/.well-known/openid-configuration\", {\n        cacheResponse: !0\n      });\n    }\n\n    function f(e, t, r) {\n      var n = k.getHttpCache(e.options.cookies);\n      return l(e, t).then(function (t) {\n        var o = t.jwks_uri,\n            i = n.getStorage(),\n            s = i[o];\n\n        if (s && Date.now() / 1e3 < s.expiresAt) {\n          var a = T.find(s.response.keys, {\n            kid: r\n          });\n          if (a) return a;\n        }\n\n        return n.clearStorage(o), w.get(e, o, {\n          cacheResponse: !0\n        }).then(function (e) {\n          var t = T.find(e.keys, {\n            kid: r\n          });\n          if (t) return t;\n          throw new S(\"The key id, \" + r + \", was not found in the server's keys\");\n        });\n      });\n    }\n\n    function p(e, t, r) {\n      var n = r.clientId,\n          o = r.issuer,\n          i = r.nonce;\n      if (!t || !o || !n) throw new S(\"The jwt, iss, and aud arguments are all required\");\n      if (i && t.nonce !== i) throw new S(\"OAuth flow response nonce doesn't match request nonce\");\n      var s = Math.floor(Date.now() / 1e3);\n      if (t.iss !== o) throw new S(\"The issuer [\" + t.iss + \"] does not match [\" + o + \"]\");\n      if (t.aud !== n) throw new S(\"The audience [\" + t.aud + \"] does not match [\" + n + \"]\");\n      if (t.iat > t.exp) throw new S(\"The JWT expired before it was issued\");\n      if (s - e.options.maxClockSkew > t.exp) throw new S(\"The JWT expired and is no longer valid\");\n      if (t.iat > s + e.options.maxClockSkew) throw new S(\"The JWT was issued in the future\");\n    }\n\n    function h(e, t) {\n      if (arguments.length > 2) throw new S('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n      t = t || {};\n      var r = T.removeTrailingSlash(t.authorizeUrl) || e.options.authorizeUrl,\n          n = T.removeTrailingSlash(t.issuer) || e.options.issuer,\n          o = T.removeTrailingSlash(t.userinfoUrl) || e.options.userinfoUrl,\n          i = T.removeTrailingSlash(t.tokenUrl) || e.options.tokenUrl,\n          s = T.removeTrailingSlash(t.logoutUrl) || e.options.logoutUrl,\n          a = T.removeTrailingSlash(t.revokeUrl) || e.options.revokeUrl,\n          u = n.indexOf(\"/oauth2\") > 0 ? n : n + \"/oauth2\";\n      return r = r || u + \"/v1/authorize\", o = o || u + \"/v1/userinfo\", i = i || u + \"/v1/token\", a = a || u + \"/v1/revoke\", s = s || u + \"/v1/logout\", {\n        issuer: n,\n        authorizeUrl: r,\n        userinfoUrl: o,\n        tokenUrl: i,\n        revokeUrl: a,\n        logoutUrl: s\n      };\n    }\n\n    function d(e) {\n      var t = /\\+/g,\n          r = /([^&=]+)=?([^&]*)/g,\n          n = e;\n      \"#\" === n.charAt(0) && \"/\" === n.charAt(1) && (n = n.substring(2)), \"#\" !== n.charAt(0) && \"?\" !== n.charAt(0) || (n = n.substring(1));\n\n      for (var o, i = {};;) {\n        if (!(o = r.exec(n))) break;\n        var s = o[1],\n            a = o[2];\n        i[s] = \"id_token\" === s || \"access_token\" === s || \"code\" === s ? a : decodeURIComponent(a.replace(t, \" \"));\n      }\n\n      return i;\n    }\n\n    function g(e) {\n      return /((id|access)_token=)/i.test(e);\n    }\n\n    function m(e) {\n      return /(code=)/i.test(e);\n    }\n\n    function y(e, t) {\n      var r = t.options;\n      return e && 0 == e.indexOf(r.redirectUri);\n    }\n\n    function v(e) {\n      var t = e.options;\n\n      if (t.pkce || \"code\" === t.responseType || \"query\" === t.responseMode) {\n        var r = m(\"fragment\" === t.responseMode ? window.location.hash : window.location.search);\n        return y(window.location.href, e) && r;\n      }\n\n      return g(window.location.hash);\n    }\n\n    var w = r(4),\n        T = r(0),\n        k = r(2),\n        S = r(1);\n    e.exports = {\n      generateState: n,\n      generateNonce: o,\n      getWellKnown: l,\n      getKey: f,\n      validateClaims: p,\n      getOAuthUrls: h,\n      loadFrame: u,\n      loadPopup: c,\n      urlParamsToObject: d,\n      isToken: i,\n      addListener: s,\n      removeListener: a,\n      isLoginRedirect: v\n    };\n  }, function (e, t) {\n    function r(t) {\n      return \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? e.exports = r = function (e) {\n        return typeof e;\n      } : e.exports = r = function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      }, r(t);\n    }\n\n    e.exports = r;\n  }, function (e, t, r) {\n    function n(e, t) {\n      function r() {\n        var r = e.getItem(t);\n        r = r || \"{}\";\n\n        try {\n          return JSON.parse(r);\n        } catch (e) {\n          throw new o(\"Unable to parse storage string: \" + t);\n        }\n      }\n\n      function n(r) {\n        try {\n          var n = JSON.stringify(r);\n          e.setItem(t, n);\n        } catch (e) {\n          throw new o(\"Unable to set storage: \" + t);\n        }\n      }\n\n      function i(e) {\n        if (!e) return n({});\n        var t = r();\n        delete t[e], n(t);\n      }\n\n      function s(e, t) {\n        var o = r();\n        o[e] = t, n(o);\n      }\n\n      if (\"string\" != typeof t || !t.length) throw new o('\"storageName\" is required');\n      return {\n        getStorage: r,\n        setStorage: n,\n        clearStorage: i,\n        updateStorage: s\n      };\n    }\n\n    var o = r(1);\n    e.exports = n;\n  }, function (e, t, r) {\n    e.exports = r(16);\n  }, function (e, t) {\n    function r(e, t, r, n, o, i, s) {\n      try {\n        var a = e[i](s),\n            u = a.value;\n      } catch (e) {\n        return void r(e);\n      }\n\n      a.done ? t(u) : Promise.resolve(u).then(n, o);\n    }\n\n    function n(e) {\n      return function () {\n        var t = this,\n            n = arguments;\n        return new Promise(function (o, i) {\n          function s(e) {\n            r(u, o, i, s, a, \"next\", e);\n          }\n\n          function a(e) {\n            r(u, o, i, s, a, \"throw\", e);\n          }\n\n          var u = e.apply(t, n);\n          s(void 0);\n        });\n      };\n    }\n\n    e.exports = n;\n  }, function (e, t, r) {\n    function n(e, t) {\n      var r = {};\n      return y.extend(r, t), !r.stateToken && e.stateToken && (r.stateToken = e.stateToken), r;\n    }\n\n    function o(e) {\n      return n(e);\n    }\n\n    function i(e, t) {\n      return t = n(e, t), m.post(e, e.getIssuerOrigin() + \"/api/v1/authn\", t);\n    }\n\n    function s(e, t) {\n      if (!t || !t.stateToken) {\n        var r = e.tx.exists._get(T.STATE_TOKEN_KEY_NAME);\n\n        if (!r) return Promise.reject(new v(\"No transaction to resume\"));\n        t = {\n          stateToken: r\n        };\n      }\n\n      return e.tx.status(t).then(function (t) {\n        return new g(e, t);\n      });\n    }\n\n    function a(e, t) {\n      if (!t || !t.stateToken) {\n        var r = e.tx.exists._get(T.STATE_TOKEN_KEY_NAME);\n\n        if (!r) return Promise.reject(new v(\"No transaction to evaluate\"));\n        t = {\n          stateToken: r\n        };\n      }\n\n      return u(e, t).then(function (t) {\n        return new g(e, t);\n      });\n    }\n\n    function u(e, t) {\n      return t = n(e, t), m.post(e, e.getIssuerOrigin() + \"/api/v1/authn/introspect\", t);\n    }\n\n    function c(e) {\n      return !!e.tx.exists._get(T.STATE_TOKEN_KEY_NAME);\n    }\n\n    function l(e, t, r, n) {\n      return m.post(e, t, r, n).then(function (t) {\n        return new g(e, t);\n      });\n    }\n\n    function f(e, t, r) {\n      return function (n) {\n        function i() {\n          var r = {};\n          if (\"function\" == typeof u) try {\n            r.autoPush = !!u();\n          } catch (e) {\n            return Promise.reject(new v(\"AutoPush resulted in an error.\"));\n          } else void 0 !== u && null !== u && (r.autoPush = !!u);\n          if (\"function\" == typeof a) try {\n            r.rememberDevice = !!a();\n          } catch (e) {\n            return Promise.reject(new v(\"RememberDevice resulted in an error.\"));\n          } else void 0 !== a && null !== a && (r.rememberDevice = !!a);\n          var n = l.href + y.toQueryParams(r);\n          return m.post(e, n, o(t), {\n            saveAuthnState: !1\n          });\n        }\n\n        var s, a, u, c;\n        y.isNumber(n) ? s = n : y.isObject(n) && (s = n.delay, a = n.rememberDevice, u = n.autoPush, c = n.transactionCallBack), s || 0 === s || (s = T.DEFAULT_POLLING_DELAY);\n        var l = y.getLink(t, \"next\", \"poll\");\n        r.isPolling = !0;\n        var f = 0;\n        return function t() {\n          return r.isPolling ? i().then(function (n) {\n            if (f = 0, n.factorResult && \"WAITING\" === n.factorResult) {\n              if (!r.isPolling) throw new w();\n              return \"function\" == typeof c && c(n), y.delay(s).then(t);\n            }\n\n            return r.isPolling = !1, new g(e, n);\n          }).catch(function (e) {\n            if (e.xhr && (0 === e.xhr.status || 429 === e.xhr.status) && f <= 4) {\n              var r = 1e3 * Math.pow(2, f);\n              return f++, y.delay(r).then(t);\n            }\n\n            throw e;\n          }) : Promise.reject(new w());\n        }().catch(function (e) {\n          throw r.isPolling = !1, e;\n        });\n      };\n    }\n\n    function p(e, t, r, o, i) {\n      if (Array.isArray(o)) return function (n, s) {\n        if (!n) throw new v(\"Must provide a link name\");\n        var a = y.find(o, {\n          name: n\n        });\n        if (!a) throw new v(\"No link found for that name\");\n        return p(e, t, r, a, i)(s);\n      };\n\n      if (o.hints && o.hints.allow && 1 === o.hints.allow.length) {\n        switch (o.hints.allow[0]) {\n          case \"GET\":\n            return function () {\n              return m.get(e, o.href);\n            };\n\n          case \"POST\":\n            return function (s) {\n              i && i.isPolling && (i.isPolling = !1);\n              var a = n(t, s);\n              \"MFA_ENROLL\" !== t.status && \"FACTOR_ENROLL\" !== t.status || y.extend(a, {\n                factorType: r.factorType,\n                provider: r.provider\n              });\n              var u = {},\n                  c = a.autoPush;\n\n              if (void 0 !== c) {\n                if (\"function\" == typeof c) try {\n                  u.autoPush = !!c();\n                } catch (e) {\n                  return Promise.reject(new v(\"AutoPush resulted in an error.\"));\n                } else null !== c && (u.autoPush = !!c);\n                a = y.omit(a, \"autoPush\");\n              }\n\n              var f = a.rememberDevice;\n\n              if (void 0 !== f) {\n                if (\"function\" == typeof f) try {\n                  u.rememberDevice = !!f();\n                } catch (e) {\n                  return Promise.reject(new v(\"RememberDevice resulted in an error.\"));\n                } else null !== f && (u.rememberDevice = !!f);\n                a = y.omit(a, \"rememberDevice\");\n              } else a.profile && void 0 !== a.profile.updatePhone && (a.profile.updatePhone && (u.updatePhone = !0), a.profile = y.omit(a.profile, \"updatePhone\"));\n\n              var p = o.href + y.toQueryParams(u);\n              return l(e, p, a);\n            };\n        }\n      }\n    }\n\n    function h(e, t, r, n) {\n      var o = {};\n\n      for (var i in r._links) if (r._links.hasOwnProperty(i)) {\n        var s = r._links[i];\n        if (\"next\" === i && (i = s.name), s.type) o[i] = s;else switch (i) {\n          case \"poll\":\n            o.poll = f(e, t, n);\n            break;\n\n          default:\n            var a = p(e, t, r, s, n);\n            a && (o[i] = a);\n        }\n      }\n\n      return o;\n    }\n\n    function d(e, t, r, n) {\n      if (r = r || t, r = y.clone(r), Array.isArray(r)) {\n        for (var o = [], i = 0, s = r.length; i < s; i++) o.push(d(e, t, r[i], n));\n\n        return o;\n      }\n\n      var a = r._embedded || {};\n\n      for (var u in a) a.hasOwnProperty(u) && (y.isObject(a[u]) || Array.isArray(a[u])) && (a[u] = d(e, t, a[u], n));\n\n      var c = h(e, t, r, n);\n      return y.extend(a, c), r = y.omit(r, \"_embedded\", \"_links\"), y.extend(r, a), r;\n    }\n\n    function g(e, t) {\n      t && (this.data = t, y.extend(this, d(e, t, t, {})), delete this.stateToken, \"RECOVERY_CHALLENGE\" !== t.status || t._links || (this.cancel = function () {\n        return Promise.resolve(new g(e));\n      }));\n    }\n\n    var m = r(4),\n        y = r(0),\n        v = r(1),\n        w = r(20),\n        T = r(3);\n    e.exports = {\n      transactionStatus: i,\n      resumeTransaction: s,\n      transactionExists: c,\n      postToTransaction: l,\n      introspect: a\n    };\n  }, function (e, t, r) {\n    var n = r(12),\n        o = r(2);\n    e.exports = r(15)(o, n);\n  }, function (e, t, r) {\n    function n(e) {\n      return e.headers.get(\"Content-Type\") && e.headers.get(\"Content-Type\").toLowerCase().indexOf(\"application/json\") >= 0 ? e.json().catch(function (e) {\n        return {\n          error: e,\n          errorSummary: \"Could not parse server response\"\n        };\n      }) : e.text();\n    }\n\n    function o(e, t) {\n      var r = \"object\" === s(t),\n          n = {\n        responseText: r ? JSON.stringify(t) : t,\n        status: e\n      };\n      return r && (n.responseType = \"json\", n.responseJSON = t), n;\n    }\n\n    function i(e, t, r) {\n      var i = r.data,\n          s = r.headers || {};\n      return \"application/json\" === (s[\"Content-Type\"] || s[\"content-type\"] || \"\") && i && \"string\" != typeof i && (i = JSON.stringify(i)), a(t, {\n        method: e,\n        headers: r.headers,\n        body: i,\n        credentials: r.withCredentials ? \"include\" : \"omit\"\n      }).then(function (e) {\n        var t = !e.ok,\n            r = e.status;\n        return n(e).then(function (e) {\n          return o(r, e);\n        }).then(function (e) {\n          if (t) throw e;\n          return e;\n        });\n      });\n    }\n\n    var s = r(6),\n        a = r(13);\n    e.exports = i;\n  }, function (e, t) {\n    var r = function (e) {\n      function t() {\n        this.fetch = !1, this.DOMException = e.DOMException;\n      }\n\n      return t.prototype = e, new t();\n    }(\"undefined\" != typeof self ? self : this);\n\n    !function (e) {\n      !function (t) {\n        function r(e) {\n          return e && DataView.prototype.isPrototypeOf(e);\n        }\n\n        function n(e) {\n          if (\"string\" != typeof e && (e = String(e)), /[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError(\"Invalid character in header field name\");\n          return e.toLowerCase();\n        }\n\n        function o(e) {\n          return \"string\" != typeof e && (e = String(e)), e;\n        }\n\n        function i(e) {\n          var t = {\n            next: function () {\n              var t = e.shift();\n              return {\n                done: void 0 === t,\n                value: t\n              };\n            }\n          };\n          return T.iterable && (t[Symbol.iterator] = function () {\n            return t;\n          }), t;\n        }\n\n        function s(e) {\n          this.map = {}, e instanceof s ? e.forEach(function (e, t) {\n            this.append(t, e);\n          }, this) : Array.isArray(e) ? e.forEach(function (e) {\n            this.append(e[0], e[1]);\n          }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) {\n            this.append(t, e[t]);\n          }, this);\n        }\n\n        function a(e) {\n          if (e.bodyUsed) return Promise.reject(new TypeError(\"Already read\"));\n          e.bodyUsed = !0;\n        }\n\n        function u(e) {\n          return new Promise(function (t, r) {\n            e.onload = function () {\n              t(e.result);\n            }, e.onerror = function () {\n              r(e.error);\n            };\n          });\n        }\n\n        function c(e) {\n          var t = new FileReader(),\n              r = u(t);\n          return t.readAsArrayBuffer(e), r;\n        }\n\n        function l(e) {\n          var t = new FileReader(),\n              r = u(t);\n          return t.readAsText(e), r;\n        }\n\n        function f(e) {\n          for (var t = new Uint8Array(e), r = new Array(t.length), n = 0; n < t.length; n++) r[n] = String.fromCharCode(t[n]);\n\n          return r.join(\"\");\n        }\n\n        function p(e) {\n          if (e.slice) return e.slice(0);\n          var t = new Uint8Array(e.byteLength);\n          return t.set(new Uint8Array(e)), t.buffer;\n        }\n\n        function h() {\n          return this.bodyUsed = !1, this._initBody = function (e) {\n            this._bodyInit = e, e ? \"string\" == typeof e ? this._bodyText = e : T.blob && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : T.formData && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : T.searchParams && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : T.arrayBuffer && T.blob && r(e) ? (this._bodyArrayBuffer = p(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : T.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || S(e)) ? this._bodyArrayBuffer = p(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = \"\", this.headers.get(\"content-type\") || (\"string\" == typeof e ? this.headers.set(\"content-type\", \"text/plain;charset=UTF-8\") : this._bodyBlob && this._bodyBlob.type ? this.headers.set(\"content-type\", this._bodyBlob.type) : T.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set(\"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\"));\n          }, T.blob && (this.blob = function () {\n            var e = a(this);\n            if (e) return e;\n            if (this._bodyBlob) return Promise.resolve(this._bodyBlob);\n            if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));\n            if (this._bodyFormData) throw new Error(\"could not read FormData body as blob\");\n            return Promise.resolve(new Blob([this._bodyText]));\n          }, this.arrayBuffer = function () {\n            return this._bodyArrayBuffer ? a(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(c);\n          }), this.text = function () {\n            var e = a(this);\n            if (e) return e;\n            if (this._bodyBlob) return l(this._bodyBlob);\n            if (this._bodyArrayBuffer) return Promise.resolve(f(this._bodyArrayBuffer));\n            if (this._bodyFormData) throw new Error(\"could not read FormData body as text\");\n            return Promise.resolve(this._bodyText);\n          }, T.formData && (this.formData = function () {\n            return this.text().then(m);\n          }), this.json = function () {\n            return this.text().then(JSON.parse);\n          }, this;\n        }\n\n        function d(e) {\n          var t = e.toUpperCase();\n          return b.indexOf(t) > -1 ? t : e;\n        }\n\n        function g(e, t) {\n          t = t || {};\n          var r = t.body;\n\n          if (e instanceof g) {\n            if (e.bodyUsed) throw new TypeError(\"Already read\");\n            this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new s(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, r || null == e._bodyInit || (r = e._bodyInit, e.bodyUsed = !0);\n          } else this.url = String(e);\n\n          if (this.credentials = t.credentials || this.credentials || \"same-origin\", !t.headers && this.headers || (this.headers = new s(t.headers)), this.method = d(t.method || this.method || \"GET\"), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, (\"GET\" === this.method || \"HEAD\" === this.method) && r) throw new TypeError(\"Body not allowed for GET or HEAD requests\");\n\n          this._initBody(r);\n        }\n\n        function m(e) {\n          var t = new FormData();\n          return e.trim().split(\"&\").forEach(function (e) {\n            if (e) {\n              var r = e.split(\"=\"),\n                  n = r.shift().replace(/\\+/g, \" \"),\n                  o = r.join(\"=\").replace(/\\+/g, \" \");\n              t.append(decodeURIComponent(n), decodeURIComponent(o));\n            }\n          }), t;\n        }\n\n        function y(e) {\n          var t = new s();\n          return e.replace(/\\r?\\n[\\t ]+/g, \" \").split(/\\r?\\n/).forEach(function (e) {\n            var r = e.split(\":\"),\n                n = r.shift().trim();\n\n            if (n) {\n              var o = r.join(\":\").trim();\n              t.append(n, o);\n            }\n          }), t;\n        }\n\n        function v(e, t) {\n          t || (t = {}), this.type = \"default\", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = \"statusText\" in t ? t.statusText : \"OK\", this.headers = new s(t.headers), this.url = t.url || \"\", this._initBody(e);\n        }\n\n        function w(e, r) {\n          return new Promise(function (n, o) {\n            function i() {\n              a.abort();\n            }\n\n            var s = new g(e, r);\n            if (s.signal && s.signal.aborted) return o(new t.DOMException(\"Aborted\", \"AbortError\"));\n            var a = new XMLHttpRequest();\n            a.onload = function () {\n              var e = {\n                status: a.status,\n                statusText: a.statusText,\n                headers: y(a.getAllResponseHeaders() || \"\")\n              };\n              e.url = \"responseURL\" in a ? a.responseURL : e.headers.get(\"X-Request-URL\");\n              var t = \"response\" in a ? a.response : a.responseText;\n              n(new v(t, e));\n            }, a.onerror = function () {\n              o(new TypeError(\"Network request failed\"));\n            }, a.ontimeout = function () {\n              o(new TypeError(\"Network request failed\"));\n            }, a.onabort = function () {\n              o(new t.DOMException(\"Aborted\", \"AbortError\"));\n            }, a.open(s.method, s.url, !0), \"include\" === s.credentials ? a.withCredentials = !0 : \"omit\" === s.credentials && (a.withCredentials = !1), \"responseType\" in a && T.blob && (a.responseType = \"blob\"), s.headers.forEach(function (e, t) {\n              a.setRequestHeader(t, e);\n            }), s.signal && (s.signal.addEventListener(\"abort\", i), a.onreadystatechange = function () {\n              4 === a.readyState && s.signal.removeEventListener(\"abort\", i);\n            }), a.send(void 0 === s._bodyInit ? null : s._bodyInit);\n          });\n        }\n\n        var T = {\n          searchParams: \"URLSearchParams\" in e,\n          iterable: \"Symbol\" in e && \"iterator\" in Symbol,\n          blob: \"FileReader\" in e && \"Blob\" in e && function () {\n            try {\n              return new Blob(), !0;\n            } catch (e) {\n              return !1;\n            }\n          }(),\n          formData: \"FormData\" in e,\n          arrayBuffer: \"ArrayBuffer\" in e\n        };\n        if (T.arrayBuffer) var k = [\"[object Int8Array]\", \"[object Uint8Array]\", \"[object Uint8ClampedArray]\", \"[object Int16Array]\", \"[object Uint16Array]\", \"[object Int32Array]\", \"[object Uint32Array]\", \"[object Float32Array]\", \"[object Float64Array]\"],\n            S = ArrayBuffer.isView || function (e) {\n          return e && k.indexOf(Object.prototype.toString.call(e)) > -1;\n        };\n        s.prototype.append = function (e, t) {\n          e = n(e), t = o(t);\n          var r = this.map[e];\n          this.map[e] = r ? r + \", \" + t : t;\n        }, s.prototype.delete = function (e) {\n          delete this.map[n(e)];\n        }, s.prototype.get = function (e) {\n          return e = n(e), this.has(e) ? this.map[e] : null;\n        }, s.prototype.has = function (e) {\n          return this.map.hasOwnProperty(n(e));\n        }, s.prototype.set = function (e, t) {\n          this.map[n(e)] = o(t);\n        }, s.prototype.forEach = function (e, t) {\n          for (var r in this.map) this.map.hasOwnProperty(r) && e.call(t, this.map[r], r, this);\n        }, s.prototype.keys = function () {\n          var e = [];\n          return this.forEach(function (t, r) {\n            e.push(r);\n          }), i(e);\n        }, s.prototype.values = function () {\n          var e = [];\n          return this.forEach(function (t) {\n            e.push(t);\n          }), i(e);\n        }, s.prototype.entries = function () {\n          var e = [];\n          return this.forEach(function (t, r) {\n            e.push([r, t]);\n          }), i(e);\n        }, T.iterable && (s.prototype[Symbol.iterator] = s.prototype.entries);\n        var b = [\"DELETE\", \"GET\", \"HEAD\", \"OPTIONS\", \"POST\", \"PUT\"];\n        g.prototype.clone = function () {\n          return new g(this, {\n            body: this._bodyInit\n          });\n        }, h.call(g.prototype), h.call(v.prototype), v.prototype.clone = function () {\n          return new v(this._bodyInit, {\n            status: this.status,\n            statusText: this.statusText,\n            headers: new s(this.headers),\n            url: this.url\n          });\n        }, v.error = function () {\n          var e = new v(null, {\n            status: 0,\n            statusText: \"\"\n          });\n          return e.type = \"error\", e;\n        };\n        var E = [301, 302, 303, 307, 308];\n        v.redirect = function (e, t) {\n          if (-1 === E.indexOf(t)) throw new RangeError(\"Invalid status code\");\n          return new v(null, {\n            status: t,\n            headers: {\n              location: e\n            }\n          });\n        }, t.DOMException = e.DOMException;\n\n        try {\n          new t.DOMException();\n        } catch (e) {\n          t.DOMException = function (e, t) {\n            this.message = e, this.name = t;\n            var r = Error(e);\n            this.stack = r.stack;\n          }, t.DOMException.prototype = Object.create(Error.prototype), t.DOMException.prototype.constructor = t.DOMException;\n        }\n\n        w.polyfill = !0, e.fetch || (e.fetch = w, e.Headers = s, e.Request = g, e.Response = v), t.Headers = s, t.Request = g, t.Response = v, t.fetch = w;\n      }({});\n    }(r), delete r.fetch.polyfill, t = r.fetch, t.default = r.fetch, t.fetch = r.fetch, t.Headers = r.Headers, t.Request = r.Request, t.Response = r.Response, e.exports = t;\n  }, function (e, t, r) {\n    var n, o;\n    !function (i) {\n      var s = !1;\n\n      if (n = i, void 0 !== (o = \"function\" == typeof n ? n.call(t, r, t, e) : n) && (e.exports = o), s = !0, e.exports = i(), s = !0, !s) {\n        var a = window.Cookies,\n            u = window.Cookies = i();\n\n        u.noConflict = function () {\n          return window.Cookies = a, u;\n        };\n      }\n    }(function () {\n      function e() {\n        for (var e = 0, t = {}; e < arguments.length; e++) {\n          var r = arguments[e];\n\n          for (var n in r) t[n] = r[n];\n        }\n\n        return t;\n      }\n\n      function t(r) {\n        function n(t, o, i) {\n          var s;\n\n          if (\"undefined\" != typeof document) {\n            if (arguments.length > 1) {\n              if (i = e({\n                path: \"/\"\n              }, n.defaults, i), \"number\" == typeof i.expires) {\n                var a = new Date();\n                a.setMilliseconds(a.getMilliseconds() + 864e5 * i.expires), i.expires = a;\n              }\n\n              i.expires = i.expires ? i.expires.toUTCString() : \"\";\n\n              try {\n                s = JSON.stringify(o), /^[\\{\\[]/.test(s) && (o = s);\n              } catch (e) {}\n\n              o = r.write ? r.write(o, t) : encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = encodeURIComponent(String(t)), t = t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), t = t.replace(/[\\(\\)]/g, escape);\n              var u = \"\";\n\n              for (var c in i) i[c] && (u += \"; \" + c, !0 !== i[c] && (u += \"=\" + i[c]));\n\n              return document.cookie = t + \"=\" + o + u;\n            }\n\n            t || (s = {});\n\n            for (var l = document.cookie ? document.cookie.split(\"; \") : [], f = /(%[0-9A-Z]{2})+/g, p = 0; p < l.length; p++) {\n              var h = l[p].split(\"=\"),\n                  d = h.slice(1).join(\"=\");\n              this.json || '\"' !== d.charAt(0) || (d = d.slice(1, -1));\n\n              try {\n                var g = h[0].replace(f, decodeURIComponent);\n                if (d = r.read ? r.read(d, g) : r(d, g) || d.replace(f, decodeURIComponent), this.json) try {\n                  d = JSON.parse(d);\n                } catch (e) {}\n\n                if (t === g) {\n                  s = d;\n                  break;\n                }\n\n                t || (s[g] = d);\n              } catch (e) {}\n            }\n\n            return s;\n          }\n        }\n\n        return n.set = n, n.get = function (e) {\n          return n.call(n, e);\n        }, n.getJSON = function () {\n          return n.apply({\n            json: !0\n          }, [].slice.call(arguments));\n        }, n.defaults = {}, n.remove = function (t, r) {\n          n(t, \"\", e(r, {\n            expires: -1\n          }));\n        }, n.withConverter = t, n;\n      }\n\n      return t(function () {});\n    });\n  }, function (e, t, r) {\n    function n(e, t) {\n      var r = t.cookies || {};\n      return void 0 === r.secure && (r.secure = e.features.isHTTPS()), void 0 === r.sameSite && (r.sameSite = r.secure ? \"none\" : \"lax\"), r.secure && !e.features.isHTTPS() && (console.warn('The current page is not being served with the HTTPS protocol.\\nFor security reasons, we strongly recommend using HTTPS.\\nIf you cannot use HTTPS, set \"cookies.secure\" option to false.'), r.secure = !1), \"none\" !== r.sameSite || r.secure || (r.sameSite = \"lax\"), r;\n    }\n\n    function o(e) {\n      var t = this;\n      c.assertValidConfig(e), this.options = {\n        clientId: e.clientId,\n        issuer: v.removeTrailingSlash(e.issuer),\n        authorizeUrl: v.removeTrailingSlash(e.authorizeUrl),\n        userinfoUrl: v.removeTrailingSlash(e.userinfoUrl),\n        tokenUrl: v.removeTrailingSlash(e.tokenUrl),\n        revokeUrl: v.removeTrailingSlash(e.revokeUrl),\n        logoutUrl: v.removeTrailingSlash(e.logoutUrl),\n        pkce: !1 !== e.pkce,\n        redirectUri: e.redirectUri,\n        postLogoutRedirectUri: e.postLogoutRedirectUri,\n        responseMode: e.responseMode,\n        httpRequestClient: e.httpRequestClient,\n        storageUtil: e.storageUtil,\n        transformErrorXHR: e.transformErrorXHR,\n        headers: e.headers,\n        onSessionExpired: e.onSessionExpired,\n        cookies: n(t, e)\n      }, this.userAgent = c.getUserAgent(e, \"okta-auth-js/\".concat(\"3.2.6\")), e.maxClockSkew || 0 === e.maxClockSkew ? this.options.maxClockSkew = e.maxClockSkew : this.options.maxClockSkew = l.DEFAULT_MAX_CLOCK_SKEW, this.options.ignoreSignature = !!e.ignoreSignature, t.session = {\n        close: v.bind(d.closeSession, null, t),\n        exists: v.bind(d.sessionExists, null, t),\n        get: v.bind(d.getSession, null, t),\n        refresh: v.bind(d.refreshSession, null, t),\n        setCookieAndRedirect: v.bind(d.setCookieAndRedirect, null, t)\n      }, t.tx = {\n        status: v.bind(y.transactionStatus, null, t),\n        resume: v.bind(y.resumeTransaction, null, t),\n        exists: v.bind(y.transactionExists, null, t),\n        introspect: v.bind(y.introspect, null, t)\n      }, t.tx.exists._get = function (e) {\n        return f.get(e);\n      }, t.idToken = {\n        authorize: {\n          _getLocationHref: function () {\n            return window.location.href;\n          }\n        }\n      }, t._tokenQueue = new w(), t.token = {\n        getWithoutPrompt: v.bind(g.getWithoutPrompt, null, t),\n        getWithPopup: v.bind(g.getWithPopup, null, t),\n        getWithRedirect: v.bind(g.getWithRedirect, null, t),\n        parseFromUrl: v.bind(g.parseFromUrl, null, t),\n        decode: g.decodeToken,\n        revoke: v.bind(g.revokeToken, null, t),\n        renew: v.bind(g.renewToken, null, t),\n        getUserInfo: v.bind(g.getUserInfo, null, t),\n        verify: v.bind(g.verifyToken, null, t),\n        isLoginRedirect: v.bind(h.isLoginRedirect, null, t)\n      };\n      var r = [\"decode\", \"isLoginRedirect\"];\n      Object.keys(t.token).forEach(function (e) {\n        if (!(r.indexOf(e) >= 0)) {\n          var n = t.token[e];\n          t.token[e] = v.bind(w.prototype.push, t._tokenQueue, n, null);\n        }\n      }), t.token.getWithRedirect._setLocation = function (e) {\n        window.location = e;\n      }, t.token.parseFromUrl._getHistory = function () {\n        return window.history;\n      }, t.token.parseFromUrl._getLocation = function () {\n        return window.location;\n      }, t.token.parseFromUrl._getDocument = function () {\n        return window.document;\n      }, t.fingerprint._getUserAgent = function () {\n        return navigator.userAgent;\n      };\n      var o = /windows phone|iemobile|wpdesktop/i;\n      t.features.isFingerprintSupported = function () {\n        var e = t.fingerprint._getUserAgent();\n\n        return e && !o.test(e);\n      }, t.emitter = new a(), t.tokenManager = new m(t, e.tokenManager), t.tokenManager.on(\"error\", this._onTokenManagerError, this);\n    }\n\n    var i = r(8),\n        s = r(9),\n        a = r(17),\n        u = r(1),\n        c = r(18),\n        l = r(3),\n        f = r(2).storage,\n        p = r(4),\n        h = r(5),\n        d = r(21),\n        g = r(22),\n        m = r(26),\n        y = r(10),\n        v = r(0),\n        w = r(28),\n        T = o.prototype;\n    T._onTokenManagerError = function (e) {\n      \"login_required\" === e.errorCode && e.accessToken && (this.options.onSessionExpired ? this.options.onSessionExpired() : console.error(\"Session has expired or was closed outside the application.\"));\n    }, T.features = {}, T.features.isPopupPostMessageSupported = function () {\n      var e = document.documentMode && document.documentMode < 10;\n      return !(!window.postMessage || e);\n    }, T.features.isTokenVerifySupported = function () {\n      return \"undefined\" != typeof crypto && crypto.subtle && \"undefined\" != typeof Uint8Array;\n    }, T.features.hasTextEncoder = function () {\n      return \"undefined\" != typeof TextEncoder;\n    }, T.features.isPKCESupported = function () {\n      return T.features.isTokenVerifySupported() && T.features.hasTextEncoder();\n    }, T.features.isHTTPS = function () {\n      return \"https:\" === window.location.protocol;\n    }, T.features.isLocalhost = function () {\n      return \"localhost\" === window.location.hostname;\n    }, T.signIn = function (e) {\n      function t(t) {\n        return delete e.sendFingerprint, y.postToTransaction(r, \"/api/v1/authn\", e, t);\n      }\n\n      var r = this;\n      return e = v.clone(e || {}), e.sendFingerprint ? r.fingerprint().then(function (e) {\n        return t({\n          headers: {\n            \"X-Device-Fingerprint\": e\n          }\n        });\n      }) : t();\n    }, T.closeSession = function () {\n      var e = this;\n      return e.tokenManager.clear(), e.session.close().catch(function (e) {\n        if (\"AuthApiError\" !== e.name || \"E0000007\" !== e.errorCode) throw e;\n      });\n    }, T.revokeAccessToken = function () {\n      function e(e) {\n        return t.apply(this, arguments);\n      }\n\n      var t = s(i.mark(function e(t) {\n        var r;\n        return i.wrap(function (e) {\n          for (;;) switch (e.prev = e.next) {\n            case 0:\n              if (r = this, t) {\n                e.next = 6;\n                break;\n              }\n\n              return e.next = 4, r.tokenManager.get(l.ACCESS_TOKEN_STORAGE_KEY);\n\n            case 4:\n              t = e.sent, r.tokenManager.remove(l.ACCESS_TOKEN_STORAGE_KEY);\n\n            case 6:\n              if (t) {\n                e.next = 8;\n                break;\n              }\n\n              return e.abrupt(\"return\", Promise.resolve());\n\n            case 8:\n              return e.abrupt(\"return\", r.token.revoke(t));\n\n            case 9:\n            case \"end\":\n              return e.stop();\n          }\n        }, e, this);\n      }));\n      return e;\n    }(), T.signOut = function () {\n      var e = s(i.mark(function e(t) {\n        var r, n, o, s, a, u, c, f, p, d, g;\n        return i.wrap(function (e) {\n          for (;;) switch (e.prev = e.next) {\n            case 0:\n              if (t = v.extend({}, t), r = window.location.origin, n = window.location.href, o = t.postLogoutRedirectUri || this.options.postLogoutRedirectUri || r, s = t.accessToken, a = !1 !== t.revokeAccessToken, u = t.idToken, c = this, f = h.getOAuthUrls(c).logoutUrl, void 0 !== u) {\n                e.next = 13;\n                break;\n              }\n\n              return e.next = 12, c.tokenManager.get(l.ID_TOKEN_STORAGE_KEY);\n\n            case 12:\n              u = e.sent;\n\n            case 13:\n              if (!a || void 0 !== s) {\n                e.next = 17;\n                break;\n              }\n\n              return e.next = 16, c.tokenManager.get(l.ACCESS_TOKEN_STORAGE_KEY);\n\n            case 16:\n              s = e.sent;\n\n            case 17:\n              if (c.tokenManager.clear(), !a || !s) {\n                e.next = 21;\n                break;\n              }\n\n              return e.next = 21, c.revokeAccessToken(s);\n\n            case 21:\n              if (u) {\n                e.next = 23;\n                break;\n              }\n\n              return e.abrupt(\"return\", c.closeSession().then(function () {\n                o === n ? window.location.reload() : window.location.assign(o);\n              }));\n\n            case 23:\n              p = t.state, d = u.idToken, g = f + \"?id_token_hint=\" + encodeURIComponent(d) + \"&post_logout_redirect_uri=\" + encodeURIComponent(o), p && (g += \"&state=\" + encodeURIComponent(p)), window.location.assign(g);\n\n            case 28:\n            case \"end\":\n              return e.stop();\n          }\n        }, e, this);\n      }));\n      return function (t) {\n        return e.apply(this, arguments);\n      };\n    }(), c.addSharedPrototypes(T), T.webfinger = function (e) {\n      var t = \"/.well-known/webfinger\" + v.toQueryParams(e),\n          r = {\n        headers: {\n          Accept: \"application/jrd+json\"\n        }\n      };\n      return p.get(this, t, r);\n    }, T.fingerprint = function (e) {\n      e = e || {};\n      var t = this;\n      if (!t.features.isFingerprintSupported()) return Promise.reject(new u(\"Fingerprinting is not supported on this device\"));\n      var r, n, o;\n      return new Promise(function (i, s) {\n        n = document.createElement(\"iframe\"), n.style.display = \"none\", o = function (e) {\n          if (e && e.data && e.origin === t.getIssuerOrigin()) {\n            try {\n              var r = JSON.parse(e.data);\n            } catch (e) {\n              return;\n            }\n\n            if (r) return \"FingerprintAvailable\" === r.type ? i(r.fingerprint) : void (\"FingerprintServiceReady\" === r.type && e.source.postMessage(JSON.stringify({\n              type: \"GetFingerprint\"\n            }), e.origin));\n          }\n        }, h.addListener(window, \"message\", o), n.src = t.getIssuerOrigin() + \"/auth/services/devicefingerprint\", document.body.appendChild(n), r = setTimeout(function () {\n          s(new u(\"Fingerprinting timed out\"));\n        }, e.timeout || 15e3);\n      }).finally(function () {\n        clearTimeout(r), h.removeListener(window, \"message\", o), document.body.contains(n) && n.parentElement.removeChild(n);\n      });\n    }, e.exports = c.buildOktaAuth(o);\n  }, function (e, t, r) {\n    var n = function (e) {\n      \"use strict\";\n\n      function t(e, t, r, o) {\n        var i = t && t.prototype instanceof n ? t : n,\n            s = Object.create(i.prototype),\n            a = new p(o || []);\n        return s._invoke = u(e, r, a), s;\n      }\n\n      function r(e, t, r) {\n        try {\n          return {\n            type: \"normal\",\n            arg: e.call(t, r)\n          };\n        } catch (e) {\n          return {\n            type: \"throw\",\n            arg: e\n          };\n        }\n      }\n\n      function n() {}\n\n      function o() {}\n\n      function i() {}\n\n      function s(e) {\n        [\"next\", \"throw\", \"return\"].forEach(function (t) {\n          e[t] = function (e) {\n            return this._invoke(t, e);\n          };\n        });\n      }\n\n      function a(e) {\n        function t(n, o, i, s) {\n          var a = r(e[n], e, o);\n\n          if (\"throw\" !== a.type) {\n            var u = a.arg,\n                c = u.value;\n            return c && \"object\" == typeof c && y.call(c, \"__await\") ? Promise.resolve(c.__await).then(function (e) {\n              t(\"next\", e, i, s);\n            }, function (e) {\n              t(\"throw\", e, i, s);\n            }) : Promise.resolve(c).then(function (e) {\n              u.value = e, i(u);\n            }, function (e) {\n              return t(\"throw\", e, i, s);\n            });\n          }\n\n          s(a.arg);\n        }\n\n        function n(e, r) {\n          function n() {\n            return new Promise(function (n, o) {\n              t(e, r, n, o);\n            });\n          }\n\n          return o = o ? o.then(n, n) : n();\n        }\n\n        var o;\n        this._invoke = n;\n      }\n\n      function u(e, t, n) {\n        var o = S;\n        return function (i, s) {\n          if (o === E) throw new Error(\"Generator is already running\");\n\n          if (o === A) {\n            if (\"throw\" === i) throw s;\n            return d();\n          }\n\n          for (n.method = i, n.arg = s;;) {\n            var a = n.delegate;\n\n            if (a) {\n              var u = c(a, n);\n\n              if (u) {\n                if (u === _) continue;\n                return u;\n              }\n            }\n\n            if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n              if (o === S) throw o = A, n.arg;\n              n.dispatchException(n.arg);\n            } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n            o = E;\n            var l = r(e, t, n);\n\n            if (\"normal\" === l.type) {\n              if (o = n.done ? A : b, l.arg === _) continue;\n              return {\n                value: l.arg,\n                done: n.done\n              };\n            }\n\n            \"throw\" === l.type && (o = A, n.method = \"throw\", n.arg = l.arg);\n          }\n        };\n      }\n\n      function c(e, t) {\n        var n = e.iterator[t.method];\n\n        if (n === g) {\n          if (t.delegate = null, \"throw\" === t.method) {\n            if (e.iterator.return && (t.method = \"return\", t.arg = g, c(e, t), \"throw\" === t.method)) return _;\n            t.method = \"throw\", t.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n          }\n\n          return _;\n        }\n\n        var o = r(n, e.iterator, t.arg);\n        if (\"throw\" === o.type) return t.method = \"throw\", t.arg = o.arg, t.delegate = null, _;\n        var i = o.arg;\n        return i ? i.done ? (t[e.resultName] = i.value, t.next = e.nextLoc, \"return\" !== t.method && (t.method = \"next\", t.arg = g), t.delegate = null, _) : i : (t.method = \"throw\", t.arg = new TypeError(\"iterator result is not an object\"), t.delegate = null, _);\n      }\n\n      function l(e) {\n        var t = {\n          tryLoc: e[0]\n        };\n        1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t);\n      }\n\n      function f(e) {\n        var t = e.completion || {};\n        t.type = \"normal\", delete t.arg, e.completion = t;\n      }\n\n      function p(e) {\n        this.tryEntries = [{\n          tryLoc: \"root\"\n        }], e.forEach(l, this), this.reset(!0);\n      }\n\n      function h(e) {\n        if (e) {\n          var t = e[w];\n          if (t) return t.call(e);\n          if (\"function\" == typeof e.next) return e;\n\n          if (!isNaN(e.length)) {\n            var r = -1,\n                n = function t() {\n              for (; ++r < e.length;) if (y.call(e, r)) return t.value = e[r], t.done = !1, t;\n\n              return t.value = g, t.done = !0, t;\n            };\n\n            return n.next = n;\n          }\n        }\n\n        return {\n          next: d\n        };\n      }\n\n      function d() {\n        return {\n          value: g,\n          done: !0\n        };\n      }\n\n      var g,\n          m = Object.prototype,\n          y = m.hasOwnProperty,\n          v = \"function\" == typeof Symbol ? Symbol : {},\n          w = v.iterator || \"@@iterator\",\n          T = v.asyncIterator || \"@@asyncIterator\",\n          k = v.toStringTag || \"@@toStringTag\";\n      e.wrap = t;\n      var S = \"suspendedStart\",\n          b = \"suspendedYield\",\n          E = \"executing\",\n          A = \"completed\",\n          _ = {},\n          x = {};\n\n      x[w] = function () {\n        return this;\n      };\n\n      var O = Object.getPrototypeOf,\n          U = O && O(O(h([])));\n      U && U !== m && y.call(U, w) && (x = U);\n      var P = i.prototype = n.prototype = Object.create(x);\n      return o.prototype = P.constructor = i, i.constructor = o, i[k] = o.displayName = \"GeneratorFunction\", e.isGeneratorFunction = function (e) {\n        var t = \"function\" == typeof e && e.constructor;\n        return !!t && (t === o || \"GeneratorFunction\" === (t.displayName || t.name));\n      }, e.mark = function (e) {\n        return Object.setPrototypeOf ? Object.setPrototypeOf(e, i) : (e.__proto__ = i, k in e || (e[k] = \"GeneratorFunction\")), e.prototype = Object.create(P), e;\n      }, e.awrap = function (e) {\n        return {\n          __await: e\n        };\n      }, s(a.prototype), a.prototype[T] = function () {\n        return this;\n      }, e.AsyncIterator = a, e.async = function (r, n, o, i) {\n        var s = new a(t(r, n, o, i));\n        return e.isGeneratorFunction(n) ? s : s.next().then(function (e) {\n          return e.done ? e.value : s.next();\n        });\n      }, s(P), P[k] = \"Generator\", P[w] = function () {\n        return this;\n      }, P.toString = function () {\n        return \"[object Generator]\";\n      }, e.keys = function (e) {\n        var t = [];\n\n        for (var r in e) t.push(r);\n\n        return t.reverse(), function r() {\n          for (; t.length;) {\n            var n = t.pop();\n            if (n in e) return r.value = n, r.done = !1, r;\n          }\n\n          return r.done = !0, r;\n        };\n      }, e.values = h, p.prototype = {\n        constructor: p,\n        reset: function (e) {\n          if (this.prev = 0, this.next = 0, this.sent = this._sent = g, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = g, this.tryEntries.forEach(f), !e) for (var t in this) \"t\" === t.charAt(0) && y.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = g);\n        },\n        stop: function () {\n          this.done = !0;\n          var e = this.tryEntries[0],\n              t = e.completion;\n          if (\"throw\" === t.type) throw t.arg;\n          return this.rval;\n        },\n        dispatchException: function (e) {\n          function t(t, n) {\n            return i.type = \"throw\", i.arg = e, r.next = t, n && (r.method = \"next\", r.arg = g), !!n;\n          }\n\n          if (this.done) throw e;\n\n          for (var r = this, n = this.tryEntries.length - 1; n >= 0; --n) {\n            var o = this.tryEntries[n],\n                i = o.completion;\n            if (\"root\" === o.tryLoc) return t(\"end\");\n\n            if (o.tryLoc <= this.prev) {\n              var s = y.call(o, \"catchLoc\"),\n                  a = y.call(o, \"finallyLoc\");\n\n              if (s && a) {\n                if (this.prev < o.catchLoc) return t(o.catchLoc, !0);\n                if (this.prev < o.finallyLoc) return t(o.finallyLoc);\n              } else if (s) {\n                if (this.prev < o.catchLoc) return t(o.catchLoc, !0);\n              } else {\n                if (!a) throw new Error(\"try statement without catch or finally\");\n                if (this.prev < o.finallyLoc) return t(o.finallyLoc);\n              }\n            }\n          }\n        },\n        abrupt: function (e, t) {\n          for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n            var n = this.tryEntries[r];\n\n            if (n.tryLoc <= this.prev && y.call(n, \"finallyLoc\") && this.prev < n.finallyLoc) {\n              var o = n;\n              break;\n            }\n          }\n\n          o && (\"break\" === e || \"continue\" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);\n          var i = o ? o.completion : {};\n          return i.type = e, i.arg = t, o ? (this.method = \"next\", this.next = o.finallyLoc, _) : this.complete(i);\n        },\n        complete: function (e, t) {\n          if (\"throw\" === e.type) throw e.arg;\n          return \"break\" === e.type || \"continue\" === e.type ? this.next = e.arg : \"return\" === e.type ? (this.rval = this.arg = e.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === e.type && t && (this.next = t), _;\n        },\n        finish: function (e) {\n          for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n            var r = this.tryEntries[t];\n            if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), f(r), _;\n          }\n        },\n        catch: function (e) {\n          for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n            var r = this.tryEntries[t];\n\n            if (r.tryLoc === e) {\n              var n = r.completion;\n\n              if (\"throw\" === n.type) {\n                var o = n.arg;\n                f(r);\n              }\n\n              return o;\n            }\n          }\n\n          throw new Error(\"illegal catch attempt\");\n        },\n        delegateYield: function (e, t, r) {\n          return this.delegate = {\n            iterator: h(e),\n            resultName: t,\n            nextLoc: r\n          }, \"next\" === this.method && (this.arg = g), _;\n        }\n      }, e;\n    }(e.exports);\n\n    try {\n      regeneratorRuntime = n;\n    } catch (e) {\n      Function(\"r\", \"regeneratorRuntime = r\")(n);\n    }\n  }, function (e, t) {\n    function r() {}\n\n    r.prototype = {\n      on: function (e, t, r) {\n        var n = this.e || (this.e = {});\n        return (n[e] || (n[e] = [])).push({\n          fn: t,\n          ctx: r\n        }), this;\n      },\n      once: function (e, t, r) {\n        function n() {\n          o.off(e, n), t.apply(r, arguments);\n        }\n\n        var o = this;\n        return n._ = t, this.on(e, n, r);\n      },\n      emit: function (e) {\n        var t = [].slice.call(arguments, 1),\n            r = ((this.e || (this.e = {}))[e] || []).slice(),\n            n = 0,\n            o = r.length;\n\n        for (n; n < o; n++) r[n].fn.apply(r[n].ctx, t);\n\n        return this;\n      },\n      off: function (e, t) {\n        var r = this.e || (this.e = {}),\n            n = r[e],\n            o = [];\n        if (n && t) for (var i = 0, s = n.length; i < s; i++) n[i].fn !== t && n[i].fn._ !== t && o.push(n[i]);\n        return o.length ? r[e] = o : delete r[e], this;\n      }\n    }, e.exports = r;\n  }, function (e, t, r) {\n    function n(e) {\n      if (!e) throw new a(\"No arguments passed to constructor. Required usage: new OktaAuth(args)\");\n      var t = e.issuer;\n      if (!t) throw new a('No issuer passed to constructor. Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n      if (!new RegExp(\"^http?s?://.+\").test(e.issuer)) throw new a('Issuer must be a valid URL. Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n      if (-1 !== t.indexOf(\"-admin.\")) throw new a('Issuer URL passed to constructor contains \"-admin\" in subdomain. Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n      var r = e.userAgent;\n      if (r && r.template && -1 === r.template.indexOf(\"$OKTA_AUTH_JS\")) throw new a('UserAgentTemplate must include \"$OKTA_AUTH_JS\" placeholder. Required usage: new OktaAuth({userAgentTemplate: \"xxx $OKTA_AUTH_JS xxx\"})');\n    }\n\n    function o(e) {\n      e.getIssuerOrigin = function () {\n        return this.options.issuer.split(\"/oauth2/\")[0];\n      }, e.forgotPassword = function (e) {\n        return u.postToTransaction(this, \"/api/v1/authn/recovery/password\", e);\n      }, e.unlockAccount = function (e) {\n        return u.postToTransaction(this, \"/api/v1/authn/recovery/unlock\", e);\n      }, e.verifyRecoveryToken = function (e) {\n        return u.postToTransaction(this, \"/api/v1/authn/recovery/token\", e);\n      };\n    }\n\n    function i(e) {\n      return function (t, r) {\n        function n(o) {\n          if (!(this instanceof n)) return new n(o);\n          o && (o.storageUtil = t, o.ajaxRequest ? (c.deprecate(\"ajaxRequest is being deprecated, use httpRequestClient attribute instead.\"), o.httpRequestClient = o.ajaxRequest) : o.httpRequestClient || (o.httpRequestClient = r)), c.bind(e, this)(o);\n        }\n\n        return n.prototype = e.prototype, n.prototype.constructor = n, n.features = e.prototype.features, n;\n      };\n    }\n\n    function s(e, t) {\n      var r = e.userAgent || {};\n      return r.value ? r.value : r.template ? r.template.replace(\"$OKTA_AUTH_JS\", t) : t;\n    }\n\n    var a = r(1),\n        u = r(10),\n        c = r(0);\n    e.exports = {\n      addSharedPrototypes: o,\n      buildOktaAuth: i,\n      assertValidConfig: n,\n      getUserAgent: s\n    };\n  }, function (e, t) {\n    function r(e, t) {\n      this.name = \"AuthApiError\", this.message = e.errorSummary, this.errorSummary = e.errorSummary, this.errorCode = e.errorCode, this.errorLink = e.errorLink, this.errorId = e.errorId, this.errorCauses = e.errorCauses, t && (this.xhr = t);\n    }\n\n    r.prototype = new Error(), e.exports = r;\n  }, function (e, t) {\n    function r() {\n      this.name = \"AuthPollStopError\", this.message = \"The poll was stopped by the sdk\";\n    }\n\n    r.prototype = new Error(), e.exports = r;\n  }, function (e, t, r) {\n    function n(e) {\n      return e.session.get().then(function (e) {\n        return \"ACTIVE\" === e.status;\n      }).catch(function () {\n        return !1;\n      });\n    }\n\n    function o(e) {\n      return c.get(e, \"/api/v1/sessions/me\").then(function (t) {\n        var r = u.omit(t, \"_links\");\n        return r.refresh = function () {\n          return c.post(e, u.getLink(t, \"refresh\").href);\n        }, r.user = function () {\n          return c.get(e, u.getLink(t, \"user\").href);\n        }, r;\n      }).catch(function () {\n        return {\n          status: \"INACTIVE\"\n        };\n      });\n    }\n\n    function i(e) {\n      return c.httpRequest(e, {\n        url: e.getIssuerOrigin() + \"/api/v1/sessions/me\",\n        method: \"DELETE\"\n      });\n    }\n\n    function s(e) {\n      return c.post(e, \"/api/v1/sessions/me/lifecycle/refresh\");\n    }\n\n    function a(e, t, r) {\n      r = r || window.location.href, window.location = e.getIssuerOrigin() + \"/login/sessionCookieRedirect\" + u.toQueryParams({\n        checkAccountSetupComplete: !0,\n        token: t,\n        redirectUrl: r\n      });\n    }\n\n    var u = r(0),\n        c = r(4);\n    e.exports = {\n      sessionExists: n,\n      getSession: o,\n      closeSession: i,\n      refreshSession: s,\n      setCookieAndRedirect: a\n    };\n  }, function (e, t, r) {\n    function n(e, t) {\n      return Promise.resolve().then(function () {\n        if (!t || !t.accessToken) throw new R(\"A valid access token object is required\");\n        var r = e.options.clientId;\n        if (!r) throw new R(\"A clientId must be specified in the OktaAuth constructor to revoke a token\");\n        var n = P.getOAuthUrls(e).revokeUrl,\n            o = t.accessToken,\n            i = U.toQueryParams({\n          token_type_hint: \"access_token\",\n          token: o\n        }).slice(1),\n            s = btoa(r);\n        return O.post(e, n, i, {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            Authorization: \"Basic \" + s\n          }\n        });\n      });\n    }\n\n    function o(e) {\n      var t,\n          r = e.split(\".\");\n\n      try {\n        t = {\n          header: JSON.parse(U.base64UrlToString(r[0])),\n          payload: JSON.parse(U.base64UrlToString(r[1])),\n          signature: r[2]\n        };\n      } catch (e) {\n        throw new R(\"Malformed token\");\n      }\n\n      return t;\n    }\n\n    function i(e, t, r) {\n      return Promise.resolve().then(function () {\n        if (!t || !t.idToken) throw new R(\"Only idTokens may be verified\");\n        var n = o(t.idToken),\n            i = {\n          clientId: e.options.clientId,\n          issuer: e.options.issuer,\n          ignoreSignature: e.options.ignoreSignature\n        };\n        return U.extend(i, r), P.validateClaims(e, n.payload, i), 1 != i.ignoreSignature && e.features.isTokenVerifySupported() ? P.getKey(e, t.issuer, n.header.kid).then(function (e) {\n          return C.verifyToken(t.idToken, e);\n        }).then(function (e) {\n          if (!e) throw new R(\"The token signature is not valid\");\n          if (r && r.accessToken && t.claims.at_hash) return C.getOidcHash(r.accessToken).then(function (e) {\n            if (e !== t.claims.at_hash) throw new R(\"Token hash verification failed\");\n          });\n        }).then(function () {\n          return t;\n        }) : t;\n      });\n    }\n\n    function s(e, t, r) {\n      var n, o;\n      return new Promise(function (i, s) {\n        n = function (t) {\n          if (t.data && t.data.state === r) return t.origin !== e.getIssuerOrigin() ? s(new R(\"The request does not match client configuration\")) : void i(t.data);\n        }, P.addListener(window, \"message\", n), o = setTimeout(function () {\n          s(new R(\"OAuth flow timed out\"));\n        }, t || 12e4);\n      }).finally(function () {\n        clearTimeout(o), P.removeListener(window, \"message\", n);\n      });\n    }\n\n    function a(e, t, r, n) {\n      var o = j.loadMeta(e),\n          i = {\n        clientId: t.clientId,\n        authorizationCode: r,\n        codeVerifier: o.codeVerifier,\n        redirectUri: o.redirectUri\n      };\n      return j.getToken(e, i, n).then(function (e) {\n        return u(e, i), e;\n      }).finally(function () {\n        j.clearMeta(e);\n      });\n    }\n\n    function u(e, t) {\n      if (e.error || e.error_description) throw new I(e.error, e.error_description);\n      if (e.state !== t.state) throw new R(\"OAuth flow response state doesn't match request state\");\n    }\n\n    function c(e, t, r, n) {\n      n = n || {};\n      var o = t.responseType;\n      Array.isArray(o) || (o = [o]);\n      var s = U.clone(t.scopes),\n          c = t.clientId || e.options.clientId,\n          l = !1 !== e.options.pkce;\n      return Promise.resolve().then(function () {\n        return u(r, t), r.code && l ? (o = [\"token\"], -1 !== s.indexOf(\"openid\") && o.push(\"id_token\"), a(e, t, r.code, n)) : r;\n      }).then(function (r) {\n        var o = {},\n            a = r.expires_in,\n            u = r.token_type,\n            l = r.access_token,\n            f = r.id_token;\n\n        if (l && (o.accessToken = {\n          value: l,\n          accessToken: l,\n          expiresAt: Number(a) + Math.floor(Date.now() / 1e3),\n          tokenType: u,\n          scopes: s,\n          authorizeUrl: n.authorizeUrl,\n          userinfoUrl: n.userinfoUrl\n        }), f) {\n          var p = e.token.decode(f),\n              h = {\n            value: f,\n            idToken: f,\n            claims: p.payload,\n            expiresAt: p.payload.exp,\n            scopes: s,\n            authorizeUrl: n.authorizeUrl,\n            issuer: n.issuer,\n            clientId: c\n          },\n              d = {\n            clientId: c,\n            issuer: n.issuer,\n            nonce: t.nonce,\n            accessToken: l\n          };\n          return void 0 !== t.ignoreSignature && (d.ignoreSignature = t.ignoreSignature), i(e, h, d).then(function () {\n            return o.idToken = h, o;\n          });\n        }\n\n        return o;\n      }).then(function (e) {\n        if (-1 !== o.indexOf(\"token\") && !e.accessToken) throw new R('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n        if (-1 !== o.indexOf(\"id_token\") && !e.idToken) throw new R('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n        return {\n          tokens: e,\n          state: r.state,\n          code: r.code\n        };\n      });\n    }\n\n    function l(e) {\n      return {\n        pkce: e.options.pkce,\n        clientId: e.options.clientId,\n        redirectUri: e.options.redirectUri || window.location.href,\n        responseType: [\"token\", \"id_token\"],\n        responseMode: e.options.responseMode,\n        state: P.generateState(),\n        nonce: P.generateNonce(),\n        scopes: [\"openid\", \"email\"],\n        ignoreSignature: e.options.ignoreSignature\n      };\n    }\n\n    function f(e) {\n      if (!e.clientId) throw new R(\"A clientId must be specified in the OktaAuth constructor to get a token\");\n      if (U.isString(e.responseType) && -1 !== e.responseType.indexOf(\" \")) throw new R(\"Multiple OAuth responseTypes must be defined as an array\");\n      var t = U.removeNils({\n        client_id: e.clientId,\n        code_challenge: e.codeChallenge,\n        code_challenge_method: e.codeChallengeMethod,\n        display: e.display,\n        idp: e.idp,\n        idp_scope: e.idpScope,\n        login_hint: e.loginHint,\n        max_age: e.maxAge,\n        nonce: e.nonce,\n        prompt: e.prompt,\n        redirect_uri: e.redirectUri,\n        response_mode: e.responseMode,\n        response_type: e.responseType,\n        sessionToken: e.sessionToken,\n        state: e.state\n      });\n      if ([\"idp_scope\", \"response_type\"].forEach(function (e) {\n        Array.isArray(t[e]) && (t[e] = t[e].join(\" \"));\n      }), -1 !== e.responseType.indexOf(\"id_token\") && -1 === e.scopes.indexOf(\"openid\")) throw new R(\"openid scope must be specified in the scopes argument when requesting an id_token\");\n      return t.scope = e.scopes.join(\" \"), t;\n    }\n\n    function p(e) {\n      var t = f(e);\n      return U.toQueryParams(t);\n    }\n\n    function h(e, t) {\n      return arguments.length > 2 ? Promise.reject(new R('As of version 3.0, \"getToken\" takes only a single set of options')) : (t = t || {}, m(e, t).then(function (r) {\n        var n = {\n          prompt: \"none\",\n          responseMode: \"okta_post_message\",\n          display: null\n        },\n            o = {\n          display: \"popup\"\n        };\n        t.sessionToken ? U.extend(r, n) : t.idp && U.extend(r, o);\n        var i, a, u;\n        u = P.getOAuthUrls(e, r), a = t.codeVerifier ? u.tokenUrl : u.authorizeUrl, i = a + p(r);\n\n        switch (r.sessionToken || null === r.display ? \"IFRAME\" : \"popup\" === r.display ? \"POPUP\" : \"IMPLICIT\") {\n          case \"IFRAME\":\n            var l = s(e, t.timeout, r.state),\n                f = P.loadFrame(i);\n            return l.then(function (t) {\n              return c(e, r, t, u);\n            }).finally(function () {\n              document.body.contains(f) && f.parentElement.removeChild(f);\n            });\n\n          case \"POPUP\":\n            var h;\n\n            if (\"okta_post_message\" === r.responseMode) {\n              if (!e.features.isPopupPostMessageSupported()) throw new R(\"This browser doesn't have full postMessage support\");\n              h = s(e, t.timeout, r.state);\n            }\n\n            var d = {\n              popupTitle: t.popupTitle\n            },\n                g = P.loadPopup(i, d);\n            return new Promise(function (e, t) {\n              var r = setInterval(function () {\n                g && !g.closed || (clearInterval(r), t(new R(\"Unable to parse OAuth flow response\")));\n              }, 100);\n              h.then(function (t) {\n                clearInterval(r), e(t);\n              }).catch(function (e) {\n                clearInterval(r), t(e);\n              });\n            }).then(function (t) {\n              return c(e, r, t, u);\n            }).finally(function () {\n              g && !g.closed && g.close();\n            });\n\n          default:\n            throw new R(\"The full page redirect flow is not supported\");\n        }\n      }).catch(function (t) {\n        throw e.options.pkce && j.clearMeta(e), t;\n      }));\n    }\n\n    function d(e, t) {\n      return arguments.length > 2 ? Promise.reject(new R('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options')) : (t = U.clone(t) || {}, U.extend(t, {\n        prompt: \"none\",\n        responseMode: \"okta_post_message\",\n        display: null\n      }), h(e, t));\n    }\n\n    function g(e, t) {\n      return arguments.length > 2 ? Promise.reject(new R('As of version 3.0, \"getWithPopup\" takes only a single set of options')) : (t = U.clone(t) || {}, U.extend(t, {\n        display: \"popup\",\n        responseMode: \"okta_post_message\"\n      }), h(e, t));\n    }\n\n    function m(e, t) {\n      if (P.isLoginRedirect(e)) return Promise.reject(new R(\"The app should not attempt to call getToken on callback. Authorize flow is already in process. Use parseFromUrl() to receive tokens.\"));\n      t = U.clone(t) || {};\n      var r = l(e);\n      if (U.extend(r, t), !1 === r.pkce) return Promise.resolve(r);\n\n      if (!e.features.isPKCESupported()) {\n        var n = \"PKCE requires a modern browser with encryption support running in a secure context.\";\n        return e.features.isHTTPS() || (n += \"\\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol.\"), e.features.hasTextEncoder() || (n += '\\n\"TextEncoder\" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.'), Promise.reject(new R(n));\n      }\n\n      return r.codeChallengeMethod || (r.codeChallengeMethod = j.DEFAULT_CODE_CHALLENGE_METHOD), r.responseType = \"code\", P.getWellKnown(e, null).then(function (e) {\n        if (-1 === (e.code_challenge_methods_supported || []).indexOf(r.codeChallengeMethod)) throw new R(\"Invalid code_challenge_method\");\n      }).then(function () {\n        var t = j.generateVerifier(r.codeVerifier),\n            n = {\n          codeVerifier: t,\n          redirectUri: r.redirectUri\n        };\n        return j.saveMeta(e, n), j.computeChallenge(t);\n      }).then(function (e) {\n        var t = U.clone(r) || {};\n        return U.extend(t, r, {\n          codeChallenge: e\n        }), t;\n      });\n    }\n\n    function y(e, t, r) {\n      var n = t.responseType,\n          o = t.state,\n          i = t.nonce,\n          s = t.scopes,\n          a = t.clientId,\n          u = t.ignoreSignature,\n          c = JSON.stringify({\n        responseType: n,\n        state: o,\n        nonce: i,\n        scopes: s,\n        clientId: a,\n        urls: r,\n        ignoreSignature: u\n      });\n      N.set(L.REDIRECT_OAUTH_PARAMS_NAME, c, null, e.options.cookies), M.browserHasSessionStorage() && M.getSessionStorage().setItem(L.REDIRECT_OAUTH_PARAMS_NAME, c);\n    }\n\n    function v(e, t) {\n      return arguments.length > 2 ? Promise.reject(new R('As of version 3.0, \"getWithRedirect\" takes only a single set of options')) : (t = U.clone(t) || {}, m(e, t).then(function (r) {\n        var n = P.getOAuthUrls(e, t),\n            o = n.authorizeUrl + p(r);\n        y(e, r, n), N.set(L.REDIRECT_NONCE_COOKIE_NAME, r.nonce, null, e.options.cookies), N.set(L.REDIRECT_STATE_COOKIE_NAME, r.state, null, e.options.cookies), e.token.getWithRedirect._setLocation(o);\n      }));\n    }\n\n    function w(e, t) {\n      if (!P.isToken(t)) return Promise.reject(new R(\"Renew must be passed a token with an array of scopes and an accessToken or idToken\"));\n      var r;\n      return r = e.options.pkce ? \"code\" : t.accessToken ? \"token\" : \"id_token\", d(e, {\n        responseType: r,\n        scopes: t.scopes,\n        authorizeUrl: t.authorizeUrl,\n        userinfoUrl: t.userinfoUrl,\n        issuer: t.issuer\n      }).then(function (e) {\n        var r = e.tokens;\n        return t.idToken ? r.idToken : r.accessToken;\n      });\n    }\n\n    function T(e) {\n      var t = e.token.parseFromUrl._getHistory(),\n          r = e.token.parseFromUrl._getDocument(),\n          n = e.token.parseFromUrl._getLocation();\n\n      t && t.replaceState ? t.replaceState(null, r.title, n.pathname + n.search) : n.hash = \"\";\n    }\n\n    function k(e) {\n      var t = e.token.parseFromUrl._getHistory(),\n          r = e.token.parseFromUrl._getDocument(),\n          n = e.token.parseFromUrl._getLocation();\n\n      t && t.replaceState ? t.replaceState(null, r.title, n.pathname + n.hash) : n.search = \"\";\n    }\n\n    function S() {\n      var e = N.get(L.REDIRECT_OAUTH_PARAMS_NAME);\n\n      if (N.delete(L.REDIRECT_OAUTH_PARAMS_NAME), !e && M.browserHasSessionStorage()) {\n        var t = M.getSessionStorage();\n        e = t.getItem(L.REDIRECT_OAUTH_PARAMS_NAME), t.removeItem(L.REDIRECT_OAUTH_PARAMS_NAME);\n      }\n\n      return e;\n    }\n\n    function b(e, t) {\n      t = t || {}, U.isString(t) && (t = {\n        url: t\n      });\n\n      var r,\n          n = e.options.pkce ? \"query\" : \"fragment\",\n          o = t.url,\n          i = t.responseMode || e.options.responseMode || n,\n          s = e.token.parseFromUrl._getLocation();\n\n      if (!(r = \"query\" === i ? o ? o.substring(o.indexOf(\"?\")) : s.search : o ? o.substring(o.indexOf(\"#\")) : s.hash)) return Promise.reject(new R(\"Unable to parse a token from the url\"));\n      var a = S();\n      if (!a) return Promise.reject(new R(\"Unable to retrieve OAuth redirect params from storage\"));\n\n      try {\n        var u = JSON.parse(a),\n            l = u.urls;\n        delete u.urls;\n      } catch (e) {\n        return Promise.reject(new R(\"Unable to parse the \" + L.REDIRECT_OAUTH_PARAMS_NAME + \" value from storage: \" + e.message));\n      }\n\n      return Promise.resolve(P.urlParamsToObject(r)).then(function (t) {\n        return o || (\"query\" === i ? k(e) : T(e)), c(e, u, t, l);\n      });\n    }\n\n    function E(e, t, r) {\n      return A.apply(this, arguments);\n    }\n\n    function A() {\n      return A = x(_.mark(function e(t, r, n) {\n        return _.wrap(function (e) {\n          for (;;) switch (e.prev = e.next) {\n            case 0:\n              if (r) {\n                e.next = 4;\n                break;\n              }\n\n              return e.next = 3, t.tokenManager.get(L.ACCESS_TOKEN_STORAGE_KEY);\n\n            case 3:\n              r = e.sent;\n\n            case 4:\n              if (n) {\n                e.next = 8;\n                break;\n              }\n\n              return e.next = 7, t.tokenManager.get(L.ID_TOKEN_STORAGE_KEY);\n\n            case 7:\n              n = e.sent;\n\n            case 8:\n              if (r && (P.isToken(r) || r.accessToken || r.userinfoUrl)) {\n                e.next = 10;\n                break;\n              }\n\n              return e.abrupt(\"return\", Promise.reject(new R(\"getUserInfo requires an access token object\")));\n\n            case 10:\n              if (n && (P.isToken(n) || n.idToken)) {\n                e.next = 12;\n                break;\n              }\n\n              return e.abrupt(\"return\", Promise.reject(new R(\"getUserInfo requires an ID token object\")));\n\n            case 12:\n              return e.abrupt(\"return\", O.httpRequest(t, {\n                url: r.userinfoUrl,\n                method: \"GET\",\n                accessToken: r.accessToken\n              }).then(function (e) {\n                return e.sub === n.claims.sub ? e : Promise.reject(new R(\"getUserInfo request was rejected due to token mismatch\"));\n              }).catch(function (e) {\n                if (e.xhr && (401 === e.xhr.status || 403 === e.xhr.status)) {\n                  var t;\n\n                  if (e.xhr.headers && U.isFunction(e.xhr.headers.get) && e.xhr.headers.get(\"WWW-Authenticate\") ? t = e.xhr.headers.get(\"WWW-Authenticate\") : U.isFunction(e.xhr.getResponseHeader) && (t = e.xhr.getResponseHeader(\"WWW-Authenticate\")), t) {\n                    var r = t.match(/error=\"(.*?)\"/) || [],\n                        n = t.match(/error_description=\"(.*?)\"/) || [],\n                        o = r[1],\n                        i = n[1];\n                    o && i && (e = new I(o, i));\n                  }\n                }\n\n                throw e;\n              }));\n\n            case 13:\n            case \"end\":\n              return e.stop();\n          }\n        }, e);\n      })), A.apply(this, arguments);\n    }\n\n    var _ = r(8),\n        x = r(9),\n        O = r(4),\n        U = r(0),\n        P = r(5),\n        C = r(23),\n        R = r(1),\n        I = r(24),\n        L = r(3),\n        N = r(2).storage,\n        M = r(2),\n        j = r(25);\n\n    e.exports = {\n      revokeToken: n,\n      getToken: h,\n      getWithoutPrompt: d,\n      getWithPopup: g,\n      getWithRedirect: v,\n      parseFromUrl: b,\n      decodeToken: o,\n      renewToken: w,\n      getUserInfo: E,\n      verifyToken: i,\n      handleOAuthResponse: c,\n      prepareOauthParams: m,\n      _addOAuthParamsToStorage: y,\n      _getOAuthParamsStrFromStorage: S\n    };\n  }, function (e, t, r) {\n    function n(e) {\n      var t = new TextEncoder().encode(e);\n      return crypto.subtle.digest(\"SHA-256\", t).then(function (e) {\n        var t = new Uint8Array(e),\n            r = t.slice(0, 16),\n            n = String.fromCharCode.apply(null, r);\n        return i.stringToBase64Url(n);\n      });\n    }\n\n    function o(e, t) {\n      t = i.clone(t);\n      var r = {\n        name: \"RSASSA-PKCS1-v1_5\",\n        hash: {\n          name: \"SHA-256\"\n        }\n      },\n          n = [\"verify\"];\n      return delete t.use, crypto.subtle.importKey(\"jwk\", t, r, !0, n).then(function (t) {\n        var n = e.split(\".\"),\n            o = i.stringToBuffer(n[0] + \".\" + n[1]),\n            s = i.base64UrlDecode(n[2]),\n            a = i.stringToBuffer(s);\n        return crypto.subtle.verify(r, t, a, o);\n      });\n    }\n\n    var i = r(0);\n    e.exports = {\n      getOidcHash: n,\n      verifyToken: o\n    };\n  }, function (e, t) {\n    function r(e, t) {\n      this.name = \"OAuthError\", this.message = t, this.errorCode = e, this.errorSummary = t;\n    }\n\n    r.prototype = new Error(), e.exports = r;\n  }, function (e, t, r) {\n    function n(e) {\n      return (\"0\" + e.toString(16)).substr(-2);\n    }\n\n    function o(e) {\n      var t = new Uint8Array(Math.ceil(e / 2));\n      return crypto.getRandomValues(t), Array.from(t, n).join(\"\").slice(0, e);\n    }\n\n    function i(e) {\n      var t = e || \"\";\n      return t.length < y && (t += o(y - t.length)), encodeURIComponent(t).slice(0, v);\n    }\n\n    function s(e, t) {\n      return t = m.extend({}, e.options.cookies, t), e.options.storageUtil.getPKCEStorage(t);\n    }\n\n    function a(e, t) {\n      var r = s(e, {\n        preferLocalStorage: !0\n      }),\n          n = r.getStorage();\n      n.codeVerifier && m.warn(\"saveMeta: PKCE codeVerifier exists in localStorage. This may indicate an auth flow is already in progress.\"), r = s(e), n = r.getStorage(), n.codeVerifier && m.warn(\"saveMeta: PKCE codeVerifier exists in sessionStorage. This may indicate an auth flow is already in progress.\"), c(e), r.setStorage(t);\n    }\n\n    function u(e) {\n      var t = s(e, {\n        preferLocalStorage: !0\n      }),\n          r = t.getStorage();\n      if (!r.codeVerifier && (t = s(e, {\n        preferLocalStorage: !1\n      }), r = t.getStorage(), !r.codeVerifier)) throw new d(\"Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.\", null);\n      return r;\n    }\n\n    function c(e) {\n      var t = s(e);\n      t.clearStorage(), t = s(e, {\n        preferLocalStorage: !0\n      }), t.clearStorage();\n    }\n\n    function l(e) {\n      var t = new TextEncoder().encode(e);\n      return crypto.subtle.digest(\"SHA-256\", t).then(function (e) {\n        var t = String.fromCharCode.apply(null, new Uint8Array(e));\n        return m.stringToBase64Url(t);\n      });\n    }\n\n    function f(e) {\n      if (!e.clientId) throw new d(\"A clientId must be specified in the OktaAuth constructor to get a token\");\n      if (!e.redirectUri) throw new d(\"The redirectUri passed to /authorize must also be passed to /token\");\n      if (!e.authorizationCode) throw new d(\"An authorization code (returned from /authorize) must be passed to /token\");\n      if (!e.codeVerifier) throw new d('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n    }\n\n    function p(e) {\n      var t = m.removeNils({\n        client_id: e.clientId,\n        redirect_uri: e.redirectUri,\n        grant_type: \"authorization_code\",\n        code: e.authorizationCode,\n        code_verifier: e.codeVerifier\n      });\n      return m.toQueryParams(t).slice(1);\n    }\n\n    function h(e, t, r) {\n      f(t);\n      var n = p(t);\n      return g.httpRequest(e, {\n        url: r.tokenUrl,\n        method: \"POST\",\n        args: n,\n        withCredentials: !1,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      });\n    }\n\n    var d = r(1),\n        g = r(4),\n        m = r(0),\n        y = 43,\n        v = 128;\n    e.exports = {\n      DEFAULT_CODE_CHALLENGE_METHOD: \"S256\",\n      generateVerifier: i,\n      clearMeta: c,\n      saveMeta: a,\n      loadMeta: u,\n      computeChallenge: l,\n      getToken: h\n    };\n  }, function (e, t, r) {\n    function n(e, t) {\n      return t.expiresAt - e.options.expireEarlySeconds;\n    }\n\n    function o(e, t) {\n      return n(e, t) <= e.clock.now();\n    }\n\n    function i(e, t, r) {\n      e.emitter.emit(\"expired\", t, r);\n    }\n\n    function s(e, t) {\n      e.emitter.emit(\"error\", t);\n    }\n\n    function a(e, t) {\n      clearTimeout(e.expireTimeouts[t]), delete e.expireTimeouts[t], delete e.renewPromise[t];\n    }\n\n    function u(e) {\n      var t = e.expireTimeouts;\n\n      for (var r in t) t.hasOwnProperty(r) && a(e, r);\n    }\n\n    function c(e, t, r, o) {\n      var s = n(t, o),\n          u = 1e3 * Math.max(s - t.clock.now(), 0);\n      a(t, r);\n      var c = setTimeout(function () {\n        i(t, r, o);\n      }, u);\n      t.expireTimeouts[r] = c;\n    }\n\n    function l(e, t, r) {\n      try {\n        var n = r.getStorage();\n      } catch (e) {\n        return void s(t, e);\n      }\n\n      for (var o in n) if (n.hasOwnProperty(o)) {\n        var i = n[o];\n        c(e, t, o, i);\n      }\n    }\n\n    function f(e, t, r, n, o) {\n      var i = r.getStorage();\n      if (!w.isObject(o) || !o.scopes || !o.expiresAt && 0 !== o.expiresAt || !o.idToken && !o.accessToken) throw new T(\"Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties\");\n      i[n] = o, r.setStorage(i), c(e, t, n, o);\n    }\n\n    function p(e, t) {\n      return e.getStorage()[t];\n    }\n\n    function h(e, t, r, n) {\n      return new Promise(function (i, s) {\n        if (t.options.autoRenew && A.isLoginRedirect(e)) return s(new T(\"The app should not attempt to call authorize API on callback. Authorize flow is already in process. Use parseFromUrl() to receive tokens.\"));\n        var a = p(r, n);\n        return i(a && o(t, a) ? t.options.autoRenew ? g(e, t, r, n) : d(t, r, n) : a);\n      });\n    }\n\n    function d(e, t, r) {\n      a(e, r);\n      var n = t.getStorage();\n      delete n[r], t.setStorage(n);\n    }\n\n    function g(e, t, r, n) {\n      var o = t.renewPromise[n];\n      if (o) return o;\n\n      try {\n        var i = p(r, n);\n        if (!i) throw new T(\"The tokenManager has no token for the key: \" + n);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n\n      return a(t, n), t.renewPromise[n] = e.token.renew(i).then(function (o) {\n        var i = p(r, n);\n        if (i) return f(e, t, r, n, o), t.emitter.emit(\"renewed\", n, o, i), o;\n      }).catch(function (e) {\n        throw \"OAuthError\" !== e.name && \"AuthSdkError\" !== e.name || (d(t, r, n), e.tokenKey = n, e.accessToken = !!i.accessToken, s(t, e)), e;\n      }).finally(function () {\n        delete t.renewPromise[n];\n      }), t.renewPromise[n];\n    }\n\n    function m(e, t) {\n      u(e), t.clearStorage();\n    }\n\n    function y(e, t) {\n      t = w.extend({}, _, w.removeNils(t)), \"localStorage\" !== t.storage || k.browserHasLocalStorage() || (w.warn(\"This browser doesn't support localStorage. Switching to sessionStorage.\"), t.storage = \"sessionStorage\"), \"sessionStorage\" !== t.storage || k.browserHasSessionStorage() || (w.warn(\"This browser doesn't support sessionStorage. Switching to cookie-based storage.\"), t.storage = \"cookie\");\n      var r;\n      if (\"object\" === v(t.storage)) r = t.storage;else switch (t.storage) {\n        case \"localStorage\":\n          r = localStorage;\n          break;\n\n        case \"sessionStorage\":\n          r = sessionStorage;\n          break;\n\n        case \"cookie\":\n          r = function (e) {\n            var t = k.getCookieStorage(e);\n            return {\n              getItem: function (e) {\n                var r = t.getItem(),\n                    n = {};\n                return Object.keys(r).forEach(function (t) {\n                  0 === t.indexOf(e) && (n[t.replace(\"\".concat(e, \"_\"), \"\")] = JSON.parse(r[t]));\n                }), JSON.stringify(n);\n              },\n              setItem: function (e, r) {\n                var n = JSON.parse(this.getItem(e));\n                r = JSON.parse(r), Object.keys(r).forEach(function (o) {\n                  var i = e + \"_\" + o,\n                      s = JSON.stringify(r[o]);\n                  t.setItem(i, s), delete n[o];\n                }), Object.keys(n).forEach(function (t) {\n                  k.storage.delete(e + \"_\" + t);\n                });\n              }\n            };\n          }(e.options.cookies);\n\n          break;\n\n        case \"memory\":\n          r = k.getInMemoryStorage();\n          break;\n\n        default:\n          throw new T(\"Unrecognized storage option\");\n      }\n      var n = t.storageKey || S.TOKEN_STORAGE_NAME,\n          o = b(r, n),\n          i = E.create(e, t),\n          s = {\n        clock: i,\n        options: t,\n        emitter: e.emitter,\n        expireTimeouts: {},\n        renewPromise: {}\n      };\n      this.add = w.bind(f, this, e, s, o), this.get = w.bind(h, this, e, s, o), this.remove = w.bind(d, this, s, o), this.clear = w.bind(m, this, s, o), this.renew = w.bind(g, this, e, s, o), this.on = w.bind(s.emitter.on, s.emitter), this.off = w.bind(s.emitter.off, s.emitter), l(e, s, o);\n    }\n\n    var v = r(6),\n        w = r(0),\n        T = r(1),\n        k = r(2),\n        S = r(3),\n        b = r(7),\n        E = r(27),\n        A = r(5),\n        _ = {\n      autoRenew: !0,\n      storage: \"localStorage\",\n      expireEarlySeconds: 30\n    };\n    e.exports = y;\n  }, function (e, t, r) {\n    function n(e) {\n      this.localOffset = parseInt(e || 0);\n    }\n\n    r(0).extend(n.prototype, {\n      now: function () {\n        return (Date.now() + this.localOffset) / 1e3;\n      }\n    }), n.create = function () {\n      return new n(0);\n    }, e.exports = n;\n  }, function (e, t, r) {\n    function n() {\n      this.queue = [], this.running = !1;\n    }\n\n    var o = r(0);\n    o.extend(n.prototype, {\n      push: function () {\n        var e = this,\n            t = Array.prototype.slice.call(arguments),\n            r = t[0],\n            n = t[1];\n        return t = t.slice(2), new Promise(function (o, i) {\n          e.queue.push({\n            method: r,\n            thisObject: n,\n            args: t,\n            resolve: o,\n            reject: i\n          }), e.run();\n        });\n      },\n      run: function () {\n        var e = this;\n\n        if (!this.running && 0 !== this.queue.length) {\n          this.running = !0;\n          var t = this.queue.shift(),\n              r = t.method.apply(t.thisObject, t.args);\n          o.isPromise(r) ? r.then(t.resolve, t.reject).finally(function () {\n            e.running = !1, e.run();\n          }) : (t.resolve(r), this.running = !1, this.run());\n        }\n      }\n    }), e.exports = n;\n  }]);\n});","map":{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:/webpack/bootstrap e4815c10cb7683656589","webpack:///okta-auth-js.min.js","webpack:///lib/util.js","webpack:///lib/errors/AuthSdkError.js","webpack:///lib/browser/browserStorage.js","webpack:///lib/constants.js","webpack:///lib/http.js","webpack:///lib/oauthUtil.js","webpack:///root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/typeof.js","webpack:///lib/storageBuilder.js","webpack:///root/okta/okta-auth-js/node_modules/@babel/runtime/regenerator/index.js","webpack:///root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///lib/tx.js","webpack:///lib/browser/browserIndex.js","webpack:///lib/fetch/fetchRequest.js","webpack:///root/okta/okta-auth-js/node_modules/cross-fetch/dist/browser-ponyfill.js","webpack:///root/okta/okta-auth-js/node_modules/js-cookie/src/js.cookie.js","webpack:///lib/browser/browser.js","webpack:///root/okta/okta-auth-js/node_modules/regenerator-runtime/runtime.js","webpack:///root/okta/okta-auth-js/node_modules/tiny-emitter/index.js","webpack:///lib/builderUtil.js","webpack:///lib/errors/AuthApiError.js","webpack:///lib/errors/AuthPollStopError.js","webpack:///lib/session.js","webpack:///lib/token.js","webpack:///lib/crypto.js","webpack:///lib/errors/OAuthError.js","webpack:///lib/pkce.js","webpack:///lib/TokenManager.js","webpack:///lib/clock.js","webpack:///lib/PromiseQueue.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_typeof","_regeneratorRuntime","_asyncToGenerator","_getUserInfo","apply","arguments","mark","util","stringToBase64Url","str","b64","btoa","base64ToBase64Url","replace","base64UrlToBase64","b64u","base64UrlToString","length","utf8","atob","decodeURIComponent","escape","e","stringToBuffer","buffer","Uint8Array","charCodeAt","base64UrlDecode","bind","fn","ctx","additionalArgs","Array","slice","args","concat","isAbsoluteUrl","url","test","isString","obj","toString","isObject","isNumber","isoToUTCString","parts","match","isoTime","Date","UTC","toUTCString","toQueryParams","key","undefined","push","encodeURIComponent","join","genRandomString","randomCharset","random","cl","Math","floor","extend","obj1","forEach","prop","removeNils","cleaned","value","clone","JSON","stringify","parse","omit","props","newobj","indexOf","find","collection","searchParams","item","found","getLink","linkName","altName","_links","link","getNativeConsole","window","console","getConsole","nativeConsole","log","warn","text","deprecate","deprecateWrap","removeTrailingSlash","path","trimmed","isIE11OrLess","document","documentMode","isFunction","delay","ms","Promise","resolve","setTimeout","isPromise","finally","AuthSdkError","msg","xhr","message","errorCode","errorSummary","errorLink","errorId","errorCauses","Error","Cookies","require","storageBuilder","constants","storageUtil","browserHasLocalStorage","storage","getLocalStorage","testStorage","browserHasSessionStorage","getSessionStorage","getPKCEStorage","options","preferLocalStorage","PKCE_STORAGE_NAME","getCookieStorage","getHttpCache","CACHE_STORAGE_NAME","localStorage","sessionStorage","secure","sameSite","getItem","setItem","set","getInMemoryStorage","store","removeItem","expiresAt","cookieOptions","expires","delete","remove","AuthApiError","httpRequest","sdk","method","saveAuthnState","accessToken","withCredentials","httpCache","cookies","cacheResponse","cacheContents","getStorage","cachedResponse","now","response","headers","userAgent","ajaxOptions","data","err","res","httpRequestClient","then","resp","responseText","stateToken","STATE_TOKEN_KEY_NAME","updateStorage","DEFAULT_CACHE_DURATION","catch","serverErr","status","transformErrorXHR","getIssuerOrigin","getOptions","post","postOptions","http","generateState","generateNonce","isToken","idToken","isArray","scopes","addListener","eventTarget","addEventListener","attachEvent","removeListener","removeEventListener","detachEvent","loadFrame","src","iframe","createElement","style","display","body","appendChild","loadPopup","title","popupTitle","appearance","winEl","open","location","href","getWellKnown","issuer","authServerUri","getKey","kid","wellKnown","jwksUri","cachedKey","keys","clearStorage","validateClaims","claims","validationParams","aud","clientId","iss","nonce","iat","exp","maxClockSkew","getOAuthUrls","authorizeUrl","userinfoUrl","tokenUrl","logoutUrl","revokeUrl","baseUrl","urlParamsToObject","hashOrSearch","plus2space","paramSplit","fragment","charAt","substring","param","exec","hasTokensInHash","hash","hasCodeInUrl","isRedirectUri","uri","authParams","redirectUri","isLoginRedirect","pkce","responseType","responseMode","hasCode","search","Symbol","iterator","constructor","webstorage","storageName","storageString","setStorage","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","error","done","AuthPollStopError","addStateToken","builtArgs","getStateToken","transactionStatus","resumeTransaction","tx","exists","_get","AuthTransaction","introspect","transactionStep","transactionExists","postToTransaction","getPollFn","ref","rememberDevice","autoPush","transactionCallBack","DEFAULT_POLLING_DELAY","pollLink","pollFn","opts","isPolling","retryCount","recursivePoll","pollRes","factorResult","delayLength","pow","link2fn","lk","hints","allow","factorType","provider","params","profile","updatePhone","links2fns","fns","type","poll","flattenEmbedded","objArr","ol","embedded","_embedded","cancel","fetchRequest","fetch","readData","toLowerCase","json","formatResult","result","responseJSON","credentials","ok","__self__","F","DOMException","support","iterable","blob","Blob","formData","arrayBuffer","isDataView","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","String","TypeError","normalizeValue","iteratorFor","items","next","shift","Headers","map","append","header","getOwnPropertyNames","oldValue","has","callback","thisArg","values","entries","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","chars","fromCharCode","bufferClone","byteLength","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","decode","methods","normalizeMethod","upcased","toUpperCase","Request","input","mode","signal","referrer","form","trim","split","bytes","parseHeaders","rawHeaders","line","Response","bodyInit","statusText","redirectStatuses","redirect","RangeError","stack","create","init","request","aborted","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","ontimeout","onabort","setRequestHeader","onreadystatechange","readyState","send","polyfill","default","registeredInModuleLoader","OldCookies","api","noConflict","attributes","converter","defaults","setMilliseconds","getMilliseconds","write","stringifiedAttributes","attributeName","cookie","rdecode","read","getJSON","withConverter","Emitter","builderUtil","oauthUtil","session","token","TokenManager","PromiseQueue","getCookieSettings","cookieSettings","features","isHTTPS","OktaAuthBuilder","assertValidConfig","postLogoutRedirectUri","onSessionExpired","getUserAgent","SDK_VERSION","DEFAULT_MAX_CLOCK_SKEW","ignoreSignature","close","closeSession","sessionExists","getSession","refresh","refreshSession","setCookieAndRedirect","resume","authorize","_getLocationHref","_tokenQueue","getWithoutPrompt","getWithPopup","getWithRedirect","parseFromUrl","decodeToken","revoke","revokeToken","renew","renewToken","getUserInfo","verify","verifyToken","syncMethods","_setLocation","_getHistory","history","_getLocation","_getDocument","fingerprint","_getUserAgent","navigator","isWindowsPhone","isFingerprintSupported","agent","emitter","tokenManager","on","_onTokenManagerError","proto","isPopupPostMessageSupported","isIE8or9","postMessage","isTokenVerifySupported","crypto","subtle","hasTextEncoder","TextEncoder","isPKCESupported","protocol","isLocalhost","hostname","signIn","sendFingerprint","clear","revokeAccessToken","signOut","defaultUri","origin","currentUri","reload","assign","state","idTokenHint","logoutUri","addSharedPrototypes","webfinger","timeout","listener","source","clearTimeout","contains","parentElement","removeChild","buildOktaAuth","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","ctor","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","invoke","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","reverse","pop","iteratorMethod","isNaN","skipTempReset","prev","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","E","once","off","_","emit","evtArr","len","evts","liveEvents","RegExp","template","forgotPassword","unlockAccount","verifyRecoveryToken","OktaAuth","ajaxRequest","sdkValue","user","sessionToken","redirectUrl","checkAccountSetupComplete","sdkCrypto","OAuthError","browserStorage","PKCE","token_type_hint","creds","jwt","decodedToken","payload","signature","validationOptions","valid","at_hash","getOidcHash","addPostMessageListener","responseHandler","timeoutId","exchangeCodeForToken","oauthParams","authorizationCode","urls","meta","loadMeta","getTokenParams","codeVerifier","getToken","validateResponse","clearMeta","handleOAuthResponse","code","tokenDict","expiresIn","expires_in","tokenType","token_type","access_token","id_token","Number","idTokenObj","tokens","getDefaultOAuthParams","convertOAuthParamsToQueryParams","oauthQueryParams","codeChallenge","codeChallengeMethod","idp","idpScope","loginHint","maxAge","prompt","mayBeArray","scope","buildAuthorizeParams","prepareOauthParams","sessionTokenOverrides","idpOverrides","requestUrl","endpoint","iframePromise","iframeEl","oauthPromise","windowOptions","windowEl","closePoller","setInterval","closed","clearInterval","errorMessage","DEFAULT_CODE_CHALLENGE_METHOD","generateVerifier","saveMeta","computeChallenge","clonedParams","_addOAuthParamsToStorage","tokenParams","tokenParamsStr","REDIRECT_OAUTH_PARAMS_NAME","REDIRECT_NONCE_COOKIE_NAME","REDIRECT_STATE_COOKIE_NAME","removeHash","nativeHistory","nativeDoc","nativeLoc","replaceState","pathname","removeSearch","_getOAuthParamsStrFromStorage","oauthParamsStr","defaultResponseMode","paramStr","accessTokenObject","idTokenObject","userInfo","sub","authenticateHeader","getResponseHeader","errorMatches","errorDescriptionMatches","errorDescription","encode","digest","intBuffer","firstHalf","algo","usages","use","importKey","cryptoKey","b64Signature","summary","MIN_VERIFIER_LENGTH","MAX_VERIFIER_LENGTH","dec2hex","dec","substr","getRandomString","a","ceil","getRandomValues","from","prefix","verifier","validateOptions","oauthOptions","getPostData","SdkClock","DEFAULT_OPTIONS","autoRenew","expireEarlySeconds","getExpireTime","tokenMgmtRef","hasExpired","clock","emitExpired","emitError","clearExpireEventTimeout","expireTimeouts","renewPromise","clearExpireEventTimeoutAll","setExpireEventTimeout","expireTime","expireEventWait","max","expireEventTimeout","setExpireEventTimeoutAll","tokenStorage","add","getAsync","existingPromise","freshToken","oldToken","tokenKey","storageProvider","k","existingValues","storageKey","valueToStore","TOKEN_STORAGE_NAME","localOffset","parseInt","queue","running","thisObject","run","queueItem"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e4815c10cb7683656589","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global window, document, btoa, atob, Uint8Array */\nvar util = module.exports; // converts a string to base64 (url/filename safe variant)\n\nutil.stringToBase64Url = function (str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n}; // converts a standard base64-encoded string to a \"url/filename safe\" variant\n\n\nutil.base64ToBase64Url = function (b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}; // converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\n\n\nutil.base64UrlToBase64 = function (b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function (b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n\n  switch (b64.length % 4) {\n    case 0:\n      break;\n\n    case 2:\n      b64 += '==';\n      break;\n\n    case 3:\n      b64 += '=';\n      break;\n\n    default:\n      throw 'Not a valid Base64Url';\n  }\n\n  var utf8 = atob(b64);\n\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function (str) {\n  var buffer = new Uint8Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n\n  return buffer;\n};\n\nutil.base64UrlDecode = function (str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function (fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function (url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isoToUTCString = function (str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function (obj) {\n  var str = [];\n\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function (length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n\n  return random;\n};\n\nutil.extend = function () {\n  // First object will be modified!\n  var obj1 = arguments[0]; // Properties from other objects will be copied over\n\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function (obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function (obj) {\n  var cleaned = {};\n\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n\n  return cleaned;\n};\n\nutil.clone = function (obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n\n  return obj;\n}; // Analogous to _.omit\n\n\nutil.omit = function (obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n\n  return util.clone(newobj);\n};\n\nutil.find = function (collection, searchParams) {\n  var c = collection.length;\n\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function (obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]); // If a link has a name and we have an altName, return if they match\n\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function () {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function () {\n  var nativeConsole = util.getNativeConsole();\n\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n\n  return {\n    log: function log() {}\n  };\n};\n\nutil.warn = function (text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function (text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function (text, fn) {\n  return function () {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function (path) {\n  if (!path) {\n    return;\n  } // Remove any whitespace before or after string\n\n\n  var trimmed = path.replace(/^\\s+|\\s+$/gm, ''); // Remove trailing slash(es)\n\n  trimmed = trimmed.replace(/\\/+$/, '');\n  return trimmed;\n};\n\nutil.isIE11OrLess = function () {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function (fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};\n\nutil.delay = function (ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\n\nutil.isPromise = function (obj) {\n  return obj && obj.finally && typeof obj.finally === 'function';\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction AuthSdkError(msg, xhr) {\n  this.name = 'AuthSdkError';\n  this.message = msg;\n  this.errorCode = 'INTERNAL';\n  this.errorSummary = msg;\n  this.errorLink = 'INTERNAL';\n  this.errorId = 'INTERNAL';\n  this.errorCauses = [];\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\n\nAuthSdkError.prototype = new Error();\nmodule.exports = AuthSdkError;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global localStorage, sessionStorage */\nvar Cookies = __webpack_require__(14);\n\nvar storageBuilder = __webpack_require__(7);\n\nvar constants = __webpack_require__(3);\n\nvar AuthSdkError = __webpack_require__(1); // Building this as an object allows us to mock the functions in our tests\n\n\nvar storageUtil = {}; // IE11 bug that Microsoft doesn't plan to fix\n// https://connect.microsoft.com/IE/Feedback/Details/1496040\n\nstorageUtil.browserHasLocalStorage = function () {\n  try {\n    var storage = storageUtil.getLocalStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.browserHasSessionStorage = function () {\n  try {\n    var storage = storageUtil.getSessionStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.getPKCEStorage = function (options) {\n  options = options || {};\n\n  if (!options.preferLocalStorage && storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.PKCE_STORAGE_NAME);\n  } else if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.PKCE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.PKCE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getHttpCache = function (options) {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.CACHE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.CACHE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.CACHE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getLocalStorage = function () {\n  return localStorage;\n};\n\nstorageUtil.getSessionStorage = function () {\n  return sessionStorage;\n}; // Provides webStorage-like interface for cookies\n\n\nstorageUtil.getCookieStorage = function (options) {\n  var secure = options.secure;\n  var sameSite = options.sameSite;\n\n  if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n    throw new AuthSdkError('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n  }\n\n  return {\n    getItem: storageUtil.storage.get,\n    setItem: function setItem(key, value) {\n      // Cookie shouldn't expire\n      storageUtil.storage.set(key, value, '2200-01-01T00:00:00.000Z', {\n        secure: secure,\n        sameSite: sameSite\n      });\n    }\n  };\n}; // Provides an in-memory solution\n\n\nstorageUtil.getInMemoryStorage = function () {\n  var store = {};\n  return {\n    getItem: function getItem(key) {\n      return store[key];\n    },\n    setItem: function setItem(key, value) {\n      store[key] = value;\n    }\n  };\n};\n\nstorageUtil.testStorage = function (storage) {\n  var key = 'okta-test-storage';\n\n  try {\n    storage.setItem(key, key);\n    storage.removeItem(key);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.storage = {\n  set: function set(name, value, expiresAt, options) {\n    var secure = options.secure;\n    var sameSite = options.sameSite;\n\n    if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n      throw new AuthSdkError('storage.set: \"secure\" and \"sameSite\" options must be provided');\n    }\n\n    var cookieOptions = {\n      path: options.path || '/',\n      secure: secure,\n      sameSite: sameSite\n    }; // eslint-disable-next-line no-extra-boolean-cast\n\n    if (!!Date.parse(expiresAt)) {\n      // Expires value can be converted to a Date object.\n      //\n      // If the 'expiresAt' value is not provided, or the value cannot be\n      // parsed as a Date object, the cookie will set as a session cookie.\n      cookieOptions.expires = new Date(expiresAt);\n    }\n\n    Cookies.set(name, value, cookieOptions);\n    return storageUtil.storage.get(name);\n  },\n  get: function get(name) {\n    return Cookies.get(name);\n  },\n  delete: function _delete(name) {\n    return Cookies.remove(name, {\n      path: '/'\n    });\n  }\n};\nmodule.exports = storageUtil;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  'STATE_TOKEN_KEY_NAME': 'oktaStateToken',\n  'DEFAULT_POLLING_DELAY': 500,\n  'DEFAULT_MAX_CLOCK_SKEW': 300,\n  'DEFAULT_CACHE_DURATION': 86400,\n  'REDIRECT_OAUTH_PARAMS_NAME': 'okta-oauth-redirect-params',\n  'REDIRECT_STATE_COOKIE_NAME': 'okta-oauth-state',\n  'REDIRECT_NONCE_COOKIE_NAME': 'okta-oauth-nonce',\n  'TOKEN_STORAGE_NAME': 'okta-token-storage',\n  'CACHE_STORAGE_NAME': 'okta-cache-storage',\n  'PKCE_STORAGE_NAME': 'okta-pkce-storage',\n  'ACCESS_TOKEN_STORAGE_KEY': 'accessToken',\n  'ID_TOKEN_STORAGE_KEY': 'idToken'\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nvar util = __webpack_require__(0);\n\nvar AuthApiError = __webpack_require__(19);\n\nvar constants = __webpack_require__(3);\n\nfunction httpRequest(sdk, options) {\n  options = options || {};\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials !== false,\n      // default value is true\n  storageUtil = sdk.options.storageUtil,\n      storage = storageUtil.storage,\n      httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url];\n\n    if (cachedResponse && Date.now() / 1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n\n  var headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'X-Okta-User-Agent-Extended': sdk.userAgent\n  };\n  util.extend(headers, sdk.options.headers, options.headers);\n\n  if (accessToken && util.isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions = {\n    headers: headers,\n    data: args || undefined,\n    withCredentials: withCredentials\n  };\n  var err, res;\n  return sdk.options.httpRequestClient(method, url, ajaxOptions).then(function (resp) {\n    res = resp.responseText;\n\n    if (res && util.isString(res)) {\n      res = JSON.parse(res);\n    }\n\n    if (saveAuthnState) {\n      if (!res.stateToken) {\n        storage.delete(constants.STATE_TOKEN_KEY_NAME);\n      }\n    }\n\n    if (res && res.stateToken && res.expiresAt) {\n      storage.set(constants.STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies);\n    }\n\n    if (res && options.cacheResponse) {\n      httpCache.updateStorage(url, {\n        expiresAt: Math.floor(Date.now() / 1000) + constants.DEFAULT_CACHE_DURATION,\n        response: res\n      });\n    }\n\n    return res;\n  }).catch(function (resp) {\n    var serverErr = resp.responseText || {};\n\n    if (util.isString(serverErr)) {\n      try {\n        serverErr = JSON.parse(serverErr);\n      } catch (e) {\n        serverErr = {\n          errorSummary: 'Unknown error'\n        };\n      }\n    }\n\n    if (resp.status >= 500) {\n      serverErr.errorSummary = 'Unknown error';\n    }\n\n    if (sdk.options.transformErrorXHR) {\n      resp = sdk.options.transformErrorXHR(util.clone(resp));\n    }\n\n    err = new AuthApiError(serverErr, resp);\n\n    if (err.errorCode === 'E0000011') {\n      storage.delete(constants.STATE_TOKEN_KEY_NAME);\n    }\n\n    throw err;\n  });\n}\n\nfunction get(sdk, url, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  util.extend(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nfunction post(sdk, url, args, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  util.extend(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n\nmodule.exports = {\n  get: get,\n  post: post,\n  httpRequest: httpRequest\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global window, document */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(4);\n\nvar util = __webpack_require__(0);\n\nvar storageUtil = __webpack_require__(2);\n\nvar AuthSdkError = __webpack_require__(1);\n\nfunction generateState() {\n  return util.genRandomString(64);\n}\n\nfunction generateNonce() {\n  return util.genRandomString(64);\n}\n\nfunction isToken(obj) {\n  if (obj && (obj.accessToken || obj.idToken) && Array.isArray(obj.scopes)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nfunction removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nfunction loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n  return document.body.appendChild(iframe);\n}\n\nfunction loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' + 'top=100, left=500, width=600, height=600';\n\n  if (util.isIE11OrLess()) {\n    // IE<=11 doesn't fully support postMessage at time of writting.\n    // the following simple solution happened to solve the issue\n    // without adding another proxy layer which makes flow more complecated.\n    var winEl = window.open('/', title, appearance);\n    winEl.location.href = src;\n    return winEl;\n  } else {\n    return window.open(src, title, appearance);\n  }\n}\n\nfunction getWellKnown(sdk, issuer) {\n  var authServerUri = issuer || sdk.options.issuer;\n  return http.get(sdk, authServerUri + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nfunction getKey(sdk, issuer, kid) {\n  var httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n  return getWellKnown(sdk, issuer).then(function (wellKnown) {\n    var jwksUri = wellKnown['jwks_uri']; // Check our kid against the cached version (if it exists and isn't expired)\n\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n\n    if (cachedResponse && Date.now() / 1000 < cachedResponse.expiresAt) {\n      var cachedKey = util.find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    } // Remove cache for the key\n\n\n    httpCache.clearStorage(jwksUri); // Pull the latest keys if the key wasn't in the cache\n\n    return http.get(sdk, jwksUri, {\n      cacheResponse: true\n    }).then(function (res) {\n      var key = util.find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n\nfunction validateClaims(sdk, claims, validationParams) {\n  var aud = validationParams.clientId;\n  var iss = validationParams.issuer;\n  var nonce = validationParams.nonce;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  var now = Math.floor(Date.now() / 1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' + 'does not match [' + iss + ']');\n  }\n\n  if (claims.aud !== aud) {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' + 'does not match [' + aud + ']');\n  }\n\n  if (claims.iat > claims.exp) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if (now - sdk.options.maxClockSkew > claims.exp) {\n    throw new AuthSdkError('The JWT expired and is no longer valid');\n  }\n\n  if (claims.iat > now + sdk.options.maxClockSkew) {\n    throw new AuthSdkError('The JWT was issued in the future');\n  }\n}\n\nfunction getOAuthUrls(sdk, options) {\n  if (arguments.length > 2) {\n    throw new AuthSdkError('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n  }\n\n  options = options || {}; // Get user-supplied arguments\n\n  var authorizeUrl = util.removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = util.removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  var userinfoUrl = util.removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = util.removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = util.removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = util.removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n  var baseUrl = issuer.indexOf('/oauth2') > 0 ? issuer : issuer + '/oauth2';\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n\nfunction urlParamsToObject(hashOrSearch) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n  var fragment = hashOrSearch; // Some hash based routers will automatically add a / character after the hash\n\n  if (fragment.charAt(0) === '#' && fragment.charAt(1) === '/') {\n    fragment = fragment.substring(2);\n  } // Remove the leading # or ?\n\n\n  if (fragment.charAt(0) === '#' || fragment.charAt(0) === '?') {\n    fragment = fragment.substring(1);\n  }\n\n  var obj = {}; // Loop until we have no more params\n\n  var param;\n\n  while (true) {\n    // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n\n    if (!param) {\n      break;\n    }\n\n    var key = param[1];\n    var value = param[2]; // id_token should remain base64url encoded\n\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n\n  return obj;\n}\n\nfunction hasTokensInHash(hash) {\n  return /((id|access)_token=)/i.test(hash);\n}\n\nfunction hasCodeInUrl(hashOrSearch) {\n  return /(code=)/i.test(hashOrSearch);\n}\n\nfunction isRedirectUri(uri, sdk) {\n  var authParams = sdk.options;\n  return uri && uri.indexOf(authParams.redirectUri) == 0;\n}\n/**\n * Check if tokens or a code have been passed back into the url, which happens in\n * the social auth IDP redirect flow.\n */\n\n\nfunction isLoginRedirect(sdk) {\n  var authParams = sdk.options;\n\n  if (authParams.pkce || authParams.responseType === 'code' || authParams.responseMode === 'query') {\n    // Look for code\n    var hasCode = authParams.responseMode === 'fragment' ? hasCodeInUrl(window.location.hash) : hasCodeInUrl(window.location.search);\n    return isRedirectUri(window.location.href, sdk) && hasCode;\n  } // Look for tokens (Implicit OIDC flow)\n\n\n  return hasTokensInHash(window.location.hash);\n}\n\nmodule.exports = {\n  generateState: generateState,\n  generateNonce: generateNonce,\n  getWellKnown: getWellKnown,\n  getKey: getKey,\n  validateClaims: validateClaims,\n  getOAuthUrls: getOAuthUrls,\n  loadFrame: loadFrame,\n  loadPopup: loadPopup,\n  urlParamsToObject: urlParamsToObject,\n  isToken: isToken,\n  addListener: addListener,\n  removeListener: removeListener,\n  isLoginRedirect: isLoginRedirect\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nvar AuthSdkError = __webpack_require__(1); // storage must have getItem and setItem\n\n\nfunction storageBuilder(webstorage, storageName) {\n  if (typeof storageName !== 'string' || !storageName.length) {\n    throw new AuthSdkError('\"storageName\" is required');\n  }\n\n  function getStorage() {\n    var storageString = webstorage.getItem(storageName);\n    storageString = storageString || '{}';\n\n    try {\n      return JSON.parse(storageString);\n    } catch (e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + storageName);\n    }\n  }\n\n  function setStorage(storage) {\n    try {\n      var storageString = JSON.stringify(storage);\n      webstorage.setItem(storageName, storageString);\n    } catch (e) {\n      throw new AuthSdkError('Unable to set storage: ' + storageName);\n    }\n  }\n\n  function clearStorage(key) {\n    if (!key) {\n      return setStorage({});\n    }\n\n    var storage = getStorage();\n    delete storage[key];\n    setStorage(storage);\n  }\n\n  function updateStorage(key, value) {\n    var storage = getStorage();\n    storage[key] = value;\n    setStorage(storage);\n  }\n\n  return {\n    getStorage: getStorage,\n    setStorage: setStorage,\n    clearStorage: clearStorage,\n    updateStorage: updateStorage\n  };\n}\n\nmodule.exports = storageBuilder;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(16);\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(4);\n\nvar util = __webpack_require__(0);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar AuthPollStopError = __webpack_require__(20);\n\nvar constants = __webpack_require__(3);\n\nfunction addStateToken(res, options) {\n  var builtArgs = {};\n  util.extend(builtArgs, options); // Add the stateToken if one isn't passed and we have one\n\n  if (!builtArgs.stateToken && res.stateToken) {\n    builtArgs.stateToken = res.stateToken;\n  }\n\n  return builtArgs;\n}\n\nfunction getStateToken(res) {\n  return addStateToken(res);\n}\n\nfunction transactionStatus(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn', args);\n}\n\nfunction resumeTransaction(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to resume'));\n    }\n  }\n\n  return sdk.tx.status(args).then(function (res) {\n    return new AuthTransaction(sdk, res);\n  });\n}\n\nfunction introspect(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to evaluate'));\n    }\n  }\n\n  return transactionStep(sdk, args).then(function (res) {\n    return new AuthTransaction(sdk, res);\n  });\n}\n\nfunction transactionStep(sdk, args) {\n  args = addStateToken(sdk, args); // v1 pipeline introspect API\n\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn/introspect', args);\n}\n\nfunction transactionExists(sdk) {\n  // We have a cookie state token\n  return !!sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n}\n\nfunction postToTransaction(sdk, url, args, options) {\n  return http.post(sdk, url, args, options).then(function (res) {\n    return new AuthTransaction(sdk, res);\n  });\n}\n\nfunction getPollFn(sdk, res, ref) {\n  return function (options) {\n    var delay;\n    var rememberDevice;\n    var autoPush;\n    var transactionCallBack;\n\n    if (util.isNumber(options)) {\n      delay = options;\n    } else if (util.isObject(options)) {\n      delay = options.delay;\n      rememberDevice = options.rememberDevice;\n      autoPush = options.autoPush;\n      transactionCallBack = options.transactionCallBack;\n    }\n\n    if (!delay && delay !== 0) {\n      delay = constants.DEFAULT_POLLING_DELAY;\n    } // Get the poll function\n\n\n    var pollLink = util.getLink(res, 'next', 'poll');\n\n    function pollFn() {\n      var opts = {};\n\n      if (typeof autoPush === 'function') {\n        try {\n          opts.autoPush = !!autoPush();\n        } catch (e) {\n          return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n        }\n      } else if (autoPush !== undefined && autoPush !== null) {\n        opts.autoPush = !!autoPush;\n      }\n\n      if (typeof rememberDevice === 'function') {\n        try {\n          opts.rememberDevice = !!rememberDevice();\n        } catch (e) {\n          return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n        }\n      } else if (rememberDevice !== undefined && rememberDevice !== null) {\n        opts.rememberDevice = !!rememberDevice;\n      }\n\n      var href = pollLink.href + util.toQueryParams(opts);\n      return http.post(sdk, href, getStateToken(res), {\n        saveAuthnState: false\n      });\n    }\n\n    ref.isPolling = true;\n    var retryCount = 0;\n\n    var recursivePoll = function recursivePoll() {\n      // If the poll was manually stopped during the delay\n      if (!ref.isPolling) {\n        return Promise.reject(new AuthPollStopError());\n      }\n\n      return pollFn().then(function (pollRes) {\n        // Reset our retry counter on success\n        retryCount = 0; // If we're still waiting\n\n        if (pollRes.factorResult && pollRes.factorResult === 'WAITING') {\n          // If the poll was manually stopped while the pollFn was called\n          if (!ref.isPolling) {\n            throw new AuthPollStopError();\n          }\n\n          if (typeof transactionCallBack === 'function') {\n            transactionCallBack(pollRes);\n          } // Continue poll\n\n\n          return util.delay(delay).then(recursivePoll);\n        } else {\n          // Any non-waiting result, even if polling was stopped\n          // during a request, will return\n          ref.isPolling = false;\n          return new AuthTransaction(sdk, pollRes);\n        }\n      }).catch(function (err) {\n        // Exponential backoff, up to 16 seconds\n        if (err.xhr && (err.xhr.status === 0 || err.xhr.status === 429) && retryCount <= 4) {\n          var delayLength = Math.pow(2, retryCount) * 1000;\n          retryCount++;\n          return util.delay(delayLength).then(recursivePoll);\n        }\n\n        throw err;\n      });\n    };\n\n    return recursivePoll().catch(function (err) {\n      ref.isPolling = false;\n      throw err;\n    });\n  };\n}\n\nfunction link2fn(sdk, res, obj, link, ref) {\n  if (Array.isArray(link)) {\n    return function (name, opts) {\n      if (!name) {\n        throw new AuthSdkError('Must provide a link name');\n      }\n\n      var lk = util.find(link, {\n        name: name\n      });\n\n      if (!lk) {\n        throw new AuthSdkError('No link found for that name');\n      }\n\n      return link2fn(sdk, res, obj, lk, ref)(opts);\n    };\n  } else if (link.hints && link.hints.allow && link.hints.allow.length === 1) {\n    var method = link.hints.allow[0];\n\n    switch (method) {\n      case 'GET':\n        return function () {\n          return http.get(sdk, link.href);\n        };\n\n      case 'POST':\n        return function (opts) {\n          if (ref && ref.isPolling) {\n            ref.isPolling = false;\n          }\n\n          var data = addStateToken(res, opts);\n\n          if (res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL') {\n            // Add factorType and provider\n            util.extend(data, {\n              factorType: obj.factorType,\n              provider: obj.provider\n            });\n          }\n\n          var params = {};\n          var autoPush = data.autoPush;\n\n          if (autoPush !== undefined) {\n            if (typeof autoPush === 'function') {\n              try {\n                params.autoPush = !!autoPush();\n              } catch (e) {\n                return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n              }\n            } else if (autoPush !== null) {\n              params.autoPush = !!autoPush;\n            }\n\n            data = util.omit(data, 'autoPush');\n          }\n\n          var rememberDevice = data.rememberDevice;\n\n          if (rememberDevice !== undefined) {\n            if (typeof rememberDevice === 'function') {\n              try {\n                params.rememberDevice = !!rememberDevice();\n              } catch (e) {\n                return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n              }\n            } else if (rememberDevice !== null) {\n              params.rememberDevice = !!rememberDevice;\n            }\n\n            data = util.omit(data, 'rememberDevice');\n          } else if (data.profile && data.profile.updatePhone !== undefined) {\n            if (data.profile.updatePhone) {\n              params.updatePhone = true;\n            }\n\n            data.profile = util.omit(data.profile, 'updatePhone');\n          }\n\n          var href = link.href + util.toQueryParams(params);\n          return postToTransaction(sdk, href, data);\n        };\n    }\n  }\n}\n\nfunction links2fns(sdk, res, obj, ref) {\n  var fns = {};\n\n  for (var linkName in obj._links) {\n    if (!obj._links.hasOwnProperty(linkName)) {\n      continue;\n    }\n\n    var link = obj._links[linkName];\n\n    if (linkName === 'next') {\n      linkName = link.name;\n    }\n\n    if (link.type) {\n      fns[linkName] = link;\n      continue;\n    }\n\n    switch (linkName) {\n      // poll is only found at the transaction\n      // level, so we don't need to pass the link\n      case 'poll':\n        fns.poll = getPollFn(sdk, res, ref);\n        break;\n\n      default:\n        var fn = link2fn(sdk, res, obj, link, ref);\n\n        if (fn) {\n          fns[linkName] = fn;\n        }\n\n    }\n  }\n\n  return fns;\n}\n\nfunction flattenEmbedded(sdk, res, obj, ref) {\n  obj = obj || res;\n  obj = util.clone(obj);\n\n  if (Array.isArray(obj)) {\n    var objArr = [];\n\n    for (var o = 0, ol = obj.length; o < ol; o++) {\n      objArr.push(flattenEmbedded(sdk, res, obj[o], ref));\n    }\n\n    return objArr;\n  }\n\n  var embedded = obj._embedded || {};\n\n  for (var key in embedded) {\n    if (!embedded.hasOwnProperty(key)) {\n      continue;\n    } // Flatten any nested _embedded objects\n\n\n    if (util.isObject(embedded[key]) || Array.isArray(embedded[key])) {\n      embedded[key] = flattenEmbedded(sdk, res, embedded[key], ref);\n    }\n  } // Convert any links on the embedded object\n\n\n  var fns = links2fns(sdk, res, obj, ref);\n  util.extend(embedded, fns);\n  obj = util.omit(obj, '_embedded', '_links');\n  util.extend(obj, embedded);\n  return obj;\n}\n\nfunction AuthTransaction(sdk, res) {\n  if (res) {\n    this.data = res;\n    util.extend(this, flattenEmbedded(sdk, res, res, {}));\n    delete this.stateToken; // RECOVERY_CHALLENGE has some responses without _links.\n    // Without _links, we emulate cancel to make it intuitive\n    // to return to the starting state. We may remove this\n    // when OKTA-75434 is resolved\n\n    if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n      this.cancel = function () {\n        return Promise.resolve(new AuthTransaction(sdk));\n      };\n    }\n  }\n}\n\nmodule.exports = {\n  transactionStatus: transactionStatus,\n  resumeTransaction: resumeTransaction,\n  transactionExists: transactionExists,\n  postToTransaction: postToTransaction,\n  introspect: introspect\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nvar fetchRequest = __webpack_require__(12);\n\nvar storageUtil = __webpack_require__(2);\n\nmodule.exports = __webpack_require__(15)(storageUtil, fetchRequest);\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(6);\n\n/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nvar fetch = __webpack_require__(13);\n\nfunction readData(response) {\n  if (response.headers.get('Content-Type') && response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n    return response.json() // JSON parse can fail if response is not a valid object\n    .catch(function (e) {\n      return {\n        error: e,\n        errorSummary: 'Could not parse server response'\n      };\n    });\n  } else {\n    return response.text();\n  }\n}\n\nfunction formatResult(status, data) {\n  var isObject = _typeof(data) === 'object';\n  var result = {\n    responseText: isObject ? JSON.stringify(data) : data,\n    status: status\n  };\n\n  if (isObject) {\n    result.responseType = 'json';\n    result.responseJSON = data;\n  }\n\n  return result;\n}\n/* eslint-disable complexity */\n\n\nfunction fetchRequest(method, url, args) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = headers['Content-Type'] || headers['content-type'] || ''; // JSON encode body (if appropriate)\n\n  if (contentType === 'application/json' && body && typeof body !== 'string') {\n    body = JSON.stringify(body);\n  }\n\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body,\n    credentials: args.withCredentials ? 'include' : 'omit'\n  }).then(function (response) {\n    var error = !response.ok;\n    var status = response.status;\n    return readData(response).then(function (data) {\n      return formatResult(status, data);\n    }).then(function (result) {\n      if (error) {\n        // Throwing result object since error handling is done in http.js\n        throw result;\n      }\n\n      return result;\n    });\n  });\n  return fetchPromise;\n}\n\nmodule.exports = fetchRequest;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (true) {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _regeneratorRuntime = __webpack_require__(8);\n\nvar _asyncToGenerator = __webpack_require__(9);\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable complexity */\n\n/* eslint-disable max-statements */\n\n/* SDK_VERSION is defined in webpack config */\n\n/* global SDK_VERSION */\n\n/* global window, navigator, document, crypto */\nvar Emitter = __webpack_require__(17);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar builderUtil = __webpack_require__(18);\n\nvar constants = __webpack_require__(3);\n\nvar cookies = __webpack_require__(2).storage;\n\nvar http = __webpack_require__(4);\n\nvar oauthUtil = __webpack_require__(5);\n\nvar session = __webpack_require__(21);\n\nvar token = __webpack_require__(22);\n\nvar TokenManager = __webpack_require__(26);\n\nvar tx = __webpack_require__(10);\n\nvar util = __webpack_require__(0);\n\nvar PromiseQueue = __webpack_require__(28);\n\nfunction getCookieSettings(sdk, args) {\n  // Secure cookies will be automatically used on a HTTPS connection\n  // Non-secure cookies will be automatically used on a HTTP connection\n  // secure option can override the automatic behavior\n  var cookieSettings = args.cookies || {};\n\n  if (typeof cookieSettings.secure === 'undefined') {\n    cookieSettings.secure = sdk.features.isHTTPS();\n  }\n\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  } // If secure=true, but the connection is not HTTPS, set secure=false.\n\n\n  if (cookieSettings.secure && !sdk.features.isHTTPS()) {\n    // eslint-disable-next-line no-console\n    console.warn('The current page is not being served with the HTTPS protocol.\\n' + 'For security reasons, we strongly recommend using HTTPS.\\n' + 'If you cannot use HTTPS, set \"cookies.secure\" option to false.');\n    cookieSettings.secure = false;\n  } // Chrome >= 80 will block cookies with SameSite=None unless they are also Secure\n  // If sameSite=none, but the connection is not HTTPS, set sameSite=lax.\n\n\n  if (cookieSettings.sameSite === 'none' && !cookieSettings.secure) {\n    cookieSettings.sameSite = 'lax';\n  }\n\n  return cookieSettings;\n}\n\nfunction OktaAuthBuilder(args) {\n  var sdk = this;\n  builderUtil.assertValidConfig(args);\n  this.options = {\n    clientId: args.clientId,\n    issuer: util.removeTrailingSlash(args.issuer),\n    authorizeUrl: util.removeTrailingSlash(args.authorizeUrl),\n    userinfoUrl: util.removeTrailingSlash(args.userinfoUrl),\n    tokenUrl: util.removeTrailingSlash(args.tokenUrl),\n    revokeUrl: util.removeTrailingSlash(args.revokeUrl),\n    logoutUrl: util.removeTrailingSlash(args.logoutUrl),\n    pkce: args.pkce === false ? false : true,\n    redirectUri: args.redirectUri,\n    postLogoutRedirectUri: args.postLogoutRedirectUri,\n    responseMode: args.responseMode,\n    httpRequestClient: args.httpRequestClient,\n    storageUtil: args.storageUtil,\n    transformErrorXHR: args.transformErrorXHR,\n    headers: args.headers,\n    onSessionExpired: args.onSessionExpired,\n    cookies: getCookieSettings(sdk, args)\n  };\n  this.userAgent = builderUtil.getUserAgent(args, \"okta-auth-js/\".concat(\"3.2.6\")); // Digital clocks will drift over time, so the server\n  // can misalign with the time reported by the browser.\n  // The maxClockSkew allows relaxing the time-based\n  // validation of tokens (in seconds, not milliseconds).\n  // It currently defaults to 300, because 5 min is the\n  // default maximum tolerance allowed by Kerberos.\n  // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n\n  if (!args.maxClockSkew && args.maxClockSkew !== 0) {\n    this.options.maxClockSkew = constants.DEFAULT_MAX_CLOCK_SKEW;\n  } else {\n    this.options.maxClockSkew = args.maxClockSkew;\n  } // Give the developer the ability to disable token signature\n  // validation.\n\n\n  this.options.ignoreSignature = !!args.ignoreSignature;\n  sdk.session = {\n    close: util.bind(session.closeSession, null, sdk),\n    exists: util.bind(session.sessionExists, null, sdk),\n    get: util.bind(session.getSession, null, sdk),\n    refresh: util.bind(session.refreshSession, null, sdk),\n    setCookieAndRedirect: util.bind(session.setCookieAndRedirect, null, sdk)\n  };\n  sdk.tx = {\n    status: util.bind(tx.transactionStatus, null, sdk),\n    resume: util.bind(tx.resumeTransaction, null, sdk),\n    exists: util.bind(tx.transactionExists, null, sdk),\n    introspect: util.bind(tx.introspect, null, sdk)\n  }; // This is exposed so we can mock document.cookie in our tests\n\n  sdk.tx.exists._get = function (name) {\n    return cookies.get(name);\n  }; // This is exposed so we can mock window.location.href in our tests\n\n\n  sdk.idToken = {\n    authorize: {\n      _getLocationHref: function _getLocationHref() {\n        return window.location.href;\n      }\n    }\n  };\n  sdk._tokenQueue = new PromiseQueue();\n  sdk.token = {\n    getWithoutPrompt: util.bind(token.getWithoutPrompt, null, sdk),\n    getWithPopup: util.bind(token.getWithPopup, null, sdk),\n    getWithRedirect: util.bind(token.getWithRedirect, null, sdk),\n    parseFromUrl: util.bind(token.parseFromUrl, null, sdk),\n    decode: token.decodeToken,\n    revoke: util.bind(token.revokeToken, null, sdk),\n    renew: util.bind(token.renewToken, null, sdk),\n    getUserInfo: util.bind(token.getUserInfo, null, sdk),\n    verify: util.bind(token.verifyToken, null, sdk),\n    isLoginRedirect: util.bind(oauthUtil.isLoginRedirect, null, sdk)\n  }; // Wrap all async token API methods using MethodQueue to avoid issues with concurrency\n\n  var syncMethods = ['decode', 'isLoginRedirect'];\n  Object.keys(sdk.token).forEach(function (key) {\n    if (syncMethods.indexOf(key) >= 0) {\n      // sync methods should not be wrapped\n      return;\n    }\n\n    var method = sdk.token[key];\n    sdk.token[key] = util.bind(PromiseQueue.prototype.push, sdk._tokenQueue, method, null);\n  }); // This is exposed so we can set window.location in our tests\n\n  sdk.token.getWithRedirect._setLocation = function (url) {\n    window.location = url;\n  }; // This is exposed so we can mock getting window.history in our tests\n\n\n  sdk.token.parseFromUrl._getHistory = function () {\n    return window.history;\n  }; // This is exposed so we can mock getting window.location in our tests\n\n\n  sdk.token.parseFromUrl._getLocation = function () {\n    return window.location;\n  }; // This is exposed so we can mock getting window.document in our tests\n\n\n  sdk.token.parseFromUrl._getDocument = function () {\n    return window.document;\n  };\n\n  sdk.fingerprint._getUserAgent = function () {\n    return navigator.userAgent;\n  };\n\n  var isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\n\n  sdk.features.isFingerprintSupported = function () {\n    var agent = sdk.fingerprint._getUserAgent();\n\n    return agent && !isWindowsPhone.test(agent);\n  };\n\n  sdk.emitter = new Emitter();\n  sdk.tokenManager = new TokenManager(sdk, args.tokenManager);\n  sdk.tokenManager.on('error', this._onTokenManagerError, this);\n}\n\nvar proto = OktaAuthBuilder.prototype;\n\nproto._onTokenManagerError = function (error) {\n  var code = error.errorCode;\n\n  if (code === 'login_required' && error.accessToken) {\n    if (this.options.onSessionExpired) {\n      this.options.onSessionExpired();\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Session has expired or was closed outside the application.');\n    }\n  }\n};\n\nproto.features = {};\n\nproto.features.isPopupPostMessageSupported = function () {\n  var isIE8or9 = document.documentMode && document.documentMode < 10;\n\n  if (window.postMessage && !isIE8or9) {\n    return true;\n  }\n\n  return false;\n};\n\nproto.features.isTokenVerifySupported = function () {\n  return typeof crypto !== 'undefined' && crypto.subtle && typeof Uint8Array !== 'undefined';\n};\n\nproto.features.hasTextEncoder = function () {\n  return typeof TextEncoder !== 'undefined';\n};\n\nproto.features.isPKCESupported = function () {\n  return proto.features.isTokenVerifySupported() && proto.features.hasTextEncoder();\n};\n\nproto.features.isHTTPS = function () {\n  return window.location.protocol === 'https:';\n};\n\nproto.features.isLocalhost = function () {\n  return window.location.hostname === 'localhost';\n}; // { username, password, (relayState), (context) }\n\n\nproto.signIn = function (opts) {\n  var sdk = this;\n  opts = util.clone(opts || {});\n\n  function postToTransaction(options) {\n    delete opts.sendFingerprint;\n    return tx.postToTransaction(sdk, '/api/v1/authn', opts, options);\n  }\n\n  if (!opts.sendFingerprint) {\n    return postToTransaction();\n  }\n\n  return sdk.fingerprint().then(function (fingerprint) {\n    return postToTransaction({\n      headers: {\n        'X-Device-Fingerprint': fingerprint\n      }\n    });\n  });\n}; // Ends the current Okta SSO session without redirecting to Okta.\n\n\nproto.closeSession = function closeSession() {\n  var sdk = this; // Clear all local tokens\n\n  sdk.tokenManager.clear();\n  return sdk.session.close() // DELETE /api/v1/sessions/me\n  .catch(function (e) {\n    if (e.name === 'AuthApiError' && e.errorCode === 'E0000007') {\n      // Session does not exist or has already been closed\n      return;\n    }\n\n    throw e;\n  });\n}; // Revokes the access token for the application session\n\n\nproto.revokeAccessToken =\n/*#__PURE__*/\nfunction () {\n  var _revokeAccessToken = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(accessToken) {\n    var sdk;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            sdk = this;\n\n            if (accessToken) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 4;\n            return sdk.tokenManager.get(constants.ACCESS_TOKEN_STORAGE_KEY);\n\n          case 4:\n            accessToken = _context.sent;\n            sdk.tokenManager.remove(constants.ACCESS_TOKEN_STORAGE_KEY);\n\n          case 6:\n            if (accessToken) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.resolve());\n\n          case 8:\n            return _context.abrupt(\"return\", sdk.token.revoke(accessToken));\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  function revokeAccessToken(_x) {\n    return _revokeAccessToken.apply(this, arguments);\n  }\n\n  return revokeAccessToken;\n}(); // Revokes accessToken, clears all local tokens, then redirects to Okta to end the SSO session.\n\n\nproto.signOut =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(options) {\n    var defaultUri, currentUri, postLogoutRedirectUri, accessToken, revokeAccessToken, idToken, sdk, logoutUrl, state, idTokenHint, logoutUri;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            options = util.extend({}, options); // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n\n            defaultUri = window.location.origin;\n            currentUri = window.location.href;\n            postLogoutRedirectUri = options.postLogoutRedirectUri || this.options.postLogoutRedirectUri || defaultUri;\n            accessToken = options.accessToken;\n            revokeAccessToken = options.revokeAccessToken !== false;\n            idToken = options.idToken;\n            sdk = this;\n            logoutUrl = oauthUtil.getOAuthUrls(sdk).logoutUrl;\n\n            if (!(typeof idToken === 'undefined')) {\n              _context2.next = 13;\n              break;\n            }\n\n            _context2.next = 12;\n            return sdk.tokenManager.get(constants.ID_TOKEN_STORAGE_KEY);\n\n          case 12:\n            idToken = _context2.sent;\n\n          case 13:\n            if (!(revokeAccessToken && typeof accessToken === 'undefined')) {\n              _context2.next = 17;\n              break;\n            }\n\n            _context2.next = 16;\n            return sdk.tokenManager.get(constants.ACCESS_TOKEN_STORAGE_KEY);\n\n          case 16:\n            accessToken = _context2.sent;\n\n          case 17:\n            // Clear all local tokens\n            sdk.tokenManager.clear();\n\n            if (!(revokeAccessToken && accessToken)) {\n              _context2.next = 21;\n              break;\n            }\n\n            _context2.next = 21;\n            return sdk.revokeAccessToken(accessToken);\n\n          case 21:\n            if (idToken) {\n              _context2.next = 23;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", sdk.closeSession() // can throw if the user cannot be signed out\n            .then(function () {\n              if (postLogoutRedirectUri === currentUri) {\n                window.location.reload(); // force a hard reload if URI is not changing\n              } else {\n                window.location.assign(postLogoutRedirectUri);\n              }\n            }));\n\n          case 23:\n            // logout redirect using the idToken.\n            state = options.state;\n            idTokenHint = idToken.idToken; // a string\n\n            logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint) + '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri); // State allows option parameters to be passed to logout redirect uri\n\n            if (state) {\n              logoutUri += '&state=' + encodeURIComponent(state);\n            }\n\n            window.location.assign(logoutUri);\n\n          case 28:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nbuilderUtil.addSharedPrototypes(proto); // { resource, (rel), (requestContext)}\n\nproto.webfinger = function (opts) {\n  var url = '/.well-known/webfinger' + util.toQueryParams(opts);\n  var options = {\n    headers: {\n      'Accept': 'application/jrd+json'\n    }\n  };\n  return http.get(this, url, options);\n};\n\nproto.fingerprint = function (options) {\n  options = options || {};\n  var sdk = this;\n\n  if (!sdk.features.isFingerprintSupported()) {\n    return Promise.reject(new AuthSdkError('Fingerprinting is not supported on this device'));\n  }\n\n  var timeout;\n  var iframe;\n  var listener;\n  var promise = new Promise(function (resolve, reject) {\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n\n    listener = function listener(e) {\n      if (!e || !e.data || e.origin !== sdk.getIssuerOrigin()) {\n        return;\n      }\n\n      try {\n        var msg = JSON.parse(e.data);\n      } catch (err) {\n        // iframe messages should all be parsable\n        // skip not parsable messages come from other sources in same origin (browser extensions)\n        // TODO: add namespace flag in okta-core to distinguish messages that come from other sources\n        return;\n      }\n\n      if (!msg) {\n        return;\n      }\n\n      if (msg.type === 'FingerprintAvailable') {\n        return resolve(msg.fingerprint);\n      }\n\n      if (msg.type === 'FingerprintServiceReady') {\n        e.source.postMessage(JSON.stringify({\n          type: 'GetFingerprint'\n        }), e.origin);\n      }\n    };\n\n    oauthUtil.addListener(window, 'message', listener);\n    iframe.src = sdk.getIssuerOrigin() + '/auth/services/devicefingerprint';\n    document.body.appendChild(iframe);\n    timeout = setTimeout(function () {\n      reject(new AuthSdkError('Fingerprinting timed out'));\n    }, options.timeout || 15000);\n  });\n  return promise.finally(function () {\n    clearTimeout(timeout);\n    oauthUtil.removeListener(window, 'message', listener);\n\n    if (document.body.contains(iframe)) {\n      iframe.parentElement.removeChild(iframe);\n    }\n  });\n};\n\nmodule.exports = builderUtil.buildOktaAuth(OktaAuthBuilder);\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nvar AuthSdkError = __webpack_require__(1);\n\nvar tx = __webpack_require__(10);\n\nvar util = __webpack_require__(0); // TODO: use @okta/configuration-validation (move module to this monorepo?)\n// eslint-disable-next-line complexity\n\n\nfunction assertValidConfig(args) {\n  if (!args) {\n    throw new AuthSdkError('No arguments passed to constructor. ' + 'Required usage: new OktaAuth(args)');\n  }\n\n  var issuer = args.issuer;\n\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n\n  if (!isUrlRegex.test(args.issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n\n  var userAgent = args.userAgent;\n  var userAgentTemplateWithNoPlaceholder = userAgent && userAgent.template && userAgent.template.indexOf('$OKTA_AUTH_JS') === -1;\n\n  if (userAgentTemplateWithNoPlaceholder) {\n    throw new AuthSdkError('UserAgentTemplate must include \"$OKTA_AUTH_JS\" placeholder. ' + 'Required usage: new OktaAuth({userAgentTemplate: \"xxx $OKTA_AUTH_JS xxx\"})');\n  }\n}\n\nfunction addSharedPrototypes(proto) {\n  proto.getIssuerOrigin = function () {\n    // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n    return this.options.issuer.split('/oauth2/')[0];\n  }; // { username, (relayState) }\n\n\n  proto.forgotPassword = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/password', opts);\n  }; // { username, (relayState) }\n\n\n  proto.unlockAccount = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/unlock', opts);\n  }; // { recoveryToken }\n\n\n  proto.verifyRecoveryToken = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/token', opts);\n  };\n}\n\nfunction buildOktaAuth(OktaAuthBuilder) {\n  return function (storageUtil, httpRequestClient) {\n    function OktaAuth(args) {\n      if (!(this instanceof OktaAuth)) {\n        return new OktaAuth(args);\n      }\n\n      if (args) {\n        args.storageUtil = storageUtil;\n\n        if (args.ajaxRequest) {\n          util.deprecate('ajaxRequest is being deprecated, use httpRequestClient attribute instead.');\n          args.httpRequestClient = args.ajaxRequest;\n        } else if (!args.httpRequestClient) {\n          args.httpRequestClient = httpRequestClient;\n        }\n      }\n\n      util.bind(OktaAuthBuilder, this)(args);\n    }\n\n    OktaAuth.prototype = OktaAuthBuilder.prototype;\n    OktaAuth.prototype.constructor = OktaAuth; // Hoist feature detection functions to static type\n\n    OktaAuth.features = OktaAuthBuilder.prototype.features;\n    return OktaAuth;\n  };\n}\n\nfunction getUserAgent(args, sdkValue) {\n  var userAgent = args.userAgent || {};\n\n  if (userAgent.value) {\n    return userAgent.value;\n  }\n\n  if (userAgent.template) {\n    return userAgent.template.replace('$OKTA_AUTH_JS', sdkValue);\n  }\n\n  return sdkValue;\n}\n\nmodule.exports = {\n  addSharedPrototypes: addSharedPrototypes,\n  buildOktaAuth: buildOktaAuth,\n  assertValidConfig: assertValidConfig,\n  getUserAgent: getUserAgent\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction AuthApiError(err, xhr) {\n  this.name = 'AuthApiError';\n  this.message = err.errorSummary;\n  this.errorSummary = err.errorSummary;\n  this.errorCode = err.errorCode;\n  this.errorLink = err.errorLink;\n  this.errorId = err.errorId;\n  this.errorCauses = err.errorCauses;\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\n\nAuthApiError.prototype = new Error();\nmodule.exports = AuthApiError;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction AuthPollStopError() {\n  this.name = 'AuthPollStopError';\n  this.message = 'The poll was stopped by the sdk';\n}\n\nAuthPollStopError.prototype = new Error();\nmodule.exports = AuthPollStopError;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global window */\nvar util = __webpack_require__(0);\n\nvar http = __webpack_require__(4);\n\nfunction sessionExists(sdk) {\n  return sdk.session.get().then(function (res) {\n    if (res.status === 'ACTIVE') {\n      return true;\n    }\n\n    return false;\n  }).catch(function () {\n    return false;\n  });\n}\n\nfunction getSession(sdk) {\n  return http.get(sdk, '/api/v1/sessions/me').then(function (session) {\n    var res = util.omit(session, '_links');\n\n    res.refresh = function () {\n      return http.post(sdk, util.getLink(session, 'refresh').href);\n    };\n\n    res.user = function () {\n      return http.get(sdk, util.getLink(session, 'user').href);\n    };\n\n    return res;\n  }).catch(function () {\n    // Return INACTIVE status on failure\n    return {\n      status: 'INACTIVE'\n    };\n  });\n}\n\nfunction closeSession(sdk) {\n  return http.httpRequest(sdk, {\n    url: sdk.getIssuerOrigin() + '/api/v1/sessions/me',\n    method: 'DELETE'\n  });\n}\n\nfunction refreshSession(sdk) {\n  return http.post(sdk, '/api/v1/sessions/me/lifecycle/refresh');\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location = sdk.getIssuerOrigin() + '/login/sessionCookieRedirect' + util.toQueryParams({\n    checkAccountSetupComplete: true,\n    token: sessionToken,\n    redirectUrl: redirectUrl\n  });\n}\n\nmodule.exports = {\n  sessionExists: sessionExists,\n  getSession: getSession,\n  closeSession: closeSession,\n  refreshSession: refreshSession,\n  setCookieAndRedirect: setCookieAndRedirect\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _regeneratorRuntime = __webpack_require__(8);\n\nvar _asyncToGenerator = __webpack_require__(9);\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global window, document, btoa */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(4);\n\nvar util = __webpack_require__(0);\n\nvar oauthUtil = __webpack_require__(5);\n\nvar sdkCrypto = __webpack_require__(23);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar OAuthError = __webpack_require__(24);\n\nvar constants = __webpack_require__(3);\n\nvar cookies = __webpack_require__(2).storage;\n\nvar browserStorage = __webpack_require__(2);\n\nvar PKCE = __webpack_require__(25); // Only the access token can be revoked in SPA applications\n\n\nfunction revokeToken(sdk, token) {\n  return Promise.resolve().then(function () {\n    if (!token || !token.accessToken) {\n      throw new AuthSdkError('A valid access token object is required');\n    }\n\n    var clientId = sdk.options.clientId;\n\n    if (!clientId) {\n      throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n\n    var revokeUrl = oauthUtil.getOAuthUrls(sdk).revokeUrl;\n    var accessToken = token.accessToken;\n    var args = util.toQueryParams({\n      // eslint-disable-next-line camelcase\n      token_type_hint: 'access_token',\n      token: accessToken\n    }).slice(1);\n    var creds = btoa(clientId);\n    return http.post(sdk, revokeUrl, args, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + creds\n      }\n    });\n  });\n}\n\nfunction decodeToken(token) {\n  var jwt = token.split('.');\n  var decodedToken;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(util.base64UrlToString(jwt[0])),\n      payload: JSON.parse(util.base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch (e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n} // Verify the id token\n\n\nfunction verifyToken(sdk, token, validationParams) {\n  return Promise.resolve().then(function () {\n    if (!token || !token.idToken) {\n      throw new AuthSdkError('Only idTokens may be verified');\n    }\n\n    var jwt = decodeToken(token.idToken);\n    var validationOptions = {\n      clientId: sdk.options.clientId,\n      issuer: sdk.options.issuer,\n      ignoreSignature: sdk.options.ignoreSignature\n    };\n    util.extend(validationOptions, validationParams); // Standard claim validation\n\n    oauthUtil.validateClaims(sdk, jwt.payload, validationOptions); // If the browser doesn't support native crypto or we choose not\n    // to verify the signature, bail early\n\n    if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n      return token;\n    }\n\n    return oauthUtil.getKey(sdk, token.issuer, jwt.header.kid).then(function (key) {\n      return sdkCrypto.verifyToken(token.idToken, key);\n    }).then(function (valid) {\n      if (!valid) {\n        throw new AuthSdkError('The token signature is not valid');\n      }\n\n      if (validationParams && validationParams.accessToken && token.claims.at_hash) {\n        return sdkCrypto.getOidcHash(validationParams.accessToken).then(function (hash) {\n          if (hash !== token.claims.at_hash) {\n            throw new AuthSdkError('Token hash verification failed');\n          }\n        });\n      }\n    }).then(function () {\n      return token;\n    });\n  });\n}\n\nfunction addPostMessageListener(sdk, timeout, state) {\n  var responseHandler;\n  var timeoutId;\n  var msgReceivedOrTimeout = new Promise(function (resolve, reject) {\n    responseHandler = function responseHandler(e) {\n      if (!e.data || e.data.state !== state) {\n        // A message not meant for us\n        return;\n      } // Configuration mismatch between saved token and current app instance\n      // This may happen if apps with different issuers are running on the same host url\n      // If they share the same storage key, they may read and write tokens in the same location.\n      // Common when developing against http://localhost\n\n\n      if (e.origin !== sdk.getIssuerOrigin()) {\n        return reject(new AuthSdkError('The request does not match client configuration'));\n      }\n\n      resolve(e.data);\n    };\n\n    oauthUtil.addListener(window, 'message', responseHandler);\n    timeoutId = setTimeout(function () {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n  return msgReceivedOrTimeout.finally(function () {\n    clearTimeout(timeoutId);\n    oauthUtil.removeListener(window, 'message', responseHandler);\n  });\n}\n\nfunction exchangeCodeForToken(sdk, oauthParams, authorizationCode, urls) {\n  // PKCE authorization_code flow\n  // Retrieve saved values and build oauthParams for call to /token\n  var meta = PKCE.loadMeta(sdk);\n  var getTokenParams = {\n    clientId: oauthParams.clientId,\n    authorizationCode: authorizationCode,\n    codeVerifier: meta.codeVerifier,\n    redirectUri: meta.redirectUri\n  };\n  return PKCE.getToken(sdk, getTokenParams, urls).then(function (res) {\n    validateResponse(res, getTokenParams);\n    return res;\n  }).finally(function () {\n    PKCE.clearMeta(sdk);\n  });\n}\n\nfunction validateResponse(res, oauthParams) {\n  if (res['error'] || res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n}\n\nfunction handleOAuthResponse(sdk, oauthParams, res, urls) {\n  urls = urls || {};\n  var responseType = oauthParams.responseType;\n\n  if (!Array.isArray(responseType)) {\n    responseType = [responseType];\n  }\n\n  var scopes = util.clone(oauthParams.scopes);\n  var clientId = oauthParams.clientId || sdk.options.clientId;\n  var pkce = sdk.options.pkce !== false;\n  return Promise.resolve().then(function () {\n    validateResponse(res, oauthParams); // PKCE flow\n    // We do not support \"hybrid\" scenarios where the response includes both a code and a token.\n    // If the response contains a code it is used immediately to obtain new tokens.\n\n    if (res.code && pkce) {\n      // responseType is not sent to the token endpoint.\n      // We populate this array to validate the response below\n      responseType = ['token']; // an accessToken will always be returned\n\n      if (scopes.indexOf('openid') !== -1) {\n        responseType.push('id_token'); // an idToken will be returned if \"openid\" is in the scopes\n      }\n\n      return exchangeCodeForToken(sdk, oauthParams, res.code, urls);\n    }\n\n    return res;\n  }).then(function (res) {\n    var tokenDict = {};\n    var expiresIn = res.expires_in;\n    var tokenType = res.token_type;\n    var accessToken = res.access_token;\n    var idToken = res.id_token;\n\n    if (accessToken) {\n      tokenDict.accessToken = {\n        value: accessToken,\n        accessToken: accessToken,\n        expiresAt: Number(expiresIn) + Math.floor(Date.now() / 1000),\n        tokenType: tokenType,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        userinfoUrl: urls.userinfoUrl\n      };\n    }\n\n    if (idToken) {\n      var jwt = sdk.token.decode(idToken);\n      var idTokenObj = {\n        value: idToken,\n        idToken: idToken,\n        claims: jwt.payload,\n        expiresAt: jwt.payload.exp,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        issuer: urls.issuer,\n        clientId: clientId\n      };\n      var validationParams = {\n        clientId: clientId,\n        issuer: urls.issuer,\n        nonce: oauthParams.nonce,\n        accessToken: accessToken\n      };\n\n      if (oauthParams.ignoreSignature !== undefined) {\n        validationParams.ignoreSignature = oauthParams.ignoreSignature;\n      }\n\n      return verifyToken(sdk, idTokenObj, validationParams).then(function () {\n        tokenDict.idToken = idTokenObj;\n        return tokenDict;\n      });\n    }\n\n    return tokenDict;\n  }).then(function (tokenDict) {\n    // Validate received tokens against requested response types \n    if (responseType.indexOf('token') !== -1 && !tokenDict.accessToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n    }\n\n    if (responseType.indexOf('id_token') !== -1 && !tokenDict.idToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n    }\n\n    return {\n      tokens: tokenDict,\n      state: res.state,\n      code: res.code\n    };\n  });\n}\n\nfunction getDefaultOAuthParams(sdk) {\n  return {\n    pkce: sdk.options.pkce,\n    clientId: sdk.options.clientId,\n    redirectUri: sdk.options.redirectUri || window.location.href,\n    responseType: ['token', 'id_token'],\n    responseMode: sdk.options.responseMode,\n    state: oauthUtil.generateState(),\n    nonce: oauthUtil.generateNonce(),\n    scopes: ['openid', 'email'],\n    ignoreSignature: sdk.options.ignoreSignature\n  };\n}\n\nfunction convertOAuthParamsToQueryParams(oauthParams) {\n  // Quick validation\n  if (!oauthParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (util.isString(oauthParams.responseType) && oauthParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  } // Convert our params to their actual OAuth equivalents\n\n\n  var oauthQueryParams = util.removeNils({\n    'client_id': oauthParams.clientId,\n    'code_challenge': oauthParams.codeChallenge,\n    'code_challenge_method': oauthParams.codeChallengeMethod,\n    'display': oauthParams.display,\n    'idp': oauthParams.idp,\n    'idp_scope': oauthParams.idpScope,\n    'login_hint': oauthParams.loginHint,\n    'max_age': oauthParams.maxAge,\n    'nonce': oauthParams.nonce,\n    'prompt': oauthParams.prompt,\n    'redirect_uri': oauthParams.redirectUri,\n    'response_mode': oauthParams.responseMode,\n    'response_type': oauthParams.responseType,\n    'sessionToken': oauthParams.sessionToken,\n    'state': oauthParams.state\n  });\n  ['idp_scope', 'response_type'].forEach(function (mayBeArray) {\n    if (Array.isArray(oauthQueryParams[mayBeArray])) {\n      oauthQueryParams[mayBeArray] = oauthQueryParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (oauthParams.responseType.indexOf('id_token') !== -1 && oauthParams.scopes.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else {\n    oauthQueryParams.scope = oauthParams.scopes.join(' ');\n  }\n\n  return oauthQueryParams;\n}\n\nfunction buildAuthorizeParams(oauthParams) {\n  var oauthQueryParams = convertOAuthParamsToQueryParams(oauthParams);\n  return util.toQueryParams(oauthQueryParams);\n}\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\n\n\nfunction getToken(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getToken\" takes only a single set of options'));\n  }\n\n  options = options || {};\n  return prepareOauthParams(sdk, options).then(function (oauthParams) {\n    // Start overriding any options that don't make sense\n    var sessionTokenOverrides = {\n      prompt: 'none',\n      responseMode: 'okta_post_message',\n      display: null\n    };\n    var idpOverrides = {\n      display: 'popup'\n    };\n\n    if (options.sessionToken) {\n      util.extend(oauthParams, sessionTokenOverrides);\n    } else if (options.idp) {\n      util.extend(oauthParams, idpOverrides);\n    } // Use the query params to build the authorize url\n\n\n    var requestUrl, endpoint, urls; // Get authorizeUrl and issuer\n\n    urls = oauthUtil.getOAuthUrls(sdk, oauthParams);\n    endpoint = options.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n    requestUrl = endpoint + buildAuthorizeParams(oauthParams); // Determine the flow type\n\n    var flowType;\n\n    if (oauthParams.sessionToken || oauthParams.display === null) {\n      flowType = 'IFRAME';\n    } else if (oauthParams.display === 'popup') {\n      flowType = 'POPUP';\n    } else {\n      flowType = 'IMPLICIT';\n    } // Execute the flow type\n\n\n    switch (flowType) {\n      case 'IFRAME':\n        var iframePromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        var iframeEl = oauthUtil.loadFrame(requestUrl);\n        return iframePromise.then(function (res) {\n          return handleOAuthResponse(sdk, oauthParams, res, urls);\n        }).finally(function () {\n          if (document.body.contains(iframeEl)) {\n            iframeEl.parentElement.removeChild(iframeEl);\n          }\n        });\n\n      case 'POPUP':\n        var oauthPromise; // resolves with OAuth response\n        // Add listener on postMessage before window creation, so\n        // postMessage isn't triggered before we're listening\n\n        if (oauthParams.responseMode === 'okta_post_message') {\n          if (!sdk.features.isPopupPostMessageSupported()) {\n            throw new AuthSdkError('This browser doesn\\'t have full postMessage support');\n          }\n\n          oauthPromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        } // Create the window\n\n\n        var windowOptions = {\n          popupTitle: options.popupTitle\n        };\n        var windowEl = oauthUtil.loadPopup(requestUrl, windowOptions); // The popup may be closed without receiving an OAuth response. Setup a poller to monitor the window.\n\n        var popupPromise = new Promise(function (resolve, reject) {\n          var closePoller = setInterval(function () {\n            if (!windowEl || windowEl.closed) {\n              clearInterval(closePoller);\n              reject(new AuthSdkError('Unable to parse OAuth flow response'));\n            }\n          }, 100); // Proxy the OAuth promise results\n\n          oauthPromise.then(function (res) {\n            clearInterval(closePoller);\n            resolve(res);\n          }).catch(function (err) {\n            clearInterval(closePoller);\n            reject(err);\n          });\n        });\n        return popupPromise.then(function (res) {\n          return handleOAuthResponse(sdk, oauthParams, res, urls);\n        }).finally(function () {\n          if (windowEl && !windowEl.closed) {\n            windowEl.close();\n          }\n        });\n\n      default:\n        throw new AuthSdkError('The full page redirect flow is not supported');\n    }\n  }).catch(function (e) {\n    if (sdk.options.pkce) {\n      PKCE.clearMeta(sdk);\n    }\n\n    throw e;\n  });\n}\n\nfunction getWithoutPrompt(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options'));\n  }\n\n  options = util.clone(options) || {};\n  util.extend(options, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, options);\n}\n\nfunction getWithPopup(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithPopup\" takes only a single set of options'));\n  }\n\n  options = util.clone(options) || {};\n  util.extend(options, {\n    display: 'popup',\n    responseMode: 'okta_post_message'\n  });\n  return getToken(sdk, options);\n}\n\nfunction prepareOauthParams(sdk, options) {\n  if (oauthUtil.isLoginRedirect(sdk)) {\n    return Promise.reject(new AuthSdkError('The app should not attempt to call getToken on callback. ' + 'Authorize flow is already in process. Use parseFromUrl() to receive tokens.'));\n  } // clone and prepare options\n\n\n  options = util.clone(options) || {}; // build params using defaults + options\n\n  var oauthParams = getDefaultOAuthParams(sdk);\n  util.extend(oauthParams, options);\n\n  if (oauthParams.pkce === false) {\n    return Promise.resolve(oauthParams);\n  } // PKCE flow\n\n\n  if (!sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n\n    if (!sdk.features.isHTTPS()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol.';\n    }\n\n    if (!sdk.features.hasTextEncoder()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\n\"TextEncoder\" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.';\n    }\n\n    return Promise.reject(new AuthSdkError(errorMessage));\n  } // set default code challenge method, if none provided\n\n\n  if (!oauthParams.codeChallengeMethod) {\n    oauthParams.codeChallengeMethod = PKCE.DEFAULT_CODE_CHALLENGE_METHOD;\n  } // responseType is forced\n\n\n  oauthParams.responseType = 'code';\n  return oauthUtil.getWellKnown(sdk, null).then(function (res) {\n    var methods = res['code_challenge_methods_supported'] || [];\n\n    if (methods.indexOf(oauthParams.codeChallengeMethod) === -1) {\n      throw new AuthSdkError('Invalid code_challenge_method');\n    }\n  }).then(function () {\n    // PKCE authorization_code flow\n    var codeVerifier = PKCE.generateVerifier(oauthParams.codeVerifier); // We will need these values after redirect when we call /token\n\n    var meta = {\n      codeVerifier: codeVerifier,\n      redirectUri: oauthParams.redirectUri\n    };\n    PKCE.saveMeta(sdk, meta);\n    return PKCE.computeChallenge(codeVerifier);\n  }).then(function (codeChallenge) {\n    // Clone/copy the params. Set codeChallenge\n    var clonedParams = util.clone(oauthParams) || {};\n    util.extend(clonedParams, oauthParams, {\n      codeChallenge: codeChallenge\n    });\n    return clonedParams;\n  });\n}\n\nfunction _addOAuthParamsToStorage(sdk, tokenParams, urls) {\n  var responseType = tokenParams.responseType,\n      state = tokenParams.state,\n      nonce = tokenParams.nonce,\n      scopes = tokenParams.scopes,\n      clientId = tokenParams.clientId,\n      ignoreSignature = tokenParams.ignoreSignature;\n  var tokenParamsStr = JSON.stringify({\n    responseType: responseType,\n    state: state,\n    nonce: nonce,\n    scopes: scopes,\n    clientId: clientId,\n    urls: urls,\n    ignoreSignature: ignoreSignature\n  }); // Add oauth_params to both cookies and sessionStorage for broader support\n\n  cookies.set(constants.REDIRECT_OAUTH_PARAMS_NAME, tokenParamsStr, null, sdk.options.cookies);\n\n  if (browserStorage.browserHasSessionStorage()) {\n    browserStorage.getSessionStorage().setItem(constants.REDIRECT_OAUTH_PARAMS_NAME, tokenParamsStr);\n  }\n}\n\nfunction getWithRedirect(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithRedirect\" takes only a single set of options'));\n  }\n\n  options = util.clone(options) || {};\n  return prepareOauthParams(sdk, options).then(function (oauthParams) {\n    var urls = oauthUtil.getOAuthUrls(sdk, options);\n    var requestUrl = urls.authorizeUrl + buildAuthorizeParams(oauthParams);\n\n    _addOAuthParamsToStorage(sdk, oauthParams, urls); // Set nonce cookie for servers to validate nonce in id_token\n\n\n    cookies.set(constants.REDIRECT_NONCE_COOKIE_NAME, oauthParams.nonce, null, sdk.options.cookies); // Set state cookie for servers to validate state\n\n    cookies.set(constants.REDIRECT_STATE_COOKIE_NAME, oauthParams.state, null, sdk.options.cookies);\n\n    sdk.token.getWithRedirect._setLocation(requestUrl);\n  });\n}\n\nfunction renewToken(sdk, token) {\n  if (!oauthUtil.isToken(token)) {\n    return Promise.reject(new AuthSdkError('Renew must be passed a token with ' + 'an array of scopes and an accessToken or idToken'));\n  }\n\n  var responseType;\n\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (token.accessToken) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  return getWithoutPrompt(sdk, {\n    responseType: responseType,\n    scopes: token.scopes,\n    authorizeUrl: token.authorizeUrl,\n    userinfoUrl: token.userinfoUrl,\n    issuer: token.issuer\n  }).then(function (res) {\n    // Multiple tokens may have come back. Return only the token which was requested.\n    var tokens = res.tokens;\n    return token.idToken ? tokens.idToken : tokens.accessToken;\n  });\n}\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction removeSearch(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.hash);\n  } else {\n    nativeLoc.search = '';\n  }\n}\n\nfunction _getOAuthParamsStrFromStorage() {\n  // try to read OAuth params from cookie first. This is for backward compatibility\n  var oauthParamsStr = cookies.get(constants.REDIRECT_OAUTH_PARAMS_NAME);\n  cookies.delete(constants.REDIRECT_OAUTH_PARAMS_NAME); // latest version of auth-js will store params in session storage\n\n  if (!oauthParamsStr && browserStorage.browserHasSessionStorage()) {\n    var storage = browserStorage.getSessionStorage();\n    oauthParamsStr = storage.getItem(constants.REDIRECT_OAUTH_PARAMS_NAME);\n    storage.removeItem(constants.REDIRECT_OAUTH_PARAMS_NAME);\n  }\n\n  return oauthParamsStr;\n}\n\nfunction parseFromUrl(sdk, options) {\n  options = options || {};\n\n  if (util.isString(options)) {\n    options = {\n      url: options\n    };\n  } // https://openid.net/specs/openid-connect-core-1_0.html#Authentication\n\n\n  var defaultResponseMode = sdk.options.pkce ? 'query' : 'fragment';\n  var url = options.url;\n  var responseMode = options.responseMode || sdk.options.responseMode || defaultResponseMode;\n\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n\n  var paramStr;\n\n  if (responseMode === 'query') {\n    paramStr = url ? url.substring(url.indexOf('?')) : nativeLoc.search;\n  } else {\n    paramStr = url ? url.substring(url.indexOf('#')) : nativeLoc.hash;\n  }\n\n  if (!paramStr) {\n    return Promise.reject(new AuthSdkError('Unable to parse a token from the url'));\n  }\n\n  var oauthParamsStr = _getOAuthParamsStrFromStorage();\n\n  if (!oauthParamsStr) {\n    return Promise.reject(new AuthSdkError('Unable to retrieve OAuth redirect params from storage'));\n  }\n\n  try {\n    var oauthParams = JSON.parse(oauthParamsStr);\n    var urls = oauthParams.urls;\n    delete oauthParams.urls;\n  } catch (e) {\n    return Promise.reject(new AuthSdkError('Unable to parse the ' + constants.REDIRECT_OAUTH_PARAMS_NAME + ' value from storage: ' + e.message));\n  }\n\n  return Promise.resolve(oauthUtil.urlParamsToObject(paramStr)).then(function (res) {\n    if (!url) {\n      // Clean hash or search from the url\n      responseMode === 'query' ? removeSearch(sdk) : removeHash(sdk);\n    }\n\n    return handleOAuthResponse(sdk, oauthParams, res, urls);\n  });\n}\n\nfunction getUserInfo(_x, _x2, _x3) {\n  return _getUserInfo.apply(this, arguments);\n}\n\nfunction _getUserInfo() {\n  _getUserInfo = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(sdk, accessTokenObject, idTokenObject) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (accessTokenObject) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 3;\n            return sdk.tokenManager.get(constants.ACCESS_TOKEN_STORAGE_KEY);\n\n          case 3:\n            accessTokenObject = _context.sent;\n\n          case 4:\n            if (idTokenObject) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 7;\n            return sdk.tokenManager.get(constants.ID_TOKEN_STORAGE_KEY);\n\n          case 7:\n            idTokenObject = _context.sent;\n\n          case 8:\n            if (!(!accessTokenObject || !oauthUtil.isToken(accessTokenObject) && !accessTokenObject.accessToken && !accessTokenObject.userinfoUrl)) {\n              _context.next = 10;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(new AuthSdkError('getUserInfo requires an access token object')));\n\n          case 10:\n            if (!(!idTokenObject || !oauthUtil.isToken(idTokenObject) && !idTokenObject.idToken)) {\n              _context.next = 12;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(new AuthSdkError('getUserInfo requires an ID token object')));\n\n          case 12:\n            return _context.abrupt(\"return\", http.httpRequest(sdk, {\n              url: accessTokenObject.userinfoUrl,\n              method: 'GET',\n              accessToken: accessTokenObject.accessToken\n            }).then(function (userInfo) {\n              // Only return the userinfo response if subjects match to mitigate token substitution attacks\n              if (userInfo.sub === idTokenObject.claims.sub) {\n                return userInfo;\n              }\n\n              return Promise.reject(new AuthSdkError('getUserInfo request was rejected due to token mismatch'));\n            }).catch(function (err) {\n              if (err.xhr && (err.xhr.status === 401 || err.xhr.status === 403)) {\n                var authenticateHeader;\n\n                if (err.xhr.headers && util.isFunction(err.xhr.headers.get) && err.xhr.headers.get('WWW-Authenticate')) {\n                  authenticateHeader = err.xhr.headers.get('WWW-Authenticate');\n                } else if (util.isFunction(err.xhr.getResponseHeader)) {\n                  authenticateHeader = err.xhr.getResponseHeader('WWW-Authenticate');\n                }\n\n                if (authenticateHeader) {\n                  var errorMatches = authenticateHeader.match(/error=\"(.*?)\"/) || [];\n                  var errorDescriptionMatches = authenticateHeader.match(/error_description=\"(.*?)\"/) || [];\n                  var error = errorMatches[1];\n                  var errorDescription = errorDescriptionMatches[1];\n\n                  if (error && errorDescription) {\n                    err = new OAuthError(error, errorDescription);\n                  }\n                }\n              }\n\n              throw err;\n            }));\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getUserInfo.apply(this, arguments);\n}\n\nmodule.exports = {\n  revokeToken: revokeToken,\n  getToken: getToken,\n  getWithoutPrompt: getWithoutPrompt,\n  getWithPopup: getWithPopup,\n  getWithRedirect: getWithRedirect,\n  parseFromUrl: parseFromUrl,\n  decodeToken: decodeToken,\n  renewToken: renewToken,\n  getUserInfo: getUserInfo,\n  verifyToken: verifyToken,\n  handleOAuthResponse: handleOAuthResponse,\n  prepareOauthParams: prepareOauthParams,\n  _addOAuthParamsToStorage: _addOAuthParamsToStorage,\n  // export for testing purpose\n  _getOAuthParamsStrFromStorage: _getOAuthParamsStrFromStorage // export for testing purpose\n\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global crypto, Uint8Array, TextEncoder */\nvar util = __webpack_require__(0);\n\nfunction getOidcHash(str) {\n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function (arrayBuffer) {\n    var intBuffer = new Uint8Array(arrayBuffer);\n    var firstHalf = intBuffer.slice(0, 16);\n    var hash = String.fromCharCode.apply(null, firstHalf);\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n\n    return b64u;\n  });\n}\n\nfunction verifyToken(idToken, key) {\n  key = util.clone(key);\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-256'\n    }\n  };\n  var extractable = true;\n  var usages = ['verify']; // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n\n  delete key.use;\n  return crypto.subtle.importKey(format, key, algo, extractable, usages).then(function (cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = util.stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = util.base64UrlDecode(jwt[2]);\n    var signature = util.stringToBuffer(b64Signature);\n    return crypto.subtle.verify(algo, cryptoKey, signature, payload);\n  });\n}\n\nmodule.exports = {\n  getOidcHash: getOidcHash,\n  verifyToken: verifyToken\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction OAuthError(errorCode, summary) {\n  this.name = 'OAuthError';\n  this.message = summary;\n  this.errorCode = errorCode;\n  this.errorSummary = summary;\n}\n\nOAuthError.prototype = new Error();\nmodule.exports = OAuthError;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global crypto */\n\n/* eslint-disable complexity, max-statements */\nvar AuthSdkError = __webpack_require__(1);\n\nvar http = __webpack_require__(4);\n\nvar util = __webpack_require__(0); // Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\n\n\nvar MIN_VERIFIER_LENGTH = 43;\nvar MAX_VERIFIER_LENGTH = 128;\nvar DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nfunction dec2hex(dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  crypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix) {\n  var verifier = prefix || '';\n\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction getStorage(sdk, options) {\n  options = util.extend({}, sdk.options.cookies, options);\n  return sdk.options.storageUtil.getPKCEStorage(options);\n}\n\nfunction saveMeta(sdk, meta) {\n  // There must be only one PKCE flow executing at a time.\n  // Before saving meta, check to see if a codeVerfier is already stored.\n  var storage = getStorage(sdk, {\n    preferLocalStorage: true\n  });\n  var obj = storage.getStorage();\n\n  if (obj.codeVerifier) {\n    // eslint-disable-next-line max-len\n    util.warn('saveMeta: PKCE codeVerifier exists in localStorage. This may indicate an auth flow is already in progress.');\n  }\n\n  storage = getStorage(sdk);\n  obj = storage.getStorage();\n\n  if (obj.codeVerifier) {\n    // eslint-disable-next-line max-len\n    util.warn('saveMeta: PKCE codeVerifier exists in sessionStorage. This may indicate an auth flow is already in progress.');\n  } // clear all PKCE meta storage before saving.\n\n\n  clearMeta(sdk);\n  storage.setStorage(meta);\n}\n\nfunction loadMeta(sdk) {\n  // Try reading from localStorage first.\n  // This is for compatibility with older versions of the signin widget. OKTA-304806\n  var storage = getStorage(sdk, {\n    preferLocalStorage: true\n  });\n  var obj = storage.getStorage(); // Verify the Meta\n\n  if (!obj.codeVerifier) {\n    // If meta is not valid, read from sessionStorage. This is expected for current versions of the SDK.\n    storage = getStorage(sdk, {\n      preferLocalStorage: false\n    });\n    obj = storage.getStorage();\n\n    if (!obj.codeVerifier) {\n      // If meta is not valid, throw an exception to avoid misleading server-side error\n      // The most likely cause of this error is trying to handle a callback twice\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.', null);\n    }\n  }\n\n  return obj;\n}\n\nfunction clearMeta(sdk) {\n  // clear sessionStorage (current version)\n  var storage = getStorage(sdk);\n  storage.clearStorage(); // clear localStorage (previous versions, signin widget)\n\n  storage = getStorage(sdk, {\n    preferLocalStorage: true\n  });\n  storage.clearStorage();\n}\n/* global Uint8Array, TextEncoder */\n\n\nfunction computeChallenge(str) {\n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function (arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n\n    return b64u;\n  });\n}\n\nfunction validateOptions(oauthOptions) {\n  // Quick validation\n  if (!oauthOptions.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!oauthOptions.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!oauthOptions.authorizationCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!oauthOptions.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(options) {\n  // Convert options to OAuth params\n  var params = util.removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': 'authorization_code',\n    'code': options.authorizationCode,\n    'code_verifier': options.codeVerifier\n  }); // Encode as URL string\n\n  return util.toQueryParams(params).slice(1);\n} // exchange authorization code for an access token\n\n\nfunction getToken(sdk, oauthOptions, urls) {\n  validateOptions(oauthOptions);\n  var data = getPostData(oauthOptions);\n  return http.httpRequest(sdk, {\n    url: urls.tokenUrl,\n    method: 'POST',\n    args: data,\n    withCredentials: false,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nmodule.exports = {\n  DEFAULT_CODE_CHALLENGE_METHOD: DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier: generateVerifier,\n  clearMeta: clearMeta,\n  saveMeta: saveMeta,\n  loadMeta: loadMeta,\n  computeChallenge: computeChallenge,\n  getToken: getToken\n};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(6);\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global localStorage, sessionStorage */\n\n/* eslint complexity:[0,8] max-statements:[0,21] */\nvar util = __webpack_require__(0);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar storageUtil = __webpack_require__(2);\n\nvar constants = __webpack_require__(3);\n\nvar storageBuilder = __webpack_require__(7);\n\nvar SdkClock = __webpack_require__(27);\n\nvar oauthUtil = __webpack_require__(5);\n\nvar DEFAULT_OPTIONS = {\n  autoRenew: true,\n  storage: 'localStorage',\n  expireEarlySeconds: 30\n};\n\nfunction getExpireTime(tokenMgmtRef, token) {\n  var expireTime = token.expiresAt - tokenMgmtRef.options.expireEarlySeconds;\n  return expireTime;\n}\n\nfunction hasExpired(tokenMgmtRef, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  return expireTime <= tokenMgmtRef.clock.now();\n}\n\nfunction emitExpired(tokenMgmtRef, key, token) {\n  tokenMgmtRef.emitter.emit('expired', key, token);\n}\n\nfunction emitError(tokenMgmtRef, error) {\n  tokenMgmtRef.emitter.emit('error', error);\n}\n\nfunction clearExpireEventTimeout(tokenMgmtRef, key) {\n  clearTimeout(tokenMgmtRef.expireTimeouts[key]);\n  delete tokenMgmtRef.expireTimeouts[key]; // Remove the renew promise (if it exists)\n\n  delete tokenMgmtRef.renewPromise[key];\n}\n\nfunction clearExpireEventTimeoutAll(tokenMgmtRef) {\n  var expireTimeouts = tokenMgmtRef.expireTimeouts;\n\n  for (var key in expireTimeouts) {\n    if (!expireTimeouts.hasOwnProperty(key)) {\n      continue;\n    }\n\n    clearExpireEventTimeout(tokenMgmtRef, key);\n  }\n}\n\nfunction setExpireEventTimeout(sdk, tokenMgmtRef, key, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  var expireEventWait = Math.max(expireTime - tokenMgmtRef.clock.now(), 0) * 1000; // Clear any existing timeout\n\n  clearExpireEventTimeout(tokenMgmtRef, key);\n  var expireEventTimeout = setTimeout(function () {\n    emitExpired(tokenMgmtRef, key, token);\n  }, expireEventWait); // Add a new timeout\n\n  tokenMgmtRef.expireTimeouts[key] = expireEventTimeout;\n}\n\nfunction setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage) {\n  try {\n    var tokenStorage = storage.getStorage();\n  } catch (e) {\n    // Any errors thrown on instantiation will not be caught,\n    // because there are no listeners yet\n    emitError(tokenMgmtRef, e);\n    return;\n  }\n\n  for (var key in tokenStorage) {\n    if (!tokenStorage.hasOwnProperty(key)) {\n      continue;\n    }\n\n    var token = tokenStorage[key];\n    setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n  }\n}\n\nfunction add(sdk, tokenMgmtRef, storage, key, token) {\n  var tokenStorage = storage.getStorage();\n\n  if (!util.isObject(token) || !token.scopes || !token.expiresAt && token.expiresAt !== 0 || !token.idToken && !token.accessToken) {\n    throw new AuthSdkError('Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties');\n  }\n\n  tokenStorage[key] = token;\n  storage.setStorage(tokenStorage);\n  setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n}\n\nfunction get(storage, key) {\n  var tokenStorage = storage.getStorage();\n  return tokenStorage[key];\n}\n\nfunction getAsync(sdk, tokenMgmtRef, storage, key) {\n  return new Promise(function (resolve, reject) {\n    if (tokenMgmtRef.options.autoRenew && oauthUtil.isLoginRedirect(sdk)) {\n      return reject(new AuthSdkError('The app should not attempt to call authorize API on callback. ' + 'Authorize flow is already in process. Use parseFromUrl() to receive tokens.'));\n    }\n\n    var token = get(storage, key);\n\n    if (!token || !hasExpired(tokenMgmtRef, token)) {\n      return resolve(token);\n    }\n\n    var tokenPromise = tokenMgmtRef.options.autoRenew ? renew(sdk, tokenMgmtRef, storage, key) : remove(tokenMgmtRef, storage, key);\n    return resolve(tokenPromise);\n  });\n}\n\nfunction remove(tokenMgmtRef, storage, key) {\n  // Clear any listener for this token\n  clearExpireEventTimeout(tokenMgmtRef, key); // Remove it from storage\n\n  var tokenStorage = storage.getStorage();\n  delete tokenStorage[key];\n  storage.setStorage(tokenStorage);\n}\n\nfunction renew(sdk, tokenMgmtRef, storage, key) {\n  // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n  var existingPromise = tokenMgmtRef.renewPromise[key];\n\n  if (existingPromise) {\n    return existingPromise;\n  }\n\n  try {\n    var token = get(storage, key);\n\n    if (!token) {\n      throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  } // Remove existing autoRenew timeout for this key\n\n\n  clearExpireEventTimeout(tokenMgmtRef, key); // Store the renew promise state, to avoid renewing again\n\n  tokenMgmtRef.renewPromise[key] = sdk.token.renew(token).then(function (freshToken) {\n    var oldToken = get(storage, key);\n\n    if (!oldToken) {\n      // It is possible to enter a state where the tokens have been cleared\n      // after a renewal request was triggered. To ensure we do not store a\n      // renewed token, we verify the promise key doesn't exist and return.\n      return;\n    }\n\n    add(sdk, tokenMgmtRef, storage, key, freshToken);\n    tokenMgmtRef.emitter.emit('renewed', key, freshToken, oldToken);\n    return freshToken;\n  }).catch(function (err) {\n    if (err.name === 'OAuthError' || err.name === 'AuthSdkError') {\n      remove(tokenMgmtRef, storage, key);\n      err.tokenKey = key;\n      err.accessToken = !!token.accessToken;\n      emitError(tokenMgmtRef, err);\n    }\n\n    throw err;\n  }).finally(function () {\n    // Remove existing promise key\n    delete tokenMgmtRef.renewPromise[key];\n  });\n  return tokenMgmtRef.renewPromise[key];\n}\n\nfunction clear(tokenMgmtRef, storage) {\n  clearExpireEventTimeoutAll(tokenMgmtRef);\n  storage.clearStorage();\n}\n\nfunction TokenManager(sdk, options) {\n  options = util.extend({}, DEFAULT_OPTIONS, util.removeNils(options));\n\n  if (options.storage === 'localStorage' && !storageUtil.browserHasLocalStorage()) {\n    util.warn('This browser doesn\\'t support localStorage. Switching to sessionStorage.');\n    options.storage = 'sessionStorage';\n  }\n\n  if (options.storage === 'sessionStorage' && !storageUtil.browserHasSessionStorage()) {\n    util.warn('This browser doesn\\'t support sessionStorage. Switching to cookie-based storage.');\n    options.storage = 'cookie';\n  }\n\n  var storageProvider;\n\n  if (_typeof(options.storage) === 'object') {\n    // A custom storage provider must implement getItem(key) and setItem(key, val)\n    storageProvider = options.storage;\n  } else {\n    switch (options.storage) {\n      case 'localStorage':\n        storageProvider = localStorage;\n        break;\n\n      case 'sessionStorage':\n        storageProvider = sessionStorage;\n        break;\n\n      case 'cookie':\n        // Implement customized cookie storage to make sure each token is stored separatedly in cookie\n        storageProvider = function (options) {\n          var storage = storageUtil.getCookieStorage(options);\n          return {\n            getItem: function getItem(key) {\n              var data = storage.getItem();\n              var value = {};\n              Object.keys(data).forEach(function (k) {\n                if (k.indexOf(key) === 0) {\n                  value[k.replace(\"\".concat(key, \"_\"), '')] = JSON.parse(data[k]);\n                }\n              });\n              return JSON.stringify(value);\n            },\n            setItem: function setItem(key, value) {\n              var existingValues = JSON.parse(this.getItem(key));\n              value = JSON.parse(value); // Set key-value pairs from input to cookies\n\n              Object.keys(value).forEach(function (k) {\n                var storageKey = key + '_' + k;\n                var valueToStore = JSON.stringify(value[k]);\n                storage.setItem(storageKey, valueToStore);\n                delete existingValues[k];\n              }); // Delete unmatched keys from existing cookies\n\n              Object.keys(existingValues).forEach(function (k) {\n                storageUtil.storage.delete(key + '_' + k);\n              });\n            }\n          };\n        }(sdk.options.cookies);\n\n        break;\n\n      case 'memory':\n        storageProvider = storageUtil.getInMemoryStorage();\n        break;\n\n      default:\n        throw new AuthSdkError('Unrecognized storage option');\n    }\n  }\n\n  var storageKey = options.storageKey || constants.TOKEN_STORAGE_NAME;\n  var storage = storageBuilder(storageProvider, storageKey);\n  var clock = SdkClock.create(sdk, options);\n  var tokenMgmtRef = {\n    clock: clock,\n    options: options,\n    emitter: sdk.emitter,\n    expireTimeouts: {},\n    renewPromise: {}\n  };\n  this.add = util.bind(add, this, sdk, tokenMgmtRef, storage);\n  this.get = util.bind(getAsync, this, sdk, tokenMgmtRef, storage);\n  this.remove = util.bind(remove, this, tokenMgmtRef, storage);\n  this.clear = util.bind(clear, this, tokenMgmtRef, storage);\n  this.renew = util.bind(renew, this, sdk, tokenMgmtRef, storage);\n  this.on = util.bind(tokenMgmtRef.emitter.on, tokenMgmtRef.emitter);\n  this.off = util.bind(tokenMgmtRef.emitter.off, tokenMgmtRef.emitter);\n  setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage);\n}\n\nmodule.exports = TokenManager;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0);\n\nfunction SdkClock(localOffset) {\n  // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n  this.localOffset = parseInt(localOffset || 0);\n}\n\nutil.extend(SdkClock.prototype, {\n  // Return the current time (in seconds)\n  now: function now() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n}); // factory method. Create an instance of a clock from current context.\n\nSdkClock.create = function ()\n/* sdk, options */\n{\n  // TODO: calculate localOffset\n  var localOffset = 0;\n  return new SdkClock(localOffset);\n};\n\nmodule.exports = SdkClock;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0); // Implements a queue for synchronous or asynchronous methods\n// Methods will be wrapped in a promise and execute sequentially\n// This can be used to prevent concurrent calls to a single method or a set of methods\n\n\nfunction PromiseQueue() {\n  this.queue = [];\n  this.running = false;\n}\n\nutil.extend(PromiseQueue.prototype, {\n  // Returns a promise\n  // If the method is synchronous, it will resolve when the method completes\n  // If the method returns a promise, it will resolve (or reject) with the value from the method's promise\n  push: function push()\n  /* method, thisObject, args... */\n  {\n    var _this = this;\n\n    var args = Array.prototype.slice.call(arguments);\n    var method = args[0];\n    var thisObject = args[1];\n    args = args.slice(2);\n    return new Promise(function (resolve, reject) {\n      _this.queue.push({\n        method: method,\n        thisObject: thisObject,\n        args: args,\n        resolve: resolve,\n        reject: reject\n      });\n\n      _this.run();\n    });\n  },\n  run: function run() {\n    var _this2 = this;\n\n    if (this.running) {\n      return;\n    }\n\n    if (this.queue.length === 0) {\n      return;\n    }\n\n    this.running = true;\n    var queueItem = this.queue.shift();\n    var res = queueItem.method.apply(queueItem.thisObject, queueItem.args);\n\n    if (util.isPromise(res)) {\n      res.then(queueItem.resolve, queueItem.reject).finally(function () {\n        _this2.running = false;\n\n        _this2.run();\n      });\n    } else {\n      queueItem.resolve(res);\n      this.running = false;\n      this.run();\n    }\n  }\n});\nmodule.exports = PromiseQueue;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// okta-auth-js.min.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* global window, document, btoa, atob, Uint8Array */\n\nvar util = module.exports;\n\n// converts a string to base64 (url/filename safe variant)\nutil.stringToBase64Url = function(str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n};\n\n// converts a standard base64-encoded string to a \"url/filename safe\" variant\nutil.base64ToBase64Url = function(b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n};\n\n// converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\nutil.base64UrlToBase64 = function(b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function(b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n  switch (b64.length % 4) {\n    case 0:\n      break;\n    case 2:\n      b64 += '==';\n      break;\n    case 3:\n      b64 += '=';\n      break;\n    default:\n      throw 'Not a valid Base64Url';\n  }\n  var utf8 = atob(b64);\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function(str) {\n  var buffer = new Uint8Array(str.length);\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n  return buffer;\n};\n\nutil.base64UrlDecode = function(str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function(fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function(url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isoToUTCString = function(str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function(obj) {\n  var str = [];\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) &&\n          obj[key] !== undefined &&\n          obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function(length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n  return random;\n};\n\nutil.extend = function() {\n  // First object will be modified!\n  var obj1 = arguments[0];\n  // Properties from other objects will be copied over\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function(obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function(obj) {\n  var cleaned = {};\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n  return cleaned;\n};\n\nutil.clone = function(obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n  return obj;\n};\n\n// Analogous to _.omit\nutil.omit = function(obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n  return util.clone(newobj);\n};\n\nutil.find = function(collection, searchParams) {\n  var c = collection.length;\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function(obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]);\n\n  // If a link has a name and we have an altName, return if they match\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function() {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function() {\n  var nativeConsole = util.getNativeConsole();\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n  return {\n    log: function() {}\n  };\n};\n\nutil.warn = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function(text, fn) {\n  return function() {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function(path) {\n  if (!path) {\n    return;\n  }\n  // Remove any whitespace before or after string\n  var trimmed = path.replace(/^\\s+|\\s+$/gm,'');\n  // Remove trailing slash(es)\n  trimmed = trimmed.replace(/\\/+$/, '');\n\n  return trimmed;\n};\n\nutil.isIE11OrLess = function() {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function(fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};\n\nutil.delay = function(ms) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, ms);\n  });\n};\n\nutil.isPromise = function(obj) {\n  return obj && obj.finally && (typeof obj.finally === 'function');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthSdkError(msg, xhr) {\n  this.name = 'AuthSdkError';\n  this.message = msg;\n\n  this.errorCode = 'INTERNAL';\n  this.errorSummary = msg;\n  this.errorLink = 'INTERNAL';\n  this.errorId = 'INTERNAL';\n  this.errorCauses = [];\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthSdkError.prototype = new Error();\n\nmodule.exports = AuthSdkError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/AuthSdkError.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global localStorage, sessionStorage */\nvar Cookies = require('js-cookie');\nvar storageBuilder = require('../storageBuilder');\nvar constants = require('../constants');\nvar AuthSdkError = require('../errors/AuthSdkError');\n\n// Building this as an object allows us to mock the functions in our tests\nvar storageUtil = {};\n\n// IE11 bug that Microsoft doesn't plan to fix\n// https://connect.microsoft.com/IE/Feedback/Details/1496040\nstorageUtil.browserHasLocalStorage = function() {\n  try {\n    var storage = storageUtil.getLocalStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.browserHasSessionStorage = function() {\n  try {\n    var storage = storageUtil.getSessionStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.getPKCEStorage = function(options) {\n  options = options || {};\n  if (!options.preferLocalStorage && storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.PKCE_STORAGE_NAME);\n  } else if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.PKCE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.PKCE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getHttpCache = function(options) {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.CACHE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.CACHE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.CACHE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getLocalStorage = function() {\n  return localStorage;\n};\n\nstorageUtil.getSessionStorage = function() {\n  return sessionStorage;\n};\n\n// Provides webStorage-like interface for cookies\nstorageUtil.getCookieStorage = function(options) {\n  const secure = options.secure;\n  const sameSite = options.sameSite;\n  if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n    throw new AuthSdkError('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n  }\n  return {\n    getItem: storageUtil.storage.get,\n    setItem: function(key, value) {\n      // Cookie shouldn't expire\n      storageUtil.storage.set(key, value, '2200-01-01T00:00:00.000Z', {\n        secure: secure, \n        sameSite: sameSite\n      });\n    }\n  };\n};\n\n// Provides an in-memory solution\nstorageUtil.getInMemoryStorage = function() {\n  var store = {};\n  return {\n    getItem: function(key) {\n      return store[key];\n    },\n    setItem: function(key, value) {\n      store[key] = value;\n    }\n  };\n};\n\nstorageUtil.testStorage = function(storage) {\n  var key = 'okta-test-storage';\n  try {\n    storage.setItem(key, key);\n    storage.removeItem(key);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.storage = {\n  set: function(name, value, expiresAt, options) {\n    const secure = options.secure;\n    const sameSite = options.sameSite;\n    if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n      throw new AuthSdkError('storage.set: \"secure\" and \"sameSite\" options must be provided');\n    }\n    var cookieOptions = {\n      path: options.path || '/',\n      secure,\n      sameSite\n    };\n\n    // eslint-disable-next-line no-extra-boolean-cast\n    if (!!(Date.parse(expiresAt))) {\n      // Expires value can be converted to a Date object.\n      //\n      // If the 'expiresAt' value is not provided, or the value cannot be\n      // parsed as a Date object, the cookie will set as a session cookie.\n      cookieOptions.expires = new Date(expiresAt);\n    }\n\n    Cookies.set(name, value, cookieOptions);\n    return storageUtil.storage.get(name);\n  },\n\n  get: function(name) {\n    return Cookies.get(name);\n  },\n\n  delete: function(name) {\n    return Cookies.remove(name, { path: '/' });\n  }\n};\n\nmodule.exports = storageUtil;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/browser/browserStorage.js","module.exports = {\n  'STATE_TOKEN_KEY_NAME': 'oktaStateToken',\n  'DEFAULT_POLLING_DELAY': 500,\n  'DEFAULT_MAX_CLOCK_SKEW': 300,\n  'DEFAULT_CACHE_DURATION': 86400,\n  'REDIRECT_OAUTH_PARAMS_NAME': 'okta-oauth-redirect-params',\n  'REDIRECT_STATE_COOKIE_NAME': 'okta-oauth-state',\n  'REDIRECT_NONCE_COOKIE_NAME': 'okta-oauth-nonce',\n  'TOKEN_STORAGE_NAME': 'okta-token-storage',\n  'CACHE_STORAGE_NAME': 'okta-cache-storage',\n  'PKCE_STORAGE_NAME': 'okta-pkce-storage',\n  'ACCESS_TOKEN_STORAGE_KEY': 'accessToken',\n  'ID_TOKEN_STORAGE_KEY': 'idToken'\n};\n\n\n// WEBPACK FOOTER //\n// ./lib/constants.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nvar util = require('./util');\nvar AuthApiError = require('./errors/AuthApiError');\nvar constants = require('./constants');\n\nfunction httpRequest(sdk, options) {\n  options = options || {};\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials !== false, // default value is true\n      storageUtil = sdk.options.storageUtil,\n      storage = storageUtil.storage,\n      httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n\n  var headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'X-Okta-User-Agent-Extended': sdk.userAgent\n  };\n  util.extend(headers, sdk.options.headers, options.headers);\n\n  if (accessToken && util.isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions = {\n    headers: headers,\n    data: args || undefined,\n    withCredentials: withCredentials\n  };\n\n  var err, res;\n  return sdk.options.httpRequestClient(method, url, ajaxOptions)\n    .then(function(resp) {\n      res = resp.responseText;\n      if (res && util.isString(res)) {\n        res = JSON.parse(res);\n      }\n\n      if (saveAuthnState) {\n        if (!res.stateToken) {\n          storage.delete(constants.STATE_TOKEN_KEY_NAME);\n        }\n      }\n\n      if (res && res.stateToken && res.expiresAt) {\n        storage.set(constants.STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies);\n      }\n\n      if (res && options.cacheResponse) {\n        httpCache.updateStorage(url, {\n          expiresAt: Math.floor(Date.now()/1000) + constants.DEFAULT_CACHE_DURATION,\n          response: res\n        });\n      }\n\n      return res;\n    })\n    .catch(function(resp) {\n      var serverErr = resp.responseText || {};\n      if (util.isString(serverErr)) {\n        try {\n          serverErr = JSON.parse(serverErr);\n        } catch (e) {\n          serverErr = {\n            errorSummary: 'Unknown error'\n          };\n        }\n      }\n\n      if (resp.status >= 500) {\n        serverErr.errorSummary = 'Unknown error';\n      }\n\n      if (sdk.options.transformErrorXHR) {\n        resp = sdk.options.transformErrorXHR(util.clone(resp));\n      }\n\n      err = new AuthApiError(serverErr, resp);\n\n      if (err.errorCode === 'E0000011') {\n        storage.delete(constants.STATE_TOKEN_KEY_NAME);\n      }\n\n      throw err;\n    });\n}\n\nfunction get(sdk, url, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  util.extend(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nfunction post(sdk, url, args, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  util.extend(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n\nmodule.exports = {\n  get: get,\n  post: post,\n  httpRequest: httpRequest\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/http.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window, document */\n/* eslint-disable complexity, max-statements */\nvar http = require('./http');\nvar util = require('./util');\nvar storageUtil = require('./browser/browserStorage');\nvar AuthSdkError = require('./errors/AuthSdkError');\n\nfunction generateState() {\n  return util.genRandomString(64);\n}\n\nfunction generateNonce() {\n  return util.genRandomString(64);\n}\n\nfunction isToken(obj) {\n  if (obj &&\n      (obj.accessToken || obj.idToken) &&\n      Array.isArray(obj.scopes)) {\n    return true;\n  }\n  return false;\n}\n\nfunction addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nfunction removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nfunction loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n\n  return document.body.appendChild(iframe);\n}\n\nfunction loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' +\n    'top=100, left=500, width=600, height=600';\n\n  if (util.isIE11OrLess()) {\n    // IE<=11 doesn't fully support postMessage at time of writting.\n    // the following simple solution happened to solve the issue\n    // without adding another proxy layer which makes flow more complecated.\n    var winEl = window.open('/', title, appearance);\n    winEl.location.href = src;\n    return winEl;\n  } else {\n    return window.open(src, title, appearance);\n  }\n}\n\nfunction getWellKnown(sdk, issuer) {\n  var authServerUri = (issuer || sdk.options.issuer);\n  return http.get(sdk, authServerUri + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nfunction getKey(sdk, issuer, kid) {\n  var httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n\n  return getWellKnown(sdk, issuer)\n  .then(function(wellKnown) {\n    var jwksUri = wellKnown['jwks_uri'];\n\n    // Check our kid against the cached version (if it exists and isn't expired)\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      var cachedKey = util.find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    }\n\n    // Remove cache for the key\n    httpCache.clearStorage(jwksUri);\n\n    // Pull the latest keys if the key wasn't in the cache\n    return http.get(sdk, jwksUri, {\n      cacheResponse: true\n    })\n    .then(function(res) {\n      var key = util.find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n\nfunction validateClaims(sdk, claims, validationParams) {\n  var aud = validationParams.clientId;\n  var iss = validationParams.issuer;\n  var nonce = validationParams.nonce;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  var now = Math.floor(Date.now()/1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' +\n      'does not match [' + iss + ']');\n  }\n\n  if (claims.aud !== aud) {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' +\n      'does not match [' + aud + ']');\n  }\n\n  if (claims.iat > claims.exp) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if ((now - sdk.options.maxClockSkew) > claims.exp) {\n    throw new AuthSdkError('The JWT expired and is no longer valid');\n  }\n\n  if (claims.iat > (now + sdk.options.maxClockSkew)) {\n    throw new AuthSdkError('The JWT was issued in the future');\n  }\n}\n\nfunction getOAuthUrls(sdk, options) {\n  if (arguments.length > 2) {\n    throw new AuthSdkError('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n  }\n  options = options || {};\n\n  // Get user-supplied arguments\n  var authorizeUrl = util.removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = util.removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  var userinfoUrl = util.removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = util.removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = util.removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = util.removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n\n  var baseUrl = issuer.indexOf('/oauth2') > 0 ? issuer : issuer + '/oauth2';\n\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n\nfunction urlParamsToObject(hashOrSearch) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n  var fragment = hashOrSearch;\n\n  // Some hash based routers will automatically add a / character after the hash\n  if (fragment.charAt(0) === '#' && fragment.charAt(1) === '/') {\n    fragment = fragment.substring(2);\n  }\n\n  // Remove the leading # or ?\n  if (fragment.charAt(0) === '#' || fragment.charAt(0) === '?') {\n    fragment = fragment.substring(1);\n  }\n\n\n  var obj = {};\n\n  // Loop until we have no more params\n  var param;\n  while (true) { // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n    if (!param) { break; }\n\n    var key = param[1];\n    var value = param[2];\n\n    // id_token should remain base64url encoded\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n  return obj;\n}\n\nfunction hasTokensInHash(hash) {\n  return /((id|access)_token=)/i.test(hash);\n}\n\nfunction hasCodeInUrl(hashOrSearch) {\n  return /(code=)/i.test(hashOrSearch);\n}\n\nfunction isRedirectUri(uri, sdk) {\n  var authParams = sdk.options;\n  return uri && uri.indexOf(authParams.redirectUri) == 0;\n}\n\n/**\n * Check if tokens or a code have been passed back into the url, which happens in\n * the social auth IDP redirect flow.\n */\nfunction isLoginRedirect (sdk) {\n  var authParams = sdk.options;\n  if (authParams.pkce || authParams.responseType === 'code' || authParams.responseMode === 'query') {\n    // Look for code\n    var hasCode = authParams.responseMode === 'fragment' ?\n      hasCodeInUrl(window.location.hash) :\n      hasCodeInUrl(window.location.search);\n    return isRedirectUri(window.location.href, sdk) && hasCode;\n  }\n  // Look for tokens (Implicit OIDC flow)\n  return hasTokensInHash(window.location.hash);\n}\n\nmodule.exports = {\n  generateState: generateState,\n  generateNonce: generateNonce,\n  getWellKnown: getWellKnown,\n  getKey: getKey,\n  validateClaims: validateClaims,\n  getOAuthUrls: getOAuthUrls,\n  loadFrame: loadFrame,\n  loadPopup: loadPopup,\n  urlParamsToObject: urlParamsToObject,\n  isToken: isToken,\n  addListener: addListener,\n  removeListener: removeListener,\n  isLoginRedirect: isLoginRedirect\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/oauthUtil.js","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/typeof.js\n// module id = 6\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar AuthSdkError = require('./errors/AuthSdkError');\n\n// storage must have getItem and setItem\nfunction storageBuilder(webstorage, storageName) {\n  if (typeof storageName !== 'string' || !storageName.length) {\n    throw new AuthSdkError('\"storageName\" is required');\n  }\n\n  function getStorage() {\n    var storageString = webstorage.getItem(storageName);\n    storageString = storageString || '{}';\n    try {\n      return JSON.parse(storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + storageName);\n    }\n  }\n\n  function setStorage(storage) {\n    try {\n      var storageString = JSON.stringify(storage);\n      webstorage.setItem(storageName, storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to set storage: ' + storageName);\n    }\n  }\n\n  function clearStorage(key) {\n    if (!key) {\n      return setStorage({});\n    }\n    var storage = getStorage();\n    delete storage[key];\n    setStorage(storage);\n  }\n\n  function updateStorage(key, value) {\n    var storage = getStorage();\n    storage[key] = value;\n    setStorage(storage);\n  }\n\n  return {\n    getStorage: getStorage,\n    setStorage: setStorage,\n    clearStorage: clearStorage,\n    updateStorage: updateStorage\n  };\n}\n\nmodule.exports = storageBuilder;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/storageBuilder.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/@babel/runtime/regenerator/index.js\n// module id = 8\n// module chunks = 0","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/asyncToGenerator.js\n// module id = 9\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http              = require('./http');\nvar util              = require('./util');\nvar AuthSdkError      = require('./errors/AuthSdkError');\nvar AuthPollStopError = require('./errors/AuthPollStopError');\nvar constants         = require('./constants');\n\nfunction addStateToken(res, options) {\n  var builtArgs = {};\n  util.extend(builtArgs, options);\n\n  // Add the stateToken if one isn't passed and we have one\n  if (!builtArgs.stateToken && res.stateToken) {\n    builtArgs.stateToken = res.stateToken;\n  }\n\n  return builtArgs;\n}\n\nfunction getStateToken(res) {\n  return addStateToken(res);\n}\n\nfunction transactionStatus(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn', args);\n}\n\nfunction resumeTransaction(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to resume'));\n    }\n  }\n  return sdk.tx.status(args)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction introspect (sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to evaluate'));\n    }\n  }\n  return transactionStep(sdk, args)\n    .then(function (res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction transactionStep(sdk, args) {\n  args = addStateToken(sdk, args);\n  // v1 pipeline introspect API\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn/introspect', args);\n}\n\nfunction transactionExists(sdk) {\n  // We have a cookie state token\n  return !!sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n}\n\nfunction postToTransaction(sdk, url, args, options) {\n  return http.post(sdk, url, args, options)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction getPollFn(sdk, res, ref) {\n  return function (options) {\n    var delay;\n    var rememberDevice;\n    var autoPush;\n    var transactionCallBack;\n\n    if (util.isNumber(options)) {\n      delay = options;\n    } else if (util.isObject(options)) {\n      delay = options.delay;\n      rememberDevice = options.rememberDevice;\n      autoPush = options.autoPush;\n      transactionCallBack = options.transactionCallBack;\n    }\n\n    if (!delay && delay !== 0) {\n      delay = constants.DEFAULT_POLLING_DELAY;\n    }\n\n    // Get the poll function\n    var pollLink = util.getLink(res, 'next', 'poll');\n    function pollFn() {\n      var opts = {};\n      if (typeof autoPush === 'function') {\n        try {\n          opts.autoPush = !!autoPush();\n        }\n        catch (e) {\n          return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n        }\n      }\n      else if (autoPush !== undefined && autoPush !== null) {\n        opts.autoPush = !!autoPush;\n      }\n      if (typeof rememberDevice === 'function') {\n        try {\n          opts.rememberDevice = !!rememberDevice();\n        }\n        catch (e) {\n          return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n        }\n      }\n      else if (rememberDevice !== undefined && rememberDevice !== null) {\n        opts.rememberDevice = !!rememberDevice;\n      }\n\n      var href = pollLink.href + util.toQueryParams(opts);\n      return http.post(sdk, href, getStateToken(res), {\n        saveAuthnState: false  \n      });\n    }\n\n    ref.isPolling = true;\n\n    var retryCount = 0;\n    var recursivePoll = function () {\n      // If the poll was manually stopped during the delay\n      if (!ref.isPolling) {\n        return Promise.reject(new AuthPollStopError());\n      }\n      return pollFn()\n        .then(function (pollRes) {\n          // Reset our retry counter on success\n          retryCount = 0;\n\n          // If we're still waiting\n          if (pollRes.factorResult && pollRes.factorResult === 'WAITING') {\n\n            // If the poll was manually stopped while the pollFn was called\n            if (!ref.isPolling) {\n              throw new AuthPollStopError();\n            }\n\n            if (typeof transactionCallBack === 'function') {\n              transactionCallBack(pollRes);\n            }\n\n            // Continue poll\n            return util.delay(delay).then(recursivePoll);\n\n          } else {\n            // Any non-waiting result, even if polling was stopped\n            // during a request, will return\n            ref.isPolling = false;\n            return new AuthTransaction(sdk, pollRes);\n          }\n        })\n        .catch(function(err) {\n          // Exponential backoff, up to 16 seconds\n          if (err.xhr &&\n              (err.xhr.status === 0 || err.xhr.status === 429) &&\n              retryCount <= 4) {\n            var delayLength = Math.pow(2, retryCount) * 1000;\n            retryCount++;\n            return util.delay(delayLength)\n              .then(recursivePoll);\n          }\n          throw err;\n        });\n    };\n    return recursivePoll()\n      .catch(function(err) {\n        ref.isPolling = false;\n        throw err;\n      });\n  };\n}\n\nfunction link2fn(sdk, res, obj, link, ref) {\n  if (Array.isArray(link)) {\n    return function(name, opts) {\n      if (!name) {\n        throw new AuthSdkError('Must provide a link name');\n      }\n\n      var lk = util.find(link, {name: name});\n      if (!lk) {\n        throw new AuthSdkError('No link found for that name');\n      }\n\n      return link2fn(sdk, res, obj, lk, ref)(opts);\n    };\n\n  } else if (link.hints &&\n      link.hints.allow &&\n      link.hints.allow.length === 1) {\n    var method = link.hints.allow[0];\n    switch (method) {\n\n      case 'GET':\n        return function() {\n          return http.get(sdk, link.href);\n        };\n\n      case 'POST':\n        return function(opts) {\n          if (ref && ref.isPolling) {\n            ref.isPolling = false;\n          }\n\n          var data = addStateToken(res, opts);\n\n          if (res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL') {\n            // Add factorType and provider\n            util.extend(data, {\n              factorType: obj.factorType,\n              provider: obj.provider\n            });\n          }\n\n          var params = {};\n          var autoPush = data.autoPush;\n          if (autoPush !== undefined) {\n            if (typeof autoPush === 'function') {\n              try {\n                params.autoPush = !!autoPush();\n              }\n              catch (e) {\n                return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n              }\n            }\n            else if (autoPush !== null) {\n              params.autoPush = !!autoPush;\n            }\n            data = util.omit(data, 'autoPush');\n          }\n\n          var rememberDevice = data.rememberDevice;\n          if (rememberDevice !== undefined) {\n            if (typeof rememberDevice === 'function') {\n              try {\n                params.rememberDevice = !!rememberDevice();\n              }\n              catch (e) {\n                return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n              }\n            }\n            else if (rememberDevice !== null) {\n              params.rememberDevice = !!rememberDevice;\n            }\n            data = util.omit(data, 'rememberDevice');\n\n          } else if (data.profile &&\n                    data.profile.updatePhone !== undefined) {\n            if (data.profile.updatePhone) {\n              params.updatePhone = true;\n            }\n            data.profile = util.omit(data.profile, 'updatePhone');\n          }\n          var href = link.href + util.toQueryParams(params);\n          return postToTransaction(sdk, href, data);\n        };\n    }\n  }\n}\n\nfunction links2fns(sdk, res, obj, ref) {\n  var fns = {};\n  for (var linkName in obj._links) {\n    if (!obj._links.hasOwnProperty(linkName)) {\n      continue;\n    }\n\n    var link = obj._links[linkName];\n    \n    if (linkName === 'next') {\n      linkName = link.name;\n    }\n\n    if (link.type) {\n      fns[linkName] = link;\n      continue;\n    }\n\n    switch (linkName) {\n      // poll is only found at the transaction\n      // level, so we don't need to pass the link\n      case 'poll':\n        fns.poll = getPollFn(sdk, res, ref);\n        break;\n\n      default:\n        var fn = link2fn(sdk, res, obj, link, ref);\n        if (fn) {\n          fns[linkName] = fn;\n        }\n    }\n  }\n  return fns;\n}\n\nfunction flattenEmbedded(sdk, res, obj, ref) {\n  obj = obj || res;\n  obj = util.clone(obj);\n\n  if (Array.isArray(obj)) {\n    var objArr = [];\n    for (var o = 0, ol = obj.length; o < ol; o++) {\n      objArr.push(flattenEmbedded(sdk, res, obj[o], ref));\n    }\n    return objArr;\n  }\n\n  var embedded = obj._embedded || {};\n\n  for (var key in embedded) {\n    if (!embedded.hasOwnProperty(key)) {\n      continue;\n    }\n\n    // Flatten any nested _embedded objects\n    if (util.isObject(embedded[key]) || Array.isArray(embedded[key])) {\n      embedded[key] = flattenEmbedded(sdk, res, embedded[key], ref);\n    }\n  }\n\n  // Convert any links on the embedded object\n  var fns = links2fns(sdk, res, obj, ref);\n  util.extend(embedded, fns);\n\n  obj = util.omit(obj, '_embedded', '_links');\n  util.extend(obj, embedded);\n  return obj;\n}\n\nfunction AuthTransaction(sdk, res) {\n  if (res) {\n    this.data = res;\n    util.extend(this, flattenEmbedded(sdk, res, res, {}));\n    delete this.stateToken;\n\n    // RECOVERY_CHALLENGE has some responses without _links.\n    // Without _links, we emulate cancel to make it intuitive\n    // to return to the starting state. We may remove this\n    // when OKTA-75434 is resolved\n    if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n      this.cancel = function() {\n        return Promise.resolve(new AuthTransaction(sdk));\n      };\n    }\n  }\n}\n\nmodule.exports = {\n  transactionStatus: transactionStatus,\n  resumeTransaction: resumeTransaction,\n  transactionExists: transactionExists,\n  postToTransaction: postToTransaction,\n  introspect: introspect,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tx.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar fetchRequest = require('../fetch/fetchRequest');\nvar storageUtil = require('./browserStorage');\n\nmodule.exports = require('./browser')(storageUtil, fetchRequest);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/browser/browserIndex.js","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar fetch = require('cross-fetch');\n\n\nfunction readData(response) {\n  if (response.headers.get('Content-Type') &&\n    response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n  return response.json()\n    // JSON parse can fail if response is not a valid object\n    .catch(e => {\n      return {\n        error: e,\n        errorSummary: 'Could not parse server response'\n      };\n    });\n  } else {\n    return response.text();\n  }\n}\n\nfunction formatResult(status, data) {\n  const isObject = typeof data === 'object'; \n  const result = {\n    responseText: isObject ? JSON.stringify(data) : data,\n    status: status\n  };\n  if (isObject) {\n    result.responseType = 'json';\n    result.responseJSON = data;\n  }\n  return result;\n}\n\n/* eslint-disable complexity */\nfunction fetchRequest(method, url, args) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = (headers['Content-Type'] || headers['content-type'] || '');\n\n  // JSON encode body (if appropriate)\n  if (contentType === 'application/json' && body && typeof body !== 'string') {\n    body = JSON.stringify(body);\n  }\n\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body,\n    credentials: args.withCredentials ? 'include' : 'omit'\n  })\n  .then(function(response) {\n    var error = !response.ok;\n    var status = response.status;\n    return readData(response)\n      .then(data => {\n        return formatResult(status, data);\n      })\n      .then(result => {\n        if (error) {\n          // Throwing result object since error handling is done in http.js\n          throw result;\n        }\n        return result;\n      });\n  });\n  return fetchPromise;\n}\n\nmodule.exports = fetchRequest;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/fetch/fetchRequest.js","var __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/cross-fetch/dist/browser-ponyfill.js\n// module id = 13\n// module chunks = 0","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/js-cookie/src/js.cookie.js\n// module id = 14\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint-disable complexity */\n/* eslint-disable max-statements */\n/* SDK_VERSION is defined in webpack config */ \n/* global SDK_VERSION */\n/* global window, navigator, document, crypto */\nvar Emitter           = require('tiny-emitter');\nvar AuthSdkError      = require('../errors/AuthSdkError');\nvar builderUtil       = require('../builderUtil');\nvar constants         = require('../constants');\nvar cookies           = require('./browserStorage').storage;\nvar http              = require('../http');\nvar oauthUtil         = require('../oauthUtil');\nvar session           = require('../session');\nvar token             = require('../token');\nvar TokenManager      = require('../TokenManager');\nvar tx                = require('../tx');\nvar util              = require('../util');\nvar PromiseQueue       = require('../PromiseQueue');\n\nfunction getCookieSettings(sdk, args) {\n  // Secure cookies will be automatically used on a HTTPS connection\n  // Non-secure cookies will be automatically used on a HTTP connection\n  // secure option can override the automatic behavior\n  var cookieSettings = args.cookies || {};\n  if (typeof cookieSettings.secure === 'undefined') {\n    cookieSettings.secure = sdk.features.isHTTPS();\n  }\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  }\n\n  // If secure=true, but the connection is not HTTPS, set secure=false.\n  if (cookieSettings.secure && !sdk.features.isHTTPS()) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      'The current page is not being served with the HTTPS protocol.\\n' +\n      'For security reasons, we strongly recommend using HTTPS.\\n' +\n      'If you cannot use HTTPS, set \"cookies.secure\" option to false.'\n    );\n    cookieSettings.secure = false;\n  }\n\n  // Chrome >= 80 will block cookies with SameSite=None unless they are also Secure\n  // If sameSite=none, but the connection is not HTTPS, set sameSite=lax.\n  if (cookieSettings.sameSite === 'none' && !cookieSettings.secure) {\n    cookieSettings.sameSite = 'lax';\n  }\n\n  return cookieSettings;\n}\n\nfunction OktaAuthBuilder(args) {\n  var sdk = this;\n\n  builderUtil.assertValidConfig(args);\n\n  this.options = {\n    clientId: args.clientId,\n    issuer: util.removeTrailingSlash(args.issuer),\n    authorizeUrl: util.removeTrailingSlash(args.authorizeUrl),\n    userinfoUrl: util.removeTrailingSlash(args.userinfoUrl),\n    tokenUrl: util.removeTrailingSlash(args.tokenUrl),\n    revokeUrl: util.removeTrailingSlash(args.revokeUrl),\n    logoutUrl: util.removeTrailingSlash(args.logoutUrl),\n    pkce: args.pkce === false ? false : true,\n    redirectUri: args.redirectUri,\n    postLogoutRedirectUri: args.postLogoutRedirectUri,\n    responseMode: args.responseMode,\n    httpRequestClient: args.httpRequestClient,\n    storageUtil: args.storageUtil,\n    transformErrorXHR: args.transformErrorXHR,\n    headers: args.headers,\n    onSessionExpired: args.onSessionExpired,\n    cookies: getCookieSettings(sdk, args)\n  };\n\n  this.userAgent = builderUtil.getUserAgent(args, `okta-auth-js/${SDK_VERSION}`);\n\n  // Digital clocks will drift over time, so the server\n  // can misalign with the time reported by the browser.\n  // The maxClockSkew allows relaxing the time-based\n  // validation of tokens (in seconds, not milliseconds).\n  // It currently defaults to 300, because 5 min is the\n  // default maximum tolerance allowed by Kerberos.\n  // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n  if (!args.maxClockSkew && args.maxClockSkew !== 0) {\n    this.options.maxClockSkew = constants.DEFAULT_MAX_CLOCK_SKEW;\n  } else {\n    this.options.maxClockSkew = args.maxClockSkew;\n  }\n\n  // Give the developer the ability to disable token signature\n  // validation.\n  this.options.ignoreSignature = !!args.ignoreSignature;\n\n  sdk.session = {\n    close: util.bind(session.closeSession, null, sdk),\n    exists: util.bind(session.sessionExists, null, sdk),\n    get: util.bind(session.getSession, null, sdk),\n    refresh: util.bind(session.refreshSession, null, sdk),\n    setCookieAndRedirect: util.bind(session.setCookieAndRedirect, null, sdk)\n  };\n\n  sdk.tx = {\n    status: util.bind(tx.transactionStatus, null, sdk),\n    resume: util.bind(tx.resumeTransaction, null, sdk),\n    exists: util.bind(tx.transactionExists, null, sdk),\n    introspect: util.bind(tx.introspect, null, sdk)\n  };\n\n  // This is exposed so we can mock document.cookie in our tests\n  sdk.tx.exists._get = function(name) {\n    return cookies.get(name);\n  };\n\n  // This is exposed so we can mock window.location.href in our tests\n  sdk.idToken = {\n    authorize: {\n      _getLocationHref: function() {\n        return window.location.href;\n      }\n    }\n  };\n\n  sdk._tokenQueue = new PromiseQueue();\n  sdk.token = {\n    getWithoutPrompt: util.bind(token.getWithoutPrompt, null, sdk),\n    getWithPopup: util.bind(token.getWithPopup, null, sdk),\n    getWithRedirect: util.bind(token.getWithRedirect, null, sdk),\n    parseFromUrl: util.bind(token.parseFromUrl, null, sdk),\n    decode: token.decodeToken,\n    revoke: util.bind(token.revokeToken, null, sdk),\n    renew: util.bind(token.renewToken, null, sdk),\n    getUserInfo: util.bind(token.getUserInfo, null, sdk),\n    verify: util.bind(token.verifyToken, null, sdk),\n    isLoginRedirect: util.bind(oauthUtil.isLoginRedirect, null, sdk)\n  };\n  // Wrap all async token API methods using MethodQueue to avoid issues with concurrency\n  const syncMethods = ['decode', 'isLoginRedirect'];\n  Object.keys(sdk.token).forEach(key => {\n    if (syncMethods.indexOf(key) >= 0) { // sync methods should not be wrapped\n      return;\n    }\n    var method = sdk.token[key];\n    sdk.token[key] = util.bind(PromiseQueue.prototype.push, sdk._tokenQueue, method, null);\n  });\n  // This is exposed so we can set window.location in our tests\n  sdk.token.getWithRedirect._setLocation = function(url) {\n    window.location = url;\n  };\n\n  // This is exposed so we can mock getting window.history in our tests\n  sdk.token.parseFromUrl._getHistory = function() {\n    return window.history;\n  };\n\n  // This is exposed so we can mock getting window.location in our tests\n  sdk.token.parseFromUrl._getLocation = function() {\n    return window.location;\n  };\n\n  // This is exposed so we can mock getting window.document in our tests\n  sdk.token.parseFromUrl._getDocument = function() {\n    return window.document;\n  };\n\n  sdk.fingerprint._getUserAgent = function() {\n    return navigator.userAgent;\n  };\n\n  var isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\n  sdk.features.isFingerprintSupported = function() {\n    var agent = sdk.fingerprint._getUserAgent();\n    return agent && !isWindowsPhone.test(agent);\n  };\n\n  sdk.emitter = new Emitter();\n  sdk.tokenManager = new TokenManager(sdk, args.tokenManager);\n  sdk.tokenManager.on('error', this._onTokenManagerError, this);\n}\n\nvar proto = OktaAuthBuilder.prototype;\nproto._onTokenManagerError = function(error) {\n  var code = error.errorCode;\n  if (code === 'login_required' && error.accessToken) {\n    if (this.options.onSessionExpired) {\n      this.options.onSessionExpired();\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Session has expired or was closed outside the application.');\n    }\n  }\n};\n\nproto.features = {};\n\nproto.features.isPopupPostMessageSupported = function() {\n  var isIE8or9 = document.documentMode && document.documentMode < 10;\n  if (window.postMessage && !isIE8or9) {\n    return true;\n  }\n  return false;\n};\n\nproto.features.isTokenVerifySupported = function() {\n  return typeof crypto !== 'undefined' && crypto.subtle && typeof Uint8Array !== 'undefined';\n};\n\nproto.features.hasTextEncoder = function() {\n  return typeof TextEncoder !== 'undefined';\n};\n\nproto.features.isPKCESupported = function() {\n  return proto.features.isTokenVerifySupported() && proto.features.hasTextEncoder();\n};\n\nproto.features.isHTTPS = function() {\n  return window.location.protocol === 'https:';\n};\n\nproto.features.isLocalhost = function() {\n  return window.location.hostname === 'localhost';\n};\n// { username, password, (relayState), (context) }\nproto.signIn = function (opts) {\n  var sdk = this;\n  opts = util.clone(opts || {});\n  function postToTransaction(options) {\n    delete opts.sendFingerprint;\n    return tx.postToTransaction(sdk, '/api/v1/authn', opts, options);\n  }\n  if (!opts.sendFingerprint) {\n    return postToTransaction();\n  }\n  return sdk.fingerprint()\n  .then(function(fingerprint) {\n    return postToTransaction({\n      headers: {\n        'X-Device-Fingerprint': fingerprint\n      }\n    });\n  });\n};\n\n// Ends the current Okta SSO session without redirecting to Okta.\nproto.closeSession = function closeSession() {\n  var sdk = this;\n  \n  // Clear all local tokens\n  sdk.tokenManager.clear();\n\n  return sdk.session.close() // DELETE /api/v1/sessions/me\n  .catch(function(e) {\n    if (e.name === 'AuthApiError' && e.errorCode === 'E0000007') {\n      // Session does not exist or has already been closed\n      return;\n    }\n    throw e;\n  });\n};\n\n// Revokes the access token for the application session\nproto.revokeAccessToken = async function revokeAccessToken(accessToken) {\n  var sdk = this;\n  if (!accessToken) {\n    accessToken = await sdk.tokenManager.get(constants.ACCESS_TOKEN_STORAGE_KEY);\n    sdk.tokenManager.remove(constants.ACCESS_TOKEN_STORAGE_KEY);\n  }\n  // Access token may have been removed. In this case, we will silently succeed.\n  if (!accessToken) {\n    return Promise.resolve();\n  }\n  return sdk.token.revoke(accessToken);\n};\n\n// Revokes accessToken, clears all local tokens, then redirects to Okta to end the SSO session.\nproto.signOut = async function (options) {\n  options = util.extend({}, options);\n\n  // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n  var defaultUri = window.location.origin;\n  var currentUri = window.location.href;\n  var postLogoutRedirectUri = options.postLogoutRedirectUri\n    || this.options.postLogoutRedirectUri\n    || defaultUri;\n\n  var accessToken = options.accessToken;\n  var revokeAccessToken = options.revokeAccessToken !== false;\n  var idToken = options.idToken;\n\n  var sdk = this;\n  var logoutUrl = oauthUtil.getOAuthUrls(sdk).logoutUrl;\n\n  if (typeof idToken === 'undefined') {\n    idToken = await sdk.tokenManager.get(constants.ID_TOKEN_STORAGE_KEY);\n  }\n\n  if (revokeAccessToken && typeof accessToken === 'undefined') {\n    accessToken = await sdk.tokenManager.get(constants.ACCESS_TOKEN_STORAGE_KEY);\n  }\n\n  // Clear all local tokens\n  sdk.tokenManager.clear();\n\n  if (revokeAccessToken && accessToken) {\n    await sdk.revokeAccessToken(accessToken);\n  }\n\n  // No idToken? This can happen if the storage was cleared.\n  // Fallback to XHR signOut, then simulate a redirect to the post logout uri\n  if (!idToken) {\n    return sdk.closeSession() // can throw if the user cannot be signed out\n    .then(function() {\n      if (postLogoutRedirectUri === currentUri) {\n        window.location.reload(); // force a hard reload if URI is not changing\n      } else {\n        window.location.assign(postLogoutRedirectUri);\n      }\n    });\n  }\n\n  // logout redirect using the idToken.\n  var state = options.state;\n  var idTokenHint = idToken.idToken; // a string\n  var logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint) +\n    '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri);\n\n  // State allows option parameters to be passed to logout redirect uri\n  if (state) {\n    logoutUri += '&state=' + encodeURIComponent(state);\n  }\n  \n  window.location.assign(logoutUri);\n};\n\nbuilderUtil.addSharedPrototypes(proto);\n\n// { resource, (rel), (requestContext)}\nproto.webfinger = function (opts) {\n  var url = '/.well-known/webfinger' + util.toQueryParams(opts);\n  var options = {\n    headers: {\n      'Accept': 'application/jrd+json'\n    }\n  };\n  return http.get(this, url, options);\n};\n\nproto.fingerprint = function(options) {\n  options = options || {};\n  var sdk = this;\n  if (!sdk.features.isFingerprintSupported()) {\n    return Promise.reject(new AuthSdkError('Fingerprinting is not supported on this device'));\n  }\n\n  var timeout;\n  var iframe;\n  var listener;\n  var promise = new Promise(function (resolve, reject) {\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n\n    listener = function listener(e) {\n      if (!e || !e.data || e.origin !== sdk.getIssuerOrigin()) {\n        return;\n      }\n\n      try {\n        var msg = JSON.parse(e.data);\n      } catch (err) {\n        // iframe messages should all be parsable\n        // skip not parsable messages come from other sources in same origin (browser extensions)\n        // TODO: add namespace flag in okta-core to distinguish messages that come from other sources\n        return;\n      }\n\n      if (!msg) { return; }\n      if (msg.type === 'FingerprintAvailable') {\n        return resolve(msg.fingerprint);\n      }\n      if (msg.type === 'FingerprintServiceReady') {\n        e.source.postMessage(JSON.stringify({\n          type: 'GetFingerprint'\n        }), e.origin);\n      }\n    };\n    oauthUtil.addListener(window, 'message', listener);\n\n    iframe.src = sdk.getIssuerOrigin() + '/auth/services/devicefingerprint';\n    document.body.appendChild(iframe);\n\n    timeout = setTimeout(function() {\n      reject(new AuthSdkError('Fingerprinting timed out'));\n    }, options.timeout || 15000);\n  });\n\n  return promise.finally(function() {\n    clearTimeout(timeout);\n    oauthUtil.removeListener(window, 'message', listener);\n    if (document.body.contains(iframe)) {\n      iframe.parentElement.removeChild(iframe);\n    }\n  });\n};\n\nmodule.exports = builderUtil.buildOktaAuth(OktaAuthBuilder);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/browser/browser.js","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/regenerator-runtime/runtime.js\n// module id = 16\n// module chunks = 0","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/tiny-emitter/index.js\n// module id = 17\n// module chunks = 0","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar AuthSdkError = require('./errors/AuthSdkError');\nvar tx = require('./tx');\nvar util = require('./util');\n\n// TODO: use @okta/configuration-validation (move module to this monorepo?)\n// eslint-disable-next-line complexity\nfunction assertValidConfig(args) {\n  if (!args) {\n    throw new AuthSdkError('No arguments passed to constructor. ' +\n      'Required usage: new OktaAuth(args)');\n  }\n\n  var issuer = args.issuer;\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n  if (!isUrlRegex.test(args.issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' +\n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n\n  var userAgent = args.userAgent;\n  var userAgentTemplateWithNoPlaceholder = \n    userAgent && userAgent.template && userAgent.template.indexOf('$OKTA_AUTH_JS') === -1;\n  if (userAgentTemplateWithNoPlaceholder) {\n    throw new AuthSdkError('UserAgentTemplate must include \"$OKTA_AUTH_JS\" placeholder. ' + \n      'Required usage: new OktaAuth({userAgentTemplate: \"xxx $OKTA_AUTH_JS xxx\"})');\n  }\n}\n\nfunction addSharedPrototypes(proto) {\n  proto.getIssuerOrigin = function() {\n    // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n    return this.options.issuer.split('/oauth2/')[0];\n  };\n\n  // { username, (relayState) }\n  proto.forgotPassword = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/password', opts);\n  };\n\n  // { username, (relayState) }\n  proto.unlockAccount = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/unlock', opts);\n  };\n\n  // { recoveryToken }\n  proto.verifyRecoveryToken = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/token', opts);\n  };\n}\n\nfunction buildOktaAuth(OktaAuthBuilder) {\n  return function(storageUtil, httpRequestClient) {\n    function OktaAuth(args) {\n      if (!(this instanceof OktaAuth)) {\n        return new OktaAuth(args);\n      }\n\n      if (args) {\n        args.storageUtil = storageUtil;\n\n        if (args.ajaxRequest) {\n          util.deprecate('ajaxRequest is being deprecated, use httpRequestClient attribute instead.');\n          args.httpRequestClient = args.ajaxRequest;\n        } else if (!args.httpRequestClient) {\n          args.httpRequestClient = httpRequestClient;\n        }\n      }\n\n      util.bind(OktaAuthBuilder, this)(args);\n    }\n    OktaAuth.prototype = OktaAuthBuilder.prototype;\n    OktaAuth.prototype.constructor = OktaAuth;\n\n    // Hoist feature detection functions to static type\n    OktaAuth.features = OktaAuthBuilder.prototype.features;\n\n    return OktaAuth;\n  };\n}\n\nfunction getUserAgent(args, sdkValue) {\n  var userAgent = args.userAgent || {};\n\n  if (userAgent.value) {\n    return userAgent.value;\n  }\n\n  if (userAgent.template) {\n    return userAgent.template.replace('$OKTA_AUTH_JS', sdkValue);\n  }\n\n  return sdkValue;\n}\n\nmodule.exports = {\n  addSharedPrototypes: addSharedPrototypes,\n  buildOktaAuth: buildOktaAuth,\n  assertValidConfig: assertValidConfig,\n  getUserAgent: getUserAgent\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/builderUtil.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthApiError(err, xhr) {\n  this.name = 'AuthApiError';\n  this.message = err.errorSummary;\n  this.errorSummary = err.errorSummary;\n  this.errorCode = err.errorCode;\n  this.errorLink = err.errorLink;\n  this.errorId = err.errorId;\n  this.errorCauses = err.errorCauses;\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthApiError.prototype = new Error();\n\nmodule.exports = AuthApiError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/AuthApiError.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthPollStopError() {\n  this.name = 'AuthPollStopError';\n  this.message = 'The poll was stopped by the sdk';\n}\nAuthPollStopError.prototype = new Error();\n\nmodule.exports = AuthPollStopError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/AuthPollStopError.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window */\nvar util = require('./util');\nvar http = require('./http');\n\nfunction sessionExists(sdk) {\n  return sdk.session.get()\n    .then(function(res) {\n      if (res.status === 'ACTIVE') {\n        return true;\n      }\n      return false;\n    })\n    .catch(function() {\n      return false;\n    });\n}\n\nfunction getSession(sdk) { \n  return http.get(sdk, '/api/v1/sessions/me')\n  .then(function(session) {\n    var res = util.omit(session, '_links');\n\n    res.refresh = function() {\n      return http.post(sdk, util.getLink(session, 'refresh').href);\n    };\n\n    res.user = function() {\n      return http.get(sdk, util.getLink(session, 'user').href);\n    };\n\n    return res;\n  })\n  .catch(function() {\n    // Return INACTIVE status on failure\n    return {status: 'INACTIVE'};\n  });\n}\n\nfunction closeSession(sdk) {\n  return http.httpRequest(sdk, {\n    url: sdk.getIssuerOrigin() + '/api/v1/sessions/me',\n    method: 'DELETE'\n  });\n}\n\nfunction refreshSession(sdk) {\n  return http.post(sdk, '/api/v1/sessions/me/lifecycle/refresh');\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location = sdk.getIssuerOrigin() + '/login/sessionCookieRedirect' +\n    util.toQueryParams({\n      checkAccountSetupComplete: true,\n      token: sessionToken,\n      redirectUrl: redirectUrl\n    });\n}\n\nmodule.exports = {\n  sessionExists: sessionExists,\n  getSession: getSession,\n  closeSession: closeSession,\n  refreshSession: refreshSession,\n  setCookieAndRedirect: setCookieAndRedirect\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/session.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window, document, btoa */\n/* eslint-disable complexity, max-statements */\nvar http          = require('./http');\nvar util          = require('./util');\nvar oauthUtil     = require('./oauthUtil');\nvar sdkCrypto     = require('./crypto');\nvar AuthSdkError  = require('./errors/AuthSdkError');\nvar OAuthError    = require('./errors/OAuthError');\nvar constants     = require('./constants');\nvar cookies       = require('./browser/browserStorage').storage;\nvar browserStorage = require('./browser/browserStorage');\nvar PKCE          = require('./pkce');\n\n// Only the access token can be revoked in SPA applications\nfunction revokeToken(sdk, token) {\n  return Promise.resolve()\n  .then(function() {\n    if (!token || !token.accessToken) {\n      throw new AuthSdkError('A valid access token object is required');\n    }\n    var clientId = sdk.options.clientId;\n    if (!clientId) {\n      throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n    var revokeUrl = oauthUtil.getOAuthUrls(sdk).revokeUrl;\n    var accessToken = token.accessToken;\n    var args = util.toQueryParams({\n      // eslint-disable-next-line camelcase\n      token_type_hint: 'access_token',\n      token: accessToken\n    }).slice(1);\n    var creds = btoa(clientId);\n    return http.post(sdk, revokeUrl, args, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + creds\n      }\n    });\n  });\n}\n\nfunction decodeToken(token) {\n  var jwt = token.split('.');\n  var decodedToken;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(util.base64UrlToString(jwt[0])),\n      payload: JSON.parse(util.base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch(e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n}\n\n// Verify the id token\nfunction verifyToken(sdk, token, validationParams) {\n  return Promise.resolve()\n  .then(function() {\n    if (!token || !token.idToken) {\n      throw new AuthSdkError('Only idTokens may be verified');\n    }\n\n    var jwt = decodeToken(token.idToken);\n\n    var validationOptions = {\n      clientId: sdk.options.clientId,\n      issuer: sdk.options.issuer,\n      ignoreSignature: sdk.options.ignoreSignature\n    };\n\n    util.extend(validationOptions, validationParams);\n\n    // Standard claim validation\n    oauthUtil.validateClaims(sdk, jwt.payload, validationOptions);\n\n    // If the browser doesn't support native crypto or we choose not\n    // to verify the signature, bail early\n    if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n      return token;\n    }\n\n    return oauthUtil.getKey(sdk, token.issuer, jwt.header.kid)\n    .then(function(key) {\n      return sdkCrypto.verifyToken(token.idToken, key);\n    })\n    .then(function(valid) {\n      if (!valid) {\n        throw new AuthSdkError('The token signature is not valid');\n      }\n      if (validationParams && validationParams.accessToken && token.claims.at_hash) {\n        return sdkCrypto.getOidcHash(validationParams.accessToken)\n          .then(hash => {\n            if (hash !== token.claims.at_hash) {\n              throw new AuthSdkError('Token hash verification failed');\n            }\n          });\n      }\n    })\n    .then(() => {\n      return token;\n    });\n  });\n}\n\nfunction addPostMessageListener(sdk, timeout, state) {\n  var responseHandler;\n  var timeoutId;\n  var msgReceivedOrTimeout = new Promise(function(resolve, reject) {\n\n    responseHandler = function responseHandler(e) {\n      if (!e.data || e.data.state !== state) {\n        // A message not meant for us\n        return;\n      }\n\n      // Configuration mismatch between saved token and current app instance\n      // This may happen if apps with different issuers are running on the same host url\n      // If they share the same storage key, they may read and write tokens in the same location.\n      // Common when developing against http://localhost\n      if (e.origin !== sdk.getIssuerOrigin()) {\n        return reject(new AuthSdkError('The request does not match client configuration'));\n      }\n      resolve(e.data);\n    };\n\n    oauthUtil.addListener(window, 'message', responseHandler);\n\n    timeoutId = setTimeout(function() {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n\n  return msgReceivedOrTimeout\n    .finally(function() {\n      clearTimeout(timeoutId);\n      oauthUtil.removeListener(window, 'message', responseHandler);\n    });\n}\n\nfunction exchangeCodeForToken(sdk, oauthParams, authorizationCode, urls) {\n  // PKCE authorization_code flow\n  // Retrieve saved values and build oauthParams for call to /token\n  var meta = PKCE.loadMeta(sdk);\n  var getTokenParams = {\n    clientId: oauthParams.clientId,\n    authorizationCode: authorizationCode,\n    codeVerifier: meta.codeVerifier,\n    redirectUri: meta.redirectUri\n  };\n  return PKCE.getToken(sdk, getTokenParams, urls)\n  .then(function(res) {\n    validateResponse(res, getTokenParams);\n    return res;\n  })\n  .finally(function() {\n    PKCE.clearMeta(sdk);\n  });\n}\n\nfunction validateResponse(res, oauthParams) {\n  if (res['error'] || res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n}\n\nfunction handleOAuthResponse(sdk, oauthParams, res, urls) {\n  urls = urls || {};\n\n  var responseType = oauthParams.responseType;\n  if (!Array.isArray(responseType)) {\n    responseType = [responseType];\n  }\n\n  var scopes = util.clone(oauthParams.scopes);\n  var clientId = oauthParams.clientId || sdk.options.clientId;\n  var pkce = sdk.options.pkce !== false;\n\n  return Promise.resolve()\n  .then(function() {\n    validateResponse(res, oauthParams);\n\n    // PKCE flow\n    // We do not support \"hybrid\" scenarios where the response includes both a code and a token.\n    // If the response contains a code it is used immediately to obtain new tokens.\n    if (res.code && pkce) {\n      // responseType is not sent to the token endpoint.\n      // We populate this array to validate the response below\n      responseType = ['token']; // an accessToken will always be returned\n      if (scopes.indexOf('openid') !== -1) {\n        responseType.push('id_token'); // an idToken will be returned if \"openid\" is in the scopes\n      }\n      return exchangeCodeForToken(sdk, oauthParams, res.code, urls);\n    }\n    return res;\n  }).then(function(res) {\n    var tokenDict = {};\n    var expiresIn = res.expires_in;\n    var tokenType = res.token_type;\n    var accessToken = res.access_token;\n    var idToken = res.id_token;\n    \n    if (accessToken) {\n      tokenDict.accessToken = {\n        value: accessToken,\n        accessToken: accessToken,\n        expiresAt: Number(expiresIn) + Math.floor(Date.now()/1000),\n        tokenType: tokenType,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        userinfoUrl: urls.userinfoUrl\n      };\n    }\n\n    if (idToken) {\n      var jwt = sdk.token.decode(idToken);\n\n      var idTokenObj = {\n        value: idToken,\n        idToken: idToken,\n        claims: jwt.payload,\n        expiresAt: jwt.payload.exp,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        issuer: urls.issuer,\n        clientId: clientId\n      };\n\n      var validationParams = {\n        clientId: clientId,\n        issuer: urls.issuer,\n        nonce: oauthParams.nonce,\n        accessToken: accessToken\n      };\n\n      if (oauthParams.ignoreSignature !== undefined) {\n        validationParams.ignoreSignature = oauthParams.ignoreSignature;\n      }\n\n      return verifyToken(sdk, idTokenObj, validationParams)\n      .then(function() {\n        tokenDict.idToken = idTokenObj;\n        return tokenDict;\n      });\n    }\n\n    return tokenDict;\n  })\n  .then(function(tokenDict) {\n    // Validate received tokens against requested response types \n    if (responseType.indexOf('token') !== -1 && !tokenDict.accessToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n    }\n    if (responseType.indexOf('id_token') !== -1 && !tokenDict.idToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n    }\n\n    return {\n      tokens: tokenDict,\n      state: res.state,\n      code: res.code\n    };\n  });\n}\n\nfunction getDefaultOAuthParams(sdk) {\n  return {\n    pkce: sdk.options.pkce,\n    clientId: sdk.options.clientId,\n    redirectUri: sdk.options.redirectUri || window.location.href,\n    responseType: ['token', 'id_token'],\n    responseMode: sdk.options.responseMode,\n    state: oauthUtil.generateState(),\n    nonce: oauthUtil.generateNonce(),\n    scopes: ['openid', 'email'],\n    ignoreSignature: sdk.options.ignoreSignature\n  };\n}\n\nfunction convertOAuthParamsToQueryParams(oauthParams) {\n  // Quick validation\n  if (!oauthParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (util.isString(oauthParams.responseType) && oauthParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  }\n\n  // Convert our params to their actual OAuth equivalents\n  var oauthQueryParams = util.removeNils({\n    'client_id': oauthParams.clientId,\n    'code_challenge': oauthParams.codeChallenge,\n    'code_challenge_method': oauthParams.codeChallengeMethod,\n    'display': oauthParams.display,\n    'idp': oauthParams.idp,\n    'idp_scope': oauthParams.idpScope,\n    'login_hint': oauthParams.loginHint,\n    'max_age': oauthParams.maxAge,\n    'nonce': oauthParams.nonce,\n    'prompt': oauthParams.prompt,\n    'redirect_uri': oauthParams.redirectUri,\n    'response_mode': oauthParams.responseMode,\n    'response_type': oauthParams.responseType,\n    'sessionToken': oauthParams.sessionToken,\n    'state': oauthParams.state,\n  });\n\n  ['idp_scope', 'response_type'].forEach( function( mayBeArray ) { \n    if (Array.isArray(oauthQueryParams[mayBeArray])) {\n      oauthQueryParams[mayBeArray] = oauthQueryParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (oauthParams.responseType.indexOf('id_token') !== -1 &&\n      oauthParams.scopes.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else {\n    oauthQueryParams.scope = oauthParams.scopes.join(' ');\n  }\n\n  return oauthQueryParams;\n}\n\nfunction buildAuthorizeParams(oauthParams) {\n  var oauthQueryParams = convertOAuthParamsToQueryParams(oauthParams);\n  return util.toQueryParams(oauthQueryParams);\n}\n\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\nfunction getToken(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getToken\" takes only a single set of options'));\n  }\n  \n  options = options || {};\n\n  return prepareOauthParams(sdk, options)\n  .then(function(oauthParams) {\n\n    // Start overriding any options that don't make sense\n    var sessionTokenOverrides = {\n      prompt: 'none',\n      responseMode: 'okta_post_message',\n      display: null\n    };\n\n    var idpOverrides = {\n      display: 'popup'\n    };\n\n    if (options.sessionToken) {\n      util.extend(oauthParams, sessionTokenOverrides);\n    } else if (options.idp) {\n      util.extend(oauthParams, idpOverrides);\n    }\n\n    // Use the query params to build the authorize url\n    var requestUrl,\n        endpoint,\n        urls;\n\n    // Get authorizeUrl and issuer\n    urls = oauthUtil.getOAuthUrls(sdk, oauthParams);\n    endpoint = options.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n    requestUrl = endpoint + buildAuthorizeParams(oauthParams);\n\n    // Determine the flow type\n    var flowType;\n    if (oauthParams.sessionToken || oauthParams.display === null) {\n      flowType = 'IFRAME';\n    } else if (oauthParams.display === 'popup') {\n      flowType = 'POPUP';\n    } else {\n      flowType = 'IMPLICIT';\n    }\n\n    // Execute the flow type\n    switch (flowType) {\n      case 'IFRAME':\n        var iframePromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        var iframeEl = oauthUtil.loadFrame(requestUrl);\n        return iframePromise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .finally(function() {\n            if (document.body.contains(iframeEl)) {\n              iframeEl.parentElement.removeChild(iframeEl);\n            }\n          });\n\n      case 'POPUP':\n        var oauthPromise; // resolves with OAuth response\n\n        // Add listener on postMessage before window creation, so\n        // postMessage isn't triggered before we're listening\n        if (oauthParams.responseMode === 'okta_post_message') {\n          if (!sdk.features.isPopupPostMessageSupported()) {\n            throw new AuthSdkError('This browser doesn\\'t have full postMessage support');\n          }\n          oauthPromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        }\n\n        // Create the window\n        var windowOptions = {\n          popupTitle: options.popupTitle\n        };\n        var windowEl = oauthUtil.loadPopup(requestUrl, windowOptions);\n\n        // The popup may be closed without receiving an OAuth response. Setup a poller to monitor the window.\n        var popupPromise = new Promise(function(resolve, reject) {\n          var closePoller = setInterval(function() {\n            if (!windowEl || windowEl.closed) {\n              clearInterval(closePoller);\n              reject(new AuthSdkError('Unable to parse OAuth flow response'));\n            }\n          }, 100);\n\n          // Proxy the OAuth promise results\n          oauthPromise\n          .then(function(res) {\n            clearInterval(closePoller);\n            resolve(res);\n          })\n          .catch(function(err) {\n            clearInterval(closePoller);\n            reject(err);\n          });\n        });\n\n        return popupPromise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .finally(function() {\n            if (windowEl && !windowEl.closed) {\n              windowEl.close();\n            }\n          });\n\n      default:\n        throw new AuthSdkError('The full page redirect flow is not supported');\n    }\n  })\n  .catch(e => {\n    if (sdk.options.pkce) {\n      PKCE.clearMeta(sdk);\n    }\n    throw e;\n  });\n}\n\nfunction getWithoutPrompt(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options'));\n  }\n  options = util.clone(options) || {};\n  util.extend(options, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, options);\n}\n\nfunction getWithPopup(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithPopup\" takes only a single set of options'));\n  }\n  options = util.clone(options) || {};\n  util.extend(options, {\n    display: 'popup',\n    responseMode: 'okta_post_message'\n  });\n  return getToken(sdk, options);\n}\n\nfunction prepareOauthParams(sdk, options) {\n  if (oauthUtil.isLoginRedirect(sdk)) {\n    return Promise.reject(new AuthSdkError(\n      'The app should not attempt to call getToken on callback. ' +\n      'Authorize flow is already in process. Use parseFromUrl() to receive tokens.'\n    ));\n  }\n\n  // clone and prepare options\n  options = util.clone(options) || {};\n\n  // build params using defaults + options\n  var oauthParams = getDefaultOAuthParams(sdk);\n  util.extend(oauthParams, options);\n\n  if (oauthParams.pkce === false) {\n    return Promise.resolve(oauthParams);\n  }\n\n  // PKCE flow\n  if (!sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n    if (!sdk.features.isHTTPS()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol.';\n    }\n    if (!sdk.features.hasTextEncoder()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\n\"TextEncoder\" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.';\n    }\n    return Promise.reject(new AuthSdkError(errorMessage));\n  }\n\n  // set default code challenge method, if none provided\n  if (!oauthParams.codeChallengeMethod) {\n    oauthParams.codeChallengeMethod = PKCE.DEFAULT_CODE_CHALLENGE_METHOD;\n  }\n\n  // responseType is forced\n  oauthParams.responseType = 'code';\n\n  return oauthUtil.getWellKnown(sdk, null)\n    .then(function(res) {\n      var methods = res['code_challenge_methods_supported'] || [];\n      if (methods.indexOf(oauthParams.codeChallengeMethod) === -1) {\n        throw new AuthSdkError('Invalid code_challenge_method');\n      }\n    })\n    .then(function() {\n      // PKCE authorization_code flow\n      var codeVerifier = PKCE.generateVerifier(oauthParams.codeVerifier);\n\n      // We will need these values after redirect when we call /token\n      var meta = {\n        codeVerifier: codeVerifier,\n        redirectUri: oauthParams.redirectUri\n      };\n      PKCE.saveMeta(sdk, meta);\n\n      return PKCE.computeChallenge(codeVerifier);\n    })\n    .then(function(codeChallenge) {\n\n      // Clone/copy the params. Set codeChallenge\n      var clonedParams = util.clone(oauthParams) || {};\n      util.extend(clonedParams, oauthParams, {\n        codeChallenge: codeChallenge,\n      });\n      return clonedParams;\n    });\n}\n\nfunction _addOAuthParamsToStorage(sdk, tokenParams, urls) {\n  const { responseType, state, nonce, scopes, clientId, ignoreSignature } = tokenParams;\n  const tokenParamsStr = JSON.stringify({\n    responseType,\n    state,\n    nonce,\n    scopes,\n    clientId,\n    urls,\n    ignoreSignature\n  });\n  // Add oauth_params to both cookies and sessionStorage for broader support\n  cookies.set(constants.REDIRECT_OAUTH_PARAMS_NAME, tokenParamsStr, null, sdk.options.cookies);\n  if (browserStorage.browserHasSessionStorage()) {\n    browserStorage.getSessionStorage().setItem(constants.REDIRECT_OAUTH_PARAMS_NAME, tokenParamsStr);\n  }\n}\n\nfunction getWithRedirect(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithRedirect\" takes only a single set of options'));\n  }\n  options = util.clone(options) || {};\n\n  return prepareOauthParams(sdk, options)\n    .then(function(oauthParams) {\n      var urls = oauthUtil.getOAuthUrls(sdk, options);\n      var requestUrl = urls.authorizeUrl + buildAuthorizeParams(oauthParams);\n\n      _addOAuthParamsToStorage(sdk, oauthParams, urls);\n\n      // Set nonce cookie for servers to validate nonce in id_token\n      cookies.set(constants.REDIRECT_NONCE_COOKIE_NAME, oauthParams.nonce, null, sdk.options.cookies);\n\n      // Set state cookie for servers to validate state\n      cookies.set(constants.REDIRECT_STATE_COOKIE_NAME, oauthParams.state, null, sdk.options.cookies);\n\n      sdk.token.getWithRedirect._setLocation(requestUrl);\n    });\n}\n\nfunction renewToken(sdk, token) {\n  if (!oauthUtil.isToken(token)) {\n    return Promise.reject(new AuthSdkError('Renew must be passed a token with ' +\n      'an array of scopes and an accessToken or idToken'));\n  }\n\n  var responseType;\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (token.accessToken) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  return getWithoutPrompt(sdk, {\n    responseType: responseType,\n    scopes: token.scopes,\n    authorizeUrl: token.authorizeUrl,\n    userinfoUrl: token.userinfoUrl,\n    issuer: token.issuer\n  })\n  .then(function(res) {\n    // Multiple tokens may have come back. Return only the token which was requested.\n    var tokens = res.tokens;\n    return token.idToken ? tokens.idToken : tokens.accessToken;\n  });\n}\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction removeSearch(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.hash);\n  } else {\n    nativeLoc.search = '';\n  }\n}\n\nfunction _getOAuthParamsStrFromStorage() {\n  // try to read OAuth params from cookie first. This is for backward compatibility\n  let oauthParamsStr = cookies.get(constants.REDIRECT_OAUTH_PARAMS_NAME);\n  cookies.delete(constants.REDIRECT_OAUTH_PARAMS_NAME);\n\n  // latest version of auth-js will store params in session storage\n  if (!oauthParamsStr && browserStorage.browserHasSessionStorage()) {\n    const storage = browserStorage.getSessionStorage();\n    oauthParamsStr = storage.getItem(constants.REDIRECT_OAUTH_PARAMS_NAME);\n    storage.removeItem(constants.REDIRECT_OAUTH_PARAMS_NAME);\n  }\n\n  return oauthParamsStr;\n}\n\nfunction parseFromUrl(sdk, options) {\n  options = options || {};\n  if (util.isString(options)) {\n    options = { url: options };\n  }\n\n  // https://openid.net/specs/openid-connect-core-1_0.html#Authentication\n  var defaultResponseMode = sdk.options.pkce ? 'query' : 'fragment';\n\n  var url = options.url;\n  var responseMode = options.responseMode || sdk.options.responseMode || defaultResponseMode;\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  var paramStr;\n\n  if (responseMode === 'query') {\n    paramStr = url ? url.substring(url.indexOf('?')) : nativeLoc.search;\n  } else {\n    paramStr = url ? url.substring(url.indexOf('#')) : nativeLoc.hash;\n  }\n\n  if (!paramStr) {\n    return Promise.reject(new AuthSdkError('Unable to parse a token from the url'));\n  }\n\n  const oauthParamsStr = _getOAuthParamsStrFromStorage();  \n  if (!oauthParamsStr) {\n    return Promise.reject(new AuthSdkError('Unable to retrieve OAuth redirect params from storage'));\n  }\n\n  try {\n    var oauthParams = JSON.parse(oauthParamsStr);\n    var urls = oauthParams.urls;\n    delete oauthParams.urls;\n  } catch(e) {\n    return Promise.reject(new AuthSdkError('Unable to parse the ' +\n    constants.REDIRECT_OAUTH_PARAMS_NAME + ' value from storage: ' + e.message));\n  }\n\n  return Promise.resolve(oauthUtil.urlParamsToObject(paramStr))\n    .then(function(res) {\n      if (!url) {\n        // Clean hash or search from the url\n        responseMode === 'query' ? removeSearch(sdk) : removeHash(sdk);\n      }\n      return handleOAuthResponse(sdk, oauthParams, res, urls);\n    });\n}\n\nasync function getUserInfo(sdk, accessTokenObject, idTokenObject) {\n  // If token objects were not passed, attempt to read from the TokenManager\n  if (!accessTokenObject) {\n    accessTokenObject = await sdk.tokenManager.get(constants.ACCESS_TOKEN_STORAGE_KEY);\n  }\n  if (!idTokenObject) {\n    idTokenObject = await sdk.tokenManager.get(constants.ID_TOKEN_STORAGE_KEY);\n  }\n\n  if (!accessTokenObject ||\n      (!oauthUtil.isToken(accessTokenObject) && !accessTokenObject.accessToken && !accessTokenObject.userinfoUrl)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an access token object'));\n  }\n\n  if (!idTokenObject ||\n    (!oauthUtil.isToken(idTokenObject) && !idTokenObject.idToken)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an ID token object'));\n  }\n\n  return http.httpRequest(sdk, {\n    url: accessTokenObject.userinfoUrl,\n    method: 'GET',\n    accessToken: accessTokenObject.accessToken\n  })\n  .then(userInfo => {\n    // Only return the userinfo response if subjects match to mitigate token substitution attacks\n    if (userInfo.sub === idTokenObject.claims.sub) {\n      return userInfo;\n    }\n    return Promise.reject(new AuthSdkError('getUserInfo request was rejected due to token mismatch'));\n  })\n  .catch(function(err) {\n    if (err.xhr && (err.xhr.status === 401 || err.xhr.status === 403)) {\n      var authenticateHeader;\n      if (err.xhr.headers && util.isFunction(err.xhr.headers.get) && err.xhr.headers.get('WWW-Authenticate')) {\n        authenticateHeader = err.xhr.headers.get('WWW-Authenticate');\n      } else if (util.isFunction(err.xhr.getResponseHeader)) {\n        authenticateHeader = err.xhr.getResponseHeader('WWW-Authenticate');\n      }\n      if (authenticateHeader) {\n        var errorMatches = authenticateHeader.match(/error=\"(.*?)\"/) || [];\n        var errorDescriptionMatches = authenticateHeader.match(/error_description=\"(.*?)\"/) || [];\n        var error = errorMatches[1];\n        var errorDescription = errorDescriptionMatches[1];\n        if (error && errorDescription) {\n          err = new OAuthError(error, errorDescription);\n        }\n      }\n    }\n    throw err;\n  });\n}\n\nmodule.exports = {\n  revokeToken: revokeToken,\n  getToken: getToken,\n  getWithoutPrompt: getWithoutPrompt,\n  getWithPopup: getWithPopup,\n  getWithRedirect: getWithRedirect,\n  parseFromUrl: parseFromUrl,\n  decodeToken: decodeToken,\n  renewToken: renewToken,\n  getUserInfo: getUserInfo,\n  verifyToken: verifyToken,\n  handleOAuthResponse: handleOAuthResponse,\n  prepareOauthParams: prepareOauthParams,\n  _addOAuthParamsToStorage, // export for testing purpose\n  _getOAuthParamsStrFromStorage // export for testing purpose\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/token.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* global crypto, Uint8Array, TextEncoder */\nvar util = require('./util');\n\nfunction getOidcHash(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var intBuffer = new Uint8Array(arrayBuffer);\n    var firstHalf = intBuffer.slice(0, 16);\n    var hash = String.fromCharCode.apply(null, firstHalf);\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\nfunction verifyToken(idToken, key) {\n  key = util.clone(key);\n\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: { name: 'SHA-256' }\n  };\n  var extractable = true;\n  var usages = ['verify'];\n\n  // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n  delete key.use;\n\n  return crypto.subtle.importKey(\n    format,\n    key,\n    algo,\n    extractable,\n    usages\n  )\n  .then(function(cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = util.stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = util.base64UrlDecode(jwt[2]);\n    var signature = util.stringToBuffer(b64Signature);\n\n    return crypto.subtle.verify(\n      algo,\n      cryptoKey,\n      signature,\n      payload\n    );\n  });\n}\n\nmodule.exports = {\n  getOidcHash: getOidcHash,\n  verifyToken: verifyToken\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/crypto.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction OAuthError(errorCode, summary) {\n  this.name = 'OAuthError';\n  this.message = summary;\n\n  this.errorCode = errorCode;\n  this.errorSummary = summary;\n}\nOAuthError.prototype = new Error();\n\nmodule.exports = OAuthError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/OAuthError.js","/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global crypto */\n /* eslint-disable complexity, max-statements */\nvar AuthSdkError  = require('./errors/AuthSdkError');\nvar http          = require('./http');\nvar util          = require('./util');\n\n// Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\nvar MIN_VERIFIER_LENGTH = 43;\nvar MAX_VERIFIER_LENGTH = 128;\nvar DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nfunction dec2hex (dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  crypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix) {\n  var verifier = prefix || '';\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction getStorage(sdk, options) {\n  options = util.extend({}, sdk.options.cookies, options);\n  return sdk.options.storageUtil.getPKCEStorage(options);\n}\n\nfunction saveMeta(sdk, meta) {\n  // There must be only one PKCE flow executing at a time.\n  // Before saving meta, check to see if a codeVerfier is already stored.\n  var storage = getStorage(sdk, { preferLocalStorage: true });\n  var obj = storage.getStorage();\n  if (obj.codeVerifier) {\n    // eslint-disable-next-line max-len\n    util.warn('saveMeta: PKCE codeVerifier exists in localStorage. This may indicate an auth flow is already in progress.');\n  }\n\n  storage = getStorage(sdk);\n  obj = storage.getStorage();\n  if (obj.codeVerifier) {\n    // eslint-disable-next-line max-len\n    util.warn('saveMeta: PKCE codeVerifier exists in sessionStorage. This may indicate an auth flow is already in progress.');\n  }\n\n  // clear all PKCE meta storage before saving.\n  clearMeta(sdk);\n\n  storage.setStorage(meta);\n}\n\nfunction loadMeta(sdk) {\n  // Try reading from localStorage first.\n  // This is for compatibility with older versions of the signin widget. OKTA-304806\n  var storage = getStorage(sdk, { preferLocalStorage: true });\n  var obj = storage.getStorage();\n  // Verify the Meta\n  if (!obj.codeVerifier) {\n    // If meta is not valid, read from sessionStorage. This is expected for current versions of the SDK.\n    storage = getStorage(sdk, { preferLocalStorage: false });\n    obj = storage.getStorage();\n    if (!obj.codeVerifier) {\n      // If meta is not valid, throw an exception to avoid misleading server-side error\n      // The most likely cause of this error is trying to handle a callback twice\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.', null);\n    }\n  }\n  return obj;\n}\n\nfunction clearMeta(sdk) {\n  // clear sessionStorage (current version)\n  var storage = getStorage(sdk);\n  storage.clearStorage();\n  // clear localStorage (previous versions, signin widget)\n  storage = getStorage(sdk, { preferLocalStorage: true });\n  storage.clearStorage();\n}\n\n/* global Uint8Array, TextEncoder */\nfunction computeChallenge(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\n\nfunction validateOptions(oauthOptions) {\n  // Quick validation\n  if (!oauthOptions.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!oauthOptions.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!oauthOptions.authorizationCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!oauthOptions.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(options) {\n  // Convert options to OAuth params\n  var params = util.removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': 'authorization_code',\n    'code': options.authorizationCode,\n    'code_verifier': options.codeVerifier\n  });\n  // Encode as URL string\n  return util.toQueryParams(params).slice(1);\n}\n\n// exchange authorization code for an access token\nfunction getToken(sdk, oauthOptions, urls) {\n  validateOptions(oauthOptions);\n  var data = getPostData(oauthOptions);\n\n  return http.httpRequest(sdk, {\n    url: urls.tokenUrl,\n    method: 'POST',\n    args: data,\n    withCredentials: false,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nmodule.exports = {\n  DEFAULT_CODE_CHALLENGE_METHOD: DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier: generateVerifier,\n  clearMeta: clearMeta,\n  saveMeta: saveMeta,\n  loadMeta: loadMeta,\n  computeChallenge: computeChallenge,\n  getToken: getToken\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pkce.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global localStorage, sessionStorage */\n/* eslint complexity:[0,8] max-statements:[0,21] */\nvar util = require('./util');\nvar AuthSdkError = require('./errors/AuthSdkError');\nvar storageUtil = require('./browser/browserStorage');\nvar constants = require('./constants');\nvar storageBuilder = require('./storageBuilder');\nvar SdkClock = require('./clock');\nvar oauthUtil = require('./oauthUtil');\n\nvar DEFAULT_OPTIONS = {\n  autoRenew: true,\n  storage: 'localStorage',\n  expireEarlySeconds: 30\n};\n\nfunction getExpireTime(tokenMgmtRef, token) {\n  var expireTime = token.expiresAt - tokenMgmtRef.options.expireEarlySeconds;\n  return expireTime;\n}\n\nfunction hasExpired(tokenMgmtRef, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  return expireTime <= tokenMgmtRef.clock.now();\n}\n\nfunction emitExpired(tokenMgmtRef, key, token) {\n  tokenMgmtRef.emitter.emit('expired', key, token);\n}\n\nfunction emitError(tokenMgmtRef, error) {\n  tokenMgmtRef.emitter.emit('error', error);\n}\n\nfunction clearExpireEventTimeout(tokenMgmtRef, key) {\n  clearTimeout(tokenMgmtRef.expireTimeouts[key]);\n  delete tokenMgmtRef.expireTimeouts[key];\n\n  // Remove the renew promise (if it exists)\n  delete tokenMgmtRef.renewPromise[key];\n}\n\nfunction clearExpireEventTimeoutAll(tokenMgmtRef) {\n  var expireTimeouts = tokenMgmtRef.expireTimeouts;\n  for (var key in expireTimeouts) {\n    if (!expireTimeouts.hasOwnProperty(key)) {\n      continue;\n    }\n    clearExpireEventTimeout(tokenMgmtRef, key);\n  }\n}\n\nfunction setExpireEventTimeout(sdk, tokenMgmtRef, key, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  var expireEventWait = Math.max(expireTime - tokenMgmtRef.clock.now(), 0) * 1000;\n\n  // Clear any existing timeout\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  var expireEventTimeout = setTimeout(function() {\n    emitExpired(tokenMgmtRef, key, token);\n  }, expireEventWait);\n\n  // Add a new timeout\n  tokenMgmtRef.expireTimeouts[key] = expireEventTimeout;\n}\n\nfunction setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage) {\n  try {\n    var tokenStorage = storage.getStorage();\n  } catch(e) {\n    // Any errors thrown on instantiation will not be caught,\n    // because there are no listeners yet\n    emitError(tokenMgmtRef, e);\n    return;\n  }\n\n  for(var key in tokenStorage) {\n    if (!tokenStorage.hasOwnProperty(key)) {\n      continue;\n    }\n    var token = tokenStorage[key];\n    setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n  }\n}\n\nfunction add(sdk, tokenMgmtRef, storage, key, token) {\n  var tokenStorage = storage.getStorage();\n  if (!util.isObject(token) ||\n      !token.scopes ||\n      (!token.expiresAt && token.expiresAt !== 0) ||\n      (!token.idToken && !token.accessToken)) {\n    throw new AuthSdkError('Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties');\n  }\n  tokenStorage[key] = token;\n  storage.setStorage(tokenStorage);\n  setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n}\n\nfunction get(storage, key) {\n  var tokenStorage = storage.getStorage();\n  return tokenStorage[key];\n}\n\nfunction getAsync(sdk, tokenMgmtRef, storage, key) {\n  return new Promise(function(resolve, reject) {\n    if (tokenMgmtRef.options.autoRenew && oauthUtil.isLoginRedirect(sdk)) {\n      return reject(new AuthSdkError(\n        'The app should not attempt to call authorize API on callback. ' + \n        'Authorize flow is already in process. Use parseFromUrl() to receive tokens.'\n      ));\n    }\n\n    var token = get(storage, key);\n    if (!token || !hasExpired(tokenMgmtRef, token)) {\n      return resolve(token);\n    }\n\n    var tokenPromise = tokenMgmtRef.options.autoRenew\n      ? renew(sdk, tokenMgmtRef, storage, key)\n      : remove(tokenMgmtRef, storage, key);\n\n    return resolve(tokenPromise);\n  });\n}\n\nfunction remove(tokenMgmtRef, storage, key) {\n  // Clear any listener for this token\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Remove it from storage\n  var tokenStorage = storage.getStorage();\n  delete tokenStorage[key];\n  storage.setStorage(tokenStorage);\n}\n\nfunction renew(sdk, tokenMgmtRef, storage, key) {\n  // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n  var existingPromise = tokenMgmtRef.renewPromise[key];\n  if (existingPromise) {\n    return existingPromise;\n  }\n\n  try {\n    var token = get(storage, key);\n    if (!token) {\n      throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  }\n\n  // Remove existing autoRenew timeout for this key\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Store the renew promise state, to avoid renewing again\n  tokenMgmtRef.renewPromise[key] = sdk.token.renew(token)\n    .then(function(freshToken) {\n      var oldToken = get(storage, key);\n      if (!oldToken) {\n        // It is possible to enter a state where the tokens have been cleared\n        // after a renewal request was triggered. To ensure we do not store a\n        // renewed token, we verify the promise key doesn't exist and return.\n        return;\n      }\n      add(sdk, tokenMgmtRef, storage, key, freshToken);\n      tokenMgmtRef.emitter.emit('renewed', key, freshToken, oldToken);\n      return freshToken;\n    })\n    .catch(function(err) {\n      if (err.name === 'OAuthError' || err.name === 'AuthSdkError') {\n        remove(tokenMgmtRef, storage, key);\n        err.tokenKey = key;\n        err.accessToken = !!token.accessToken;\n        emitError(tokenMgmtRef, err);\n      }\n      throw err;\n    })\n    .finally(function() {\n      // Remove existing promise key\n      delete tokenMgmtRef.renewPromise[key];\n    });\n\n  return tokenMgmtRef.renewPromise[key];\n}\n\nfunction clear(tokenMgmtRef, storage) {\n  clearExpireEventTimeoutAll(tokenMgmtRef);\n  storage.clearStorage();\n}\n\nfunction TokenManager(sdk, options) {\n  options = util.extend({}, DEFAULT_OPTIONS, util.removeNils(options));\n\n  if (options.storage === 'localStorage' && !storageUtil.browserHasLocalStorage()) {\n    util.warn('This browser doesn\\'t support localStorage. Switching to sessionStorage.');\n    options.storage = 'sessionStorage';\n  }\n\n  if (options.storage === 'sessionStorage' && !storageUtil.browserHasSessionStorage()) {\n    util.warn('This browser doesn\\'t support sessionStorage. Switching to cookie-based storage.');\n    options.storage = 'cookie';\n  }\n\n  var storageProvider;\n  if (typeof options.storage === 'object') {\n    // A custom storage provider must implement getItem(key) and setItem(key, val)\n    storageProvider = options.storage;\n  } else {\n    switch(options.storage) {\n      case 'localStorage':\n        storageProvider = localStorage;\n        break;\n      case 'sessionStorage':\n        storageProvider = sessionStorage;\n        break;\n      case 'cookie':\n        // Implement customized cookie storage to make sure each token is stored separatedly in cookie\n        storageProvider = (function(options) {\n          var storage = storageUtil.getCookieStorage(options);\n          return {\n            getItem: function(key) {\n              var data = storage.getItem();\n              var value = {};\n              Object.keys(data).forEach(k => {\n                if (k.indexOf(key) === 0) {\n                  value[k.replace(`${key}_`, '')] = JSON.parse(data[k]);\n                }\n              });\n              return JSON.stringify(value);\n            },\n            setItem: function(key, value) {\n              var existingValues = JSON.parse(this.getItem(key));\n              value = JSON.parse(value);\n              // Set key-value pairs from input to cookies\n              Object.keys(value).forEach(k => {\n                var storageKey = key + '_' + k;\n                var valueToStore = JSON.stringify(value[k]);\n                storage.setItem(storageKey, valueToStore);\n                delete existingValues[k];\n              });\n              // Delete unmatched keys from existing cookies\n              Object.keys(existingValues).forEach(k => {\n                storageUtil.storage.delete(key + '_' + k);\n              });\n            }\n          };\n        }(sdk.options.cookies));\n        break;\n      case 'memory':\n        storageProvider = storageUtil.getInMemoryStorage();\n        break;\n      default:\n        throw new AuthSdkError('Unrecognized storage option');\n    }\n  }\n  var storageKey = options.storageKey || constants.TOKEN_STORAGE_NAME;\n  var storage = storageBuilder(storageProvider, storageKey);\n  var clock = SdkClock.create(sdk, options);\n  var tokenMgmtRef = {\n    clock: clock,\n    options: options,\n    emitter: sdk.emitter,\n    expireTimeouts: {},\n    renewPromise: {}\n  };\n\n  this.add = util.bind(add, this, sdk, tokenMgmtRef, storage);\n  this.get = util.bind(getAsync, this, sdk, tokenMgmtRef, storage);\n  this.remove = util.bind(remove, this, tokenMgmtRef, storage);\n  this.clear = util.bind(clear, this, tokenMgmtRef, storage);\n  this.renew = util.bind(renew, this, sdk, tokenMgmtRef, storage);\n  this.on = util.bind(tokenMgmtRef.emitter.on, tokenMgmtRef.emitter);\n  this.off = util.bind(tokenMgmtRef.emitter.off, tokenMgmtRef.emitter);\n\n  setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage);\n}\n\nmodule.exports = TokenManager;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/TokenManager.js","var util = require('./util');\n\nfunction SdkClock(localOffset) {\n  // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n  this.localOffset = parseInt(localOffset || 0);\n}\n\nutil.extend(SdkClock.prototype, {\n  // Return the current time (in seconds)\n  now: function() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n});\n\n// factory method. Create an instance of a clock from current context.\nSdkClock.create = function(/* sdk, options */) {\n  // TODO: calculate localOffset\n  var localOffset = 0;\n  return new SdkClock(localOffset);\n};\n\nmodule.exports = SdkClock;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/clock.js","var util = require('./util');\n\n// Implements a queue for synchronous or asynchronous methods\n// Methods will be wrapped in a promise and execute sequentially\n// This can be used to prevent concurrent calls to a single method or a set of methods\nfunction PromiseQueue() {\n  this.queue = [];\n  this.running = false;\n}\n\nutil.extend(PromiseQueue.prototype, {\n  // Returns a promise\n  // If the method is synchronous, it will resolve when the method completes\n  // If the method returns a promise, it will resolve (or reject) with the value from the method's promise\n  push: function(/* method, thisObject, args... */) {\n    var args = Array.prototype.slice.call(arguments);\n    var method = args[0];\n    var thisObject = args[1];\n    args = args.slice(2);\n    return new Promise((resolve, reject) => {\n      this.queue.push({\n        method,\n        thisObject,\n        args,\n        resolve,\n        reject\n      });\n      this.run();\n    });\n  },\n  run: function() {\n    if (this.running) {\n      return;\n    }\n    if (this.queue.length === 0) {\n      return;\n    }\n    this.running = true;\n    var queueItem = this.queue.shift();\n    var res = queueItem.method.apply(queueItem.thisObject, queueItem.args);\n    if (util.isPromise(res)) {\n      res.then(queueItem.resolve, queueItem.reject).finally(() => {\n        this.running = false;\n        this.run();\n      });\n    } else {\n      queueItem.resolve(res);\n      this.running = false;\n      this.run();\n    }\n  }\n});\n\nmodule.exports = PromiseQueue;\n\n\n// WEBPACK FOOTER //\n// ./lib/PromiseQueue.js"],"sourceRoot":""},"metadata":{},"sourceType":"script"}